{
  "version": 3,
  "sources": ["../../number-string/dist/app.js"],
  "sourcesContent": ["\"use strict\";\nexports.__esModule = true;\nexports.toClosest = exports.toMoney = exports.toClean = exports.toNumber = exports.toNumberString = void 0;\n/**\n * Escape special RegExp characters in string\n */\nfunction regexpEscape(s) {\n    return s.replace(/[-[\\]/{}()*+?.\\\\^$]/g, \"\\\\$&\");\n}\n/**\n * Convert value to number string\n */\nfunction toNumberString(value, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.decimalMark, decimalMark = _c === void 0 ? \".\" : _c;\n    if (typeof value === \"number\") {\n        return value.toString();\n    }\n    if (typeof value !== \"string\") {\n        return \"NaN\";\n    }\n    var regexpDecimalMark = regexpEscape(decimalMark);\n    var n = value.trim();\n    var negative = n.match(/^\\(.*\\)$|^-/); //negative if matches '(...)' or '-...'\n    var getNumberRegexp = new RegExp(\"[^\\\\d\" + regexpDecimalMark + \"]|\" + regexpDecimalMark + \"(?=.*\" + regexpDecimalMark + \")|^\\\\D*\" + regexpDecimalMark + \"\\\\D*$\", \"g\");\n    n = n.replace(getNumberRegexp, \"\").replace(decimalMark, \".\"); //remove all except digits and last dot\n    if (n === \"\") {\n        n = \"NaN\";\n    }\n    else if (negative) {\n        n = \"-\" + n;\n    }\n    return n;\n}\nexports.toNumberString = toNumberString;\n/**\n * Convert value to number\n */\nfunction toNumber(value, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.decimalMark, decimalMark = _c === void 0 ? \".\" : _c;\n    var s = toNumberString(value, { decimalMark: decimalMark });\n    if (s === \"NaN\") {\n        return NaN;\n    }\n    return Number(s);\n}\nexports.toNumber = toNumber;\n/**\n * Like `toFixed` but removes trailing zeros\n */\nfunction toClean(value, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.decimalMark, decimalMark = _c === void 0 ? \".\" : _c, _d = _b.thousandSeperator, thousandSeperator = _d === void 0 ? null : _d, _e = _b.thousandSeparator, thousandSeparator = _e === void 0 ? \",\" : _e, _f = _b.maxPrecision, maxPrecision = _f === void 0 ? 100 : _f, _g = _b.minPrecision, minPrecision = _g === void 0 ? 0 : _g;\n    if (thousandSeperator) {\n        thousandSeparator = thousandSeperator;\n        console.error(\"`thousandSeperator` is deprecated use `thousandSeparator` instead.\");\n    }\n    value = toNumberString(value);\n    if (value === \"NaN\") {\n        return \"NaN\";\n    }\n    if (maxPrecision < 0) {\n        throw new Error(\"maxPrecision must be >= 0\");\n    }\n    if (minPrecision < 0) {\n        throw new Error(\"minPrecision must be >= 0\");\n    }\n    if (maxPrecision > 100) {\n        throw new Error(\"maxPrecision must be <= 100\");\n    }\n    if (minPrecision > 100) {\n        throw new Error(\"minPrecision must be <= 100\");\n    }\n    if (minPrecision > maxPrecision) {\n        throw new Error(\"minPrecision must be <= maxPrecision\");\n    }\n    var s = value;\n    // limit to maxPrecision\n    var dotIndex = s.lastIndexOf(\".\");\n    if (dotIndex > -1) {\n        var integer = (dotIndex === 0 ? \"0\" : s.slice(0, dotIndex));\n        var fraction = s.slice(dotIndex + 1, dotIndex + 1 + maxPrecision);\n        var remainder = s.slice(dotIndex + 1 + maxPrecision);\n        if (remainder.length > 0 && +remainder[0] > 4) {\n            // round up\n            var i = (BigInt(integer + fraction) + BigInt(1)).toString(10);\n            integer = i.slice(0, i.length - fraction.length);\n            fraction = i.slice(i.length - fraction.length);\n        }\n        s = integer + decimalMark + fraction;\n    }\n    else {\n        s += decimalMark;\n    }\n    // remove trailing 0s\n    var rmLen = 0;\n    for (var i = s.length - 1; i >= 0; i--) {\n        if (s[i] !== \"0\") {\n            break;\n        }\n        rmLen++;\n    }\n    s = s.slice(0, s.length - rmLen);\n    // limit to minPrecision\n    if (minPrecision > 0) {\n        var numZeros = void 0;\n        if (dotIndex > -1) {\n            numZeros = minPrecision - (s.length - dotIndex - 1);\n        }\n        else {\n            numZeros = minPrecision;\n        }\n        for (var i = 0; i < numZeros; i++) {\n            s += \"0\";\n        }\n    }\n    var regexpDecimalMark = regexpEscape(decimalMark);\n    var thousandSeparatorRegexp = new RegExp(\"\\\\d(?=(\\\\d{3})+\" + regexpDecimalMark + \")\", \"g\");\n    var trimRegexp = new RegExp(regexpDecimalMark + \"$\");\n    s = s.replace(thousandSeparatorRegexp, \"$&\" + thousandSeparator).replace(trimRegexp, \"\");\n    return s;\n}\nexports.toClean = toClean;\n/**\n * Convert string or number to currency string\n * modified from http://stackoverflow.com/a/149099/806777\\\n */\nfunction toMoney(value, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.decimalMark, decimalMark = _c === void 0 ? \".\" : _c, _d = _b.thousandSeperator, thousandSeperator = _d === void 0 ? null : _d, _e = _b.thousandSeparator, thousandSeparator = _e === void 0 ? \",\" : _e, _f = _b.maxPrecision, maxPrecision = _f === void 0 ? 2 : _f, _g = _b.minPrecision, minPrecision = _g === void 0 ? 2 : _g, _h = _b.symbol, symbol = _h === void 0 ? \"$\" : _h, _j = _b.symbolBehind, symbolBehind = _j === void 0 ? false : _j, _k = _b.useParens, useParens = _k === void 0 ? true : _k;\n    if (thousandSeperator) {\n        thousandSeparator = thousandSeperator;\n        console.error(\"`thousandSeperator` is deprecated use `thousandSeparator` instead.\");\n    }\n    var n = (typeof value === \"number\"\n        ? value\n        : toNumber(value, {\n            decimalMark: decimalMark\n        }));\n    var s = toNumberString(value, {\n        decimalMark: decimalMark\n    });\n    if (isNaN(n)) {\n        return \"NaN\";\n    }\n    if (n === Infinity) {\n        return \"Infinity\";\n    }\n    if (n === -Infinity) {\n        return (useParens ? \"(Infinity)\" : \"-Infinity\");\n    }\n    if (maxPrecision < 2 && typeof arguments[1].minPrecision === \"undefined\") {\n        minPrecision = maxPrecision;\n    }\n    if (minPrecision > 2 && typeof arguments[1].maxPrecision === \"undefined\") {\n        maxPrecision = minPrecision;\n    }\n    var negative = n < 0;\n    s = toClean(negative ? s.slice(1) : s, {\n        decimalMark: decimalMark,\n        thousandSeparator: thousandSeparator,\n        maxPrecision: maxPrecision,\n        minPrecision: minPrecision\n    });\n    s = (symbolBehind ? s + \" \" + symbol : symbol + s);\n    if (negative) {\n        s = (useParens ? \"(\" + s + \")\" : \"-\" + s);\n    }\n    return s;\n}\nexports.toMoney = toMoney;\n/**\n * Round number to closest multiple of number\n */\nfunction toClosest(value, roundTo) {\n    if (roundTo === void 0) { roundTo = 1; }\n    if (typeof value !== \"number\") {\n        value = toNumber(value);\n    }\n    if (isNaN(value)) {\n        return NaN;\n    }\n    if (value === Infinity || value === -Infinity) {\n        return value;\n    }\n    if (typeof roundTo !== \"number\") {\n        roundTo = toNumber(roundTo);\n    }\n    if (isNaN(roundTo)) {\n        throw Error(\"roundTo must be a number\");\n    }\n    if (roundTo === Infinity || roundTo === -Infinity) {\n        return roundTo;\n    }\n    var n = Math.round(value / roundTo) * roundTo;\n    var maxPrecision = 0;\n    while (!Number.isInteger(roundTo)) {\n        roundTo *= 10;\n        maxPrecision++;\n    }\n    n = +n.toFixed(maxPrecision);\n    return n;\n}\nexports.toClosest = toClosest;\n"],
  "mappings": "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",
  "names": []
}
