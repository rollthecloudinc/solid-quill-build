{
  "version": 3,
  "sources": ["../../@rollthecloudinc/token/fesm2022/rollthecloudinc-token.mjs"],
  "sourcesContent": ["import * as i0 from '@angular/core';\nimport { NgModule, Injectable } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AttributeTypes } from '@rollthecloudinc/attributes';\nclass TokenModule {\n  static {\n    this.\u0275fac = function TokenModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || TokenModule)();\n    };\n  }\n  static {\n    this.\u0275mod = /* @__PURE__ */i0.\u0275\u0275defineNgModule({\n      type: TokenModule\n    });\n  }\n  static {\n    this.\u0275inj = /* @__PURE__ */i0.\u0275\u0275defineInjector({\n      imports: [CommonModule]\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(TokenModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule]\n    }]\n  }], null, null);\n})();\nclass TokenizerService {\n  constructor() {}\n  generateTokens(settings) {\n    const tokens = new Map();\n    this.attributeTokens(settings, tokens, '', 0);\n    return tokens;\n  }\n  generateGenericTokens(obj, prefix = '') {\n    const tokens = new Map();\n    this.genericTokens(obj, tokens, prefix, 0);\n    return tokens;\n  }\n  attributeTokens(settings, tokens, prefix, level) {\n    settings.forEach((s, i) => {\n      if (s.name !== 'widget') {\n        for (const prop in s) {\n          if (s.type === AttributeTypes.Complex || prop === 'attributes' && s.attributes && s.attributes.length > 0) {\n            if (s.type === AttributeTypes.Complex) {\n              this.attributeTokens(s.attributes, tokens, `${prefix}`, level + 1);\n            } else {\n              this.attributeTokens(s.attributes, tokens, `${prefix}.${s.name}`, level + 1);\n            }\n          } else if (prop !== 'attributes') {\n            if (prop === s.name) {\n              tokens.set(`${prefix}.${prop}`, s[prop]);\n            } else {\n              tokens.set(`${prefix}.${s.name}.${prop}`, s[prop]);\n            }\n          }\n        }\n      }\n    });\n  }\n  genericTokens(obj, tokens, prefix, level) {\n    for (const prop in obj) {\n      const type = typeof obj[prop];\n      if (type !== 'object') {\n        tokens.set(`${prefix}.${prop}`, obj[prop]);\n      } else if (Array.isArray(obj[prop]) && prop === 'attributes') {\n        this.attributeTokens(obj[prop], tokens, `${prefix}.${prop}`, level + 1);\n      } else if (Array.isArray(obj[prop])) {\n        var len = obj[prop].length;\n        for (let i = 0; i < len; i++) {\n          this.genericTokens(obj[prop][i], tokens, `${prefix}.${prop}.${i}`, level + 1);\n        }\n      } else {\n        this.genericTokens(obj[prop], tokens, `${prefix}.${prop}`, level + 1);\n      }\n    }\n  }\n  replaceTokens(v, tokens) {\n    if (tokens) {\n      tokens.forEach((value, key) => {\n        v = v.replace(`[${key}]`, `${value}`);\n      });\n    }\n    return v;\n  }\n  matchTokens(v, tokens) {\n    const matched = [];\n    const len = tokens.length;\n    for (let i = 0; i < len; i++) {\n      if (v.indexOf(`[${tokens[i]}]`) > -1) {\n        matched.push(tokens[i]);\n      }\n    }\n    return matched;\n  }\n  discoverTokens(v, full = false) {\n    const m = v.match(/(\\[(?:\\[??[^\\[]*?\\]))/g);\n    if (m === null) {\n      return [];\n    }\n    const matches = m.reduce((p, c) => {\n      if (c.indexOf(' ') !== -1 || c.indexOf('.') === -1) {\n        return p;\n      }\n      // const [ firstPiece ] = c.indexOf('.') === 1 ? c.substr(2, c.length - 1).split('.') : c.substr(1, c.length - 2).split('.');\n      const [firstPiece] = c.indexOf('.') === 1 ? ['.'] : c.substr(1, c.length - 2).split('.');\n      if (p.findIndex(p => p === firstPiece) !== -1) {\n        return p;\n      }\n      return [...p, full ? c.substr(1, c.length - 2) : firstPiece];\n    }, []);\n    return matches;\n  }\n  static {\n    this.\u0275fac = function TokenizerService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || TokenizerService)();\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: TokenizerService,\n      factory: TokenizerService.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(TokenizerService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [], null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TokenModule, TokenizerService };\n"],
  "mappings": "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",
  "names": ["p"]
}
