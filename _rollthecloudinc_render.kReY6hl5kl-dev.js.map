{
  "version": 3,
  "sources": ["../../@rollthecloudinc/render/fesm2022/rollthecloudinc-render.mjs"],
  "sourcesContent": ["import * as i6 from '@angular/common';\nimport { isPlatformServer, isPlatformBrowser, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Directive, DOCUMENT, PLATFORM_ID, forwardRef, ViewChild, HostBinding, Input, Inject, Component, EventEmitter, ViewChildren, Output, Injectable, NgModule } from '@angular/core';\nimport * as i2 from '@angular/forms';\nimport { Validators, NG_VALUE_ACCESSOR, NG_ASYNC_VALIDATORS, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport * as i11 from '@rollthecloudinc/utils';\nimport { UtilsModule } from '@rollthecloudinc/utils';\nimport * as i10 from '@rollthecloudinc/layout';\nimport { GridLayoutComponent, LayoutModule } from '@rollthecloudinc/layout';\nimport * as i17 from '@rollthecloudinc/media';\nimport { MEDIA_SETTINGS } from '@rollthecloudinc/media';\nimport * as i9 from '@rollthecloudinc/context';\nimport { InlineContext } from '@rollthecloudinc/context';\nimport * as i1 from '@rollthecloudinc/panels';\nimport { PanelPage, PanelPageForm, PanelsModule } from '@rollthecloudinc/panels';\nimport { Subject, BehaviorSubject, combineLatest, forkJoin, of, iif, Observable, timer } from 'rxjs';\nimport { map, tap, delay, switchMap, defaultIfEmpty, filter, startWith, debounceTime, take, distinctUntilChanged, skip, bufferTime, takeUntil, concatMap, catchError, finalize } from 'rxjs/operators';\nimport * as uuid from 'uuid';\nimport * as i16 from '@rollthecloudinc/sheath';\nimport { isSelectorValid, ClassClassification } from '@rollthecloudinc/sheath';\nimport { camelize } from 'inflected';\nimport merge from 'deepmerge-json';\nimport * as i3 from '@rollthecloudinc/content';\nimport * as i4 from '@rollthecloudinc/dparam';\nimport * as i5 from '@ngrx/data';\nimport * as i8 from '@ngrx/store';\nimport * as i12 from '@angular/common/http';\nimport * as i13 from '@rollthecloudinc/attributes';\nimport * as i14 from '@rollthecloudinc/crud';\nimport * as i15 from '@rollthecloudinc/refinery';\nimport * as i18 from '@rollthecloudinc/auth';\nimport * as i19 from '@rollthecloudinc/detour';\nimport { InteractionHandlerPlugin } from '@rollthecloudinc/detour';\nimport * as i1$1 from '@angular/material/dialog';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport * as i2$1 from '@angular/material/button';\nimport { MaterialModule } from '@rollthecloudinc/material';\nfunction RenderPaneComponent_ng_template_2_Template(rf, ctx) {}\nfunction RenderPaneComponent_classifieds_ui_panel_page_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275element(0, \"classifieds-ui-panel-page\", 4);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.\u0275\u0275nextContext();\n    i0.\u0275\u0275property(\"panelPage\", ctx_r0.panelPage)(\"nested\", true)(\"contexts\", ctx_r0.contexts)(\"css\", ctx_r0.filteredCss)(\"listeners\", ctx_r0.filteredListeners)(\"ancestory\", ctx_r0.ancestoryWithSelf);\n  }\n}\nfunction RenderPaneComponent_classifieds_ui_panel_page_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275element(0, \"classifieds-ui-panel-page\", 5);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.\u0275\u0275nextContext();\n    i0.\u0275\u0275property(\"id\", ctx_r0.linkedPageId)(\"nested\", true)(\"contexts\", ctx_r0.contexts)(\"ancestory\", ctx_r0.ancestoryWithSelf);\n  }\n}\nfunction RenderPaneComponent_classifieds_ui_panel_page_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275element(0, \"classifieds-ui-panel-page\", 4);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.\u0275\u0275nextContext();\n    i0.\u0275\u0275property(\"panelPage\", ctx_r0.embedPanel)(\"nested\", true)(\"contexts\", ctx_r0.contexts)(\"css\", ctx_r0.filteredCss)(\"listeners\", ctx_r0.filteredListeners)(\"ancestory\", ctx_r0.ancestoryWithSelf);\n  }\n}\nconst _c0 = [\"panes\"];\nfunction RenderPanelComponent_ng_template_3_Template(rf, ctx) {}\nfunction RenderPanelComponent_ng_container_4_ng_container_2_classifieds_ui_render_pane_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275element(0, \"classifieds-ui-render-pane\", 8);\n  }\n  if (rf & 2) {\n    const pane_r1 = ctx.$implicit;\n    const j_r2 = ctx.index;\n    const ctx_r2 = i0.\u0275\u0275nextContext(3);\n    const panes_r4 = i0.\u0275\u0275reference(1);\n    i0.\u0275\u0275property(\"formControlName\", j_r2)(\"pluginName\", pane_r1.contentPlugin)(\"settings\", pane_r1.settings)(\"name\", pane_r1.name)(\"label\", pane_r1.label)(\"originPane\", ctx_r2.panel.panes[ctx_r2.originMappings[j_r2]])(\"contexts\", pane_r1.contexts)(\"displayType\", ctx_r2.displayType)(\"resolvedContext\", pane_r1.resolvedContext)(\"indexPosition\", j_r2)(\"css\", ctx_r2.filteredCss)(\"listeners\", ctx_r2.filteredListeners)(\"ancestory\", ctx_r2.ancestoryWithSelf$.value)(\"panes\", panes_r4)(\"originPanes\", ctx_r2.originPanes);\n  }\n}\nfunction RenderPanelComponent_ng_container_4_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementContainerStart(0)(1)(2, 6);\n    i0.\u0275\u0275template(3, RenderPanelComponent_ng_container_4_ng_container_2_classifieds_ui_render_pane_3_Template, 1, 15, \"classifieds-ui-render-pane\", 7);\n    i0.\u0275\u0275elementContainerEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.\u0275\u0275nextContext(2);\n    i0.\u0275\u0275advance(3);\n    i0.\u0275\u0275property(\"ngForOf\", ctx_r2.resolvedPanes);\n  }\n}\nfunction RenderPanelComponent_ng_container_4_ng_container_3_classifieds_ui_render_pane_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275element(0, \"classifieds-ui-render-pane\", 10);\n  }\n  if (rf & 2) {\n    const pane_r5 = ctx.$implicit;\n    const j_r6 = ctx.index;\n    const ctx_r2 = i0.\u0275\u0275nextContext(3);\n    const panes_r4 = i0.\u0275\u0275reference(1);\n    i0.\u0275\u0275property(\"pluginName\", pane_r5.contentPlugin)(\"settings\", pane_r5.settings)(\"name\", pane_r5.name)(\"label\", pane_r5.label)(\"originPane\", ctx_r2.panel.panes[ctx_r2.originMappings[j_r6]])(\"contexts\", pane_r5.contexts)(\"linkedPageId\", pane_r5.linkedPageId)(\"displayType\", ctx_r2.displayType)(\"resolvedContext\", pane_r5.resolvedContext)(\"indexPosition\", j_r6)(\"css\", ctx_r2.filteredCss)(\"listeners\", ctx_r2.filteredListeners)(\"ancestory\", ctx_r2.ancestoryWithSelf$.value)(\"panes\", panes_r4)(\"originPanes\", ctx_r2.originPanes);\n  }\n}\nfunction RenderPanelComponent_ng_container_4_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementContainerStart(0);\n    i0.\u0275\u0275template(1, RenderPanelComponent_ng_container_4_ng_container_3_classifieds_ui_render_pane_1_Template, 1, 15, \"classifieds-ui-render-pane\", 9);\n    i0.\u0275\u0275elementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.\u0275\u0275nextContext(2);\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275property(\"ngForOf\", ctx_r2.resolvedPanes);\n  }\n}\nfunction RenderPanelComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementContainerStart(0)(1, 4);\n    i0.\u0275\u0275template(2, RenderPanelComponent_ng_container_4_ng_container_2_Template, 4, 1, \"ng-container\", 5)(3, RenderPanelComponent_ng_container_4_ng_container_3_Template, 2, 1, \"ng-container\", 5);\n    i0.\u0275\u0275elementContainerEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.\u0275\u0275nextContext();\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275property(\"ngSwitch\", ctx_r2.displayType);\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275property(\"ngSwitchCase\", \"form\");\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275property(\"ngSwitchCase\", \"page\");\n  }\n}\nconst _c1 = [\"renderPanelTpl\"];\nfunction PanelPageComponent_ng_template_2_Template(rf, ctx) {}\nfunction PanelPageComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementContainerStart(0, 1)(1, 3);\n    i0.\u0275\u0275element(2, \"classifieds-ui-render-panel\", 4);\n    i0.\u0275\u0275elementContainerEnd()();\n  }\n  if (rf & 2) {\n    const i_r1 = ctx.i;\n    const ctx_r1 = i0.\u0275\u0275nextContext();\n    i0.\u0275\u0275property(\"formGroup\", ctx_r1.pageForm);\n    i0.\u0275\u0275advance(2);\n    i0.\u0275\u0275property(\"formControlName\", i_r1)(\"panel\", ctx_r1.panelPageCached.panels[i_r1])(\"nested\", ctx_r1.nested$.value)(\"contexts\", ctx_r1.contexts$.value)(\"resolvedContext\", ctx_r1.resolvedContext)(\"contextsChanged\", ctx_r1.contextsChanged)(\"displayType\", ctx_r1.panelPageCached.displayType)(\"indexPosition\", i_r1)(\"css\", ctx_r1.filteredCss)(\"listeners\", ctx_r1.filteredListeners)(\"ancestory\", ctx_r1.ancestory$.value);\n  }\n}\nclass PaneContentHostDirective {\n  constructor(viewContainerRef) {\n    this.viewContainerRef = viewContainerRef;\n  }\n  static {\n    this.\u0275fac = function PaneContentHostDirective_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PaneContentHostDirective)(i0.\u0275\u0275directiveInject(i0.ViewContainerRef));\n    };\n  }\n  static {\n    this.\u0275dir = /* @__PURE__ */i0.\u0275\u0275defineDirective({\n      type: PaneContentHostDirective,\n      selectors: [[\"\", \"classifiedsUiPaneContentHost\", \"\"]],\n      standalone: false\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PaneContentHostDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[classifiedsUiPaneContentHost]',\n      standalone: false\n    }]\n  }], () => [{\n    type: i0.ViewContainerRef\n  }], null);\n})();\nclass LayoutRendererHostDirective {\n  constructor(viewContainerRef) {\n    this.viewContainerRef = viewContainerRef;\n  }\n  static {\n    this.\u0275fac = function LayoutRendererHostDirective_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || LayoutRendererHostDirective)(i0.\u0275\u0275directiveInject(i0.ViewContainerRef));\n    };\n  }\n  static {\n    this.\u0275dir = /* @__PURE__ */i0.\u0275\u0275defineDirective({\n      type: LayoutRendererHostDirective,\n      selectors: [[\"\", \"classifiedsUiLayoutRendererHost\", \"\"]],\n      standalone: false\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(LayoutRendererHostDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[classifiedsUiLayoutRendererHost]',\n      standalone: false\n    }]\n  }], () => [{\n    type: i0.ViewContainerRef\n  }], null);\n})();\n\n/**\n * Putting render pane inside the same file is a documented work around for the\n * below angular partial compilation issue.\n *\n * https://angular.io/errors/NG3003\n */\nclass RenderPaneComponent {\n  set resolvedContext(resolvedContext) {\n    this.resolvedContext$.next(resolvedContext);\n  }\n  set css(css) {\n    this.css$.next(css);\n  }\n  set listeners(listeners) {\n    this.listeners$.next(listeners);\n  }\n  get indexPositionClass() {\n    return `pane-${this.indexPosition}`;\n  }\n  get dynamicPanel() {\n    return new PanelPage(this.resolvedContext._root);\n  }\n  constructor(document, platformId, el, renderer2, componentFactoryResolver, panelHandler, fb, cpm, cssHelper, paneStateService, paramEvaluatorService, renderer, es) {\n    this.document = document;\n    this.platformId = platformId;\n    this.el = el;\n    this.renderer2 = renderer2;\n    this.componentFactoryResolver = componentFactoryResolver;\n    this.panelHandler = panelHandler;\n    this.fb = fb;\n    this.cpm = cpm;\n    this.cssHelper = cssHelper;\n    this.paneStateService = paneStateService;\n    this.paramEvaluatorService = paramEvaluatorService;\n    this.renderer = renderer;\n    this.settings = [];\n    this.ancestory = [];\n    this.panes = [];\n    this.originPanes = [];\n    this.afterContentInit$ = new Subject();\n    this.resolvedContext$ = new BehaviorSubject({});\n    this.schedulePluginChange = new Subject();\n    this.ancestoryWithSelf = [];\n    this.filteredListeners = [];\n    this.css$ = new BehaviorSubject({\n      css: this.cssHelper.makeJsonNode(),\n      classes: {}\n    });\n    this.cssSub = combineLatest([this.css$, this.afterContentInit$, this.schedulePluginChange]).pipe(map(([s]) => s), map(s => ({\n      css: this.cssHelper.reduceCss(s.css, `.pane-${this.indexPosition}`),\n      classes: this.cssHelper.reduceSelector(s.classes, `.pane-${this.indexPosition}`)\n    })), map(({\n      css,\n      classes\n    }) => [this.cssHelper.reduceCss(css, '.panel-page', false), this.cssHelper.reduceCss(css, '.panel-page'), this.cssHelper.reduceSelector(classes, '.panel-page', false), this.cssHelper.reduceSelector(classes, '.panel-page')]), tap(([_, nestedCss, __, nestedClasses]) => this.filteredCss = {\n      css: nestedCss,\n      classes: nestedClasses\n    }), map(([css, _, classes, __]) => ({\n      css,\n      classes\n    })), map(({\n      css,\n      classes\n    }) => {\n      const rebuiltCss = Object.keys(css.children).reduce((p, c) => ({\n        ...p,\n        ...(c.indexOf('>') === 0 ? {\n          [this.ancestoryWithSelf.map((v, k) => (k + 1) % 2 === 0 ? `.pane-${v}` : `.panel-${v}`).join(' ') + ' ' + c]: classes[c]\n        } : {\n          [c]: classes[c]\n        })\n      }), {});\n      const rebuiltClasses = Object.keys(classes).reduce((p, c) => ({\n        ...p,\n        ...(c.indexOf('>') === 0 ? {\n          [this.ancestoryWithSelf.map((v, k) => (k + 1) % 2 === 0 ? `.pane-${v}` : `.panel-${v}`).join(' ') + ' ' + c]: classes[c]\n        } : {\n          [c]: classes[c]\n        })\n      }), {});\n      return {\n        css: {\n          children: rebuiltCss\n        },\n        classes: rebuiltClasses\n      };\n    }), delay(500)).subscribe(({\n      css,\n      classes\n    }) => {\n      console.log('reduced classes', classes);\n      const keys = Object.keys(css.children).filter(k => k === '' || isSelectorValid({\n        selector: k,\n        document: this.document\n      }));\n      const classKeys = Object.keys(classes).filter(k => k === '' || isSelectorValid({\n        selector: k,\n        document: this.document\n      }));\n      classKeys.forEach((k, keyIndex) => {\n        const matchedNodes = k === '' ? [this.el.nativeElement] : k.indexOf('>') !== -1 ? this.document.querySelectorAll(k) : this.el.nativeElement.querySelectorAll(k);\n        const len = matchedNodes.length;\n        for (let i = 0; i < len; i++) {\n          const c = classes[classKeys[keyIndex]];\n          const cKeys = Object.keys(c);\n          const cLen = cKeys.length;\n          for (let j = 0; j < cLen; j++) {\n            if (matchedNodes[i]) {\n              if (c[cKeys[j]] === ClassClassification.REMOVE) {\n                console.log(`remove class ${cKeys[j]}`);\n                this.renderer2.removeClass(matchedNodes[i], cKeys[j]);\n              } else {\n                console.log(`add class ${cKeys[j]}`);\n                this.renderer2.addClass(matchedNodes[i], cKeys[j]);\n              }\n            }\n          }\n        }\n      });\n      keys.forEach(k => {\n        console.log(`search: ${k}`);\n        const matchedNodes = k === '' ? [this.el.nativeElement] : k.indexOf('>') !== -1 ? this.document.querySelectorAll(k) : this.el.nativeElement.querySelectorAll(k);\n        const len = matchedNodes.length;\n        const rules = Object.keys(css.children[k].attributes);\n        for (let i = 0; i < len; i++) {\n          if (matchedNodes[i]) {\n            rules.forEach(p => {\n              console.log(`${k} { ${p}: ${css.children[k].attributes[p]}; }`);\n              const prop = camelize(p.replace('-', '_'), false); // @todo: Not working for custom sheet \n              this.renderer2.setStyle(matchedNodes[i], /*p*/prop, css.children[k].attributes[p]);\n            });\n          }\n        }\n      });\n    });\n    this.listeners$ = new BehaviorSubject([]);\n    this.listenersSub = combineLatest([this.listeners$, this.schedulePluginChange]).pipe(map(([l]) => l), tap(listeners => {\n      this.filteredListeners = listeners;\n      console.log('pane listeners', listeners);\n    })).subscribe();\n    this.wireListenersSub = combineLatest([this.listeners$, this.afterContentInit$]).pipe(delay(1), switchMap(() => forkJoin(this.filteredListeners.map(l => of({}).pipe(map(() => ({\n      paramNames: l.event.settings.paramsString ? l.event.settings.paramsString.split('&').filter(v => v.indexOf('=:') !== -1).map(v => v.split('=', 2)[1].substr(1)) : []\n    })), switchMap(({\n      paramNames\n    }) => this.paramEvaluatorService.paramValues(l.event.settings.params.reduce((p, c, i) => new Map([...p, [paramNames[i], c]]), new Map())).pipe(map(params => Array.from(params).reduce((p, [k, v]) => ({\n      ...p,\n      [k]: v\n    }), {})))), defaultIfEmpty([]))))), tap(listenerParams => {\n      console.log('listener info', this.filteredListeners, listenerParams);\n      const listenerLen = this.filteredListeners.length;\n      for (let i = 0; i < listenerLen; i++) {\n        // Assumption is made herre that would be responsibility of plugin instead ie. target is required for DOM event.\n        // For now though just to get things spinning again hard code expectation.\n        const targets = this.el.nativeElement.querySelectorAll(listenerParams[i].target);\n        console.log('listener target', targets);\n        targets.forEach(t => this.renderer.listen(t, listenerParams[i].type, e => {\n          console.log('listener fired');\n          if (this.filteredListeners[i].handler.settings.params) {\n            const paramNames = this.filteredListeners[i].handler.settings.paramsString ? this.filteredListeners[i].handler.settings.paramsString.split('&').filter(v => v.indexOf('=:') !== -1).map(v => v.split('=', 2)[1].substr(1)) : [];\n            this.paramEvaluatorService.paramValues(this.filteredListeners[i].handler.settings.params.reduce((p, c, i) => new Map([...p, [paramNames[i], c]]), new Map())).pipe(map(params => Array.from(params).reduce((p, [k, v]) => ({\n              ...p,\n              [k]: v\n            }), {}))).subscribe(handlerParams => {\n              console.log('handler original event and params', e, handlerParams);\n            });\n          } else {\n            console.log('handler original event and params', e);\n          }\n        }));\n      }\n    })).subscribe();\n    this.paneForm = this.fb.group({\n      contentPlugin: this.fb.control('', Validators.required),\n      name: this.fb.control(''),\n      label: this.fb.control(''),\n      settings: this.fb.control('')\n    });\n    this.paneFormSub = this.paneForm.valueChanges.subscribe(v => {\n      console.log(`pane form value plugin: ${this.pluginName}`);\n      console.log(v);\n    });\n    this.scheduleStateChange$ = new Subject();\n    this.scheduleStateChangeSub = this.scheduleStateChange$.pipe(switchMap(({\n      state\n    }) => this.paneStateService.mergeState({\n      state,\n      ancestory: [...this.ancestoryWithSelf],\n      settings: this.settings,\n      plugin: this.contentPlugin\n    }))).subscribe(({\n      pageState\n    }) => {\n      this.panelPageStateService.upsert(pageState);\n    });\n    this.onTouched = () => {};\n    // private contentPlugins: Array<ContentPlugin> = [];\n    this.pluginChangeSub = this.schedulePluginChange.pipe(filter(() => this.pluginName && this.pluginName !== null && this.pluginName !== ''), switchMap(() => this.cpm.getPlugin(this.pluginName))).subscribe(p => {\n      this.contentPlugin = p;\n      this.paneForm.get('contentPlugin').setValue(p.name);\n      this.paneForm.get('name').setValue(this.name);\n      this.paneForm.get('label').setValue(this.label);\n      if (this.pluginName === 'panel') {\n        //console.log('resolve nested panel page');\n        this.resolveNestedPanelPage();\n      } else {\n        this.renderPaneContent();\n      }\n    });\n    this.embedPanelSub = this.resolvedContext$.pipe(map(rc => {\n      if (rc && rc._root && !this.linkedPageId && this.settings.length === 0) {\n        this.embedPanel = new PanelPage(rc._root);\n      }\n    })).subscribe();\n    this.panelPageStateService = es.getEntityCollectionService('PanelPageState');\n    // this.contentPlugins = contentPlugins;\n  }\n  ngOnInit() {\n    this.ancestoryWithSelf = [...(this.ancestory ? this.ancestory : []), ...(this.indexPosition !== undefined && this.indexPosition !== null ? [this.indexPosition] : [])];\n    this.schedulePluginChange.next(undefined);\n    /*this.contentPlugin = this.contentPlugins.find(p => p.name === this.pluginName);\n    this.paneForm.get('contentPlugin').setValue(this.contentPlugin.name);\n    this.paneForm.get('name').setValue(this.name);\n    this.paneForm.get('label').setValue(this.label);\n    if(this.pluginName === 'panel') {\n      //console.log('resolve nested panel page');\n      this.resolveNestedPanelPage();\n    } else  {\n      this.renderPaneContent();\n    }*/\n  }\n  ngOnChanges(changes) {\n    if (changes.ancestory || changes.indexPosition) {\n      const ancestoryWithSelf = [...(changes.ancestory.currentValue ? changes.ancestory.currentValue : this.ancestory ? this.ancestory : []), ...(changes.indexPosition.currentValue !== undefined && changes.indexPosition.currentValue !== null ? [changes.indexPosition.currentValue] : this.indexPosition ? [this.indexPosition] : [])];\n      if (ancestoryWithSelf.length !== this.ancestoryWithSelf.length || this.ancestoryWithSelf.filter((n, index) => ancestoryWithSelf[index] !== n).length !== 0) {\n        this.ancestoryWithSelf = ancestoryWithSelf;\n      }\n    }\n    this.schedulePluginChange.next(undefined);\n    /*this.contentPlugin = this.contentPlugins.find(p => p.name === this.pluginName);\n    this.paneForm.get('contentPlugin').setValue(this.contentPlugin.name);\n    this.paneForm.get('name').setValue(this.name);\n    this.paneForm.get('label').setValue(this.label);\n    if(this.pluginName === 'panel') {\n      //console.log('resolve nested panel page');\n      this.resolveNestedPanelPage();\n    } else {\n      this.renderPaneContent();\n    }*/\n  }\n  ngAfterContentInit() {\n    this.afterContentInit$.next(undefined);\n  }\n  writeValue(val) {\n    if (val) {\n      this.paneForm.setValue(val, {\n        emitEvent: false\n      });\n    }\n  }\n  registerOnChange(fn) {\n    this.paneForm.valueChanges.subscribe(fn);\n  }\n  registerOnTouched(fn) {\n    this.onTouched = fn;\n  }\n  setDisabledState(isDisabled) {\n    if (isDisabled) {\n      this.paneForm.disable();\n    } else {\n      this.paneForm.enable();\n    }\n  }\n  validate(c) {\n    /*return this.paneForm.statusChanges.pipe(\n      startWith(this.paneForm.status),  // start with the current form status\n      filter((status) => status === 'VALID'),\n      map(() => null),\n      timeout(1000),\n      catchError(() => of({ invalidForm: { invalidForm: {valid: false, message: \"pane is invalid\"}}})),\n      first()\n    );*/\n    return this.paneForm.statusChanges.pipe(startWith(this.paneForm.status),\n    // start with the current form status\n    filter(status => status !== 'PENDING'), debounceTime(1), take(1),\n    // We only want one emit after status changes from PENDING\n    map(status => {\n      return this.paneForm.valid ? null : {\n        invalidForm: {\n          invalidForm: {\n            valid: false,\n            message: \"pane is invalid\"\n          }\n        }\n      }; // I actually loop through the form and collect the errors, but for validity just return this works fine\n    }));\n  }\n  resolveNestedPanelPage() {\n    this.panelHandler.toObject(this.settings).subscribe(p => {\n      this.panelPage = new PanelPage({\n        ...p,\n        contexts: this.contexts\n      });\n    });\n  }\n  renderPaneContent() {\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.contentPlugin.renderComponent);\n    const viewContainerRef = this.contentPaneHost.viewContainerRef;\n    viewContainerRef.clear();\n    this.componentRef = viewContainerRef.createComponent(componentFactory);\n    this.componentRef.instance.settings = this.settings;\n    this.componentRef.instance.name = this.name;\n    this.componentRef.instance.label = this.label;\n    this.componentRef.instance.panes = this.panes;\n    this.componentRef.instance.originPanes = this.originPanes;\n    this.componentRef.instance.contexts = this.contexts.map(c => new InlineContext(c));\n    this.componentRef.instance.displayType = this.displayType;\n    this.componentRef.instance.resolvedContext = this.resolvedContext$.value;\n    this.componentRef.instance.ancestory = this.ancestoryWithSelf;\n    if (this.componentRef.instance.state && this.contentPlugin.handler) {\n      this.contentPlugin.handler.stateDefinition(this.settings).pipe(take(1)).subscribe(s => {\n        this.componentRef.instance.state = s ? s : {};\n      });\n    }\n    if (this.componentRef.instance.stateChange) {\n      this.componentRef.instance.stateChange.subscribe(state => {\n        this.scheduleStateChange$.next({\n          state\n        });\n      });\n    }\n  }\n  static {\n    this.\u0275fac = function RenderPaneComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || RenderPaneComponent)(i0.\u0275\u0275directiveInject(DOCUMENT), i0.\u0275\u0275directiveInject(PLATFORM_ID), i0.\u0275\u0275directiveInject(i0.ElementRef), i0.\u0275\u0275directiveInject(i0.Renderer2), i0.\u0275\u0275directiveInject(i0.ComponentFactoryResolver), i0.\u0275\u0275directiveInject(i1.PanelContentHandler), i0.\u0275\u0275directiveInject(i2.UntypedFormBuilder), i0.\u0275\u0275directiveInject(i3.ContentPluginManager), i0.\u0275\u0275directiveInject(i1.CssHelperService), i0.\u0275\u0275directiveInject(i1.PaneStateService), i0.\u0275\u0275directiveInject(i4.ParamEvaluatorService), i0.\u0275\u0275directiveInject(i0.Renderer2), i0.\u0275\u0275directiveInject(i5.EntityServices));\n    };\n  }\n  static {\n    this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n      type: RenderPaneComponent,\n      selectors: [[\"classifieds-ui-render-pane\"]],\n      viewQuery: function RenderPaneComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.\u0275\u0275viewQuery(PaneContentHostDirective, 7);\n          i0.\u0275\u0275viewQuery(PanelPageComponent, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.\u0275\u0275queryRefresh(_t = i0.\u0275\u0275loadQuery()) && (ctx.contentPaneHost = _t.first);\n          i0.\u0275\u0275queryRefresh(_t = i0.\u0275\u0275loadQuery()) && (ctx.panelPageComponent = _t.first);\n        }\n      },\n      hostVars: 5,\n      hostBindings: function RenderPaneComponent_HostBindings(rf, ctx) {\n        if (rf & 2) {\n          i0.\u0275\u0275attribute(\"data-index\", ctx.indexPosition);\n          i0.\u0275\u0275classMap(ctx.indexPositionClass);\n          i0.\u0275\u0275classProp(\"pane\", true);\n        }\n      },\n      inputs: {\n        pluginName: \"pluginName\",\n        settings: \"settings\",\n        linkedPageId: \"linkedPageId\",\n        contexts: \"contexts\",\n        originPane: \"originPane\",\n        displayType: \"displayType\",\n        name: \"name\",\n        label: \"label\",\n        indexPosition: \"indexPosition\",\n        ancestory: \"ancestory\",\n        panes: \"panes\",\n        originPanes: \"originPanes\",\n        resolvedContext: \"resolvedContext\",\n        css: \"css\",\n        listeners: \"listeners\"\n      },\n      standalone: false,\n      features: [i0.\u0275\u0275ProvidersFeature([{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => RenderPaneComponent),\n        multi: true\n      },\n      /*{\n        provide: NG_VALIDATORS,\n        useExisting: forwardRef(() => RenderPaneComponent),\n        multi: true\n      },*/\n      {\n        provide: NG_ASYNC_VALIDATORS,\n        useExisting: forwardRef(() => RenderPaneComponent),\n        multi: true\n      }]), i0.\u0275\u0275NgOnChangesFeature],\n      decls: 6,\n      vars: 4,\n      consts: [[\"fxFlex\", \"\", 3, \"formGroup\"], [\"classifiedsUiPaneContentHost\", \"\"], [\"fxFlex\", \"\", \"formControlName\", \"settings\", 3, \"panelPage\", \"nested\", \"contexts\", \"css\", \"listeners\", \"ancestory\", 4, \"ngIf\"], [\"fxFlex\", \"\", \"formControlName\", \"settings\", 3, \"id\", \"nested\", \"contexts\", \"ancestory\", 4, \"ngIf\"], [\"fxFlex\", \"\", \"formControlName\", \"settings\", 3, \"panelPage\", \"nested\", \"contexts\", \"css\", \"listeners\", \"ancestory\"], [\"fxFlex\", \"\", \"formControlName\", \"settings\", 3, \"id\", \"nested\", \"contexts\", \"ancestory\"]],\n      template: function RenderPaneComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.\u0275\u0275elementStart(0, \"div\", 0);\n          i0.\u0275\u0275elementContainerStart(1);\n          i0.\u0275\u0275template(2, RenderPaneComponent_ng_template_2_Template, 0, 0, \"ng-template\", 1);\n          i0.\u0275\u0275elementContainerEnd();\n          i0.\u0275\u0275template(3, RenderPaneComponent_classifieds_ui_panel_page_3_Template, 1, 6, \"classifieds-ui-panel-page\", 2)(4, RenderPaneComponent_classifieds_ui_panel_page_4_Template, 1, 4, \"classifieds-ui-panel-page\", 3)(5, RenderPaneComponent_classifieds_ui_panel_page_5_Template, 1, 6, \"classifieds-ui-panel-page\", 2);\n          i0.\u0275\u0275elementEnd();\n        }\n        if (rf & 2) {\n          i0.\u0275\u0275property(\"formGroup\", ctx.paneForm);\n          i0.\u0275\u0275advance(3);\n          i0.\u0275\u0275property(\"ngIf\", ctx.pluginName == \"panel\" && !ctx.linkedPageId && ctx.settings.length !== 0);\n          i0.\u0275\u0275advance();\n          i0.\u0275\u0275property(\"ngIf\", ctx.pluginName == \"panel\" && ctx.linkedPageId);\n          i0.\u0275\u0275advance();\n          i0.\u0275\u0275property(\"ngIf\", ctx.pluginName == \"panel\" && !ctx.linkedPageId && ctx.settings.length === 0);\n        }\n      },\n      dependencies: () => [i6.NgIf, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, PaneContentHostDirective, PanelPageComponent],\n      styles: [\"[_nghost-%COMP%]{height:100%}\"]\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(RenderPaneComponent, [{\n    type: Component,\n    args: [{\n      selector: 'classifieds-ui-render-pane',\n      providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => RenderPaneComponent),\n        multi: true\n      },\n      /*{\n        provide: NG_VALIDATORS,\n        useExisting: forwardRef(() => RenderPaneComponent),\n        multi: true\n      },*/\n      {\n        provide: NG_ASYNC_VALIDATORS,\n        useExisting: forwardRef(() => RenderPaneComponent),\n        multi: true\n      }],\n      host: {\n        '[class.pane]': 'true',\n        '[attr.data-index]': 'indexPosition'\n      },\n      standalone: false,\n      template: \"<div fxFlex [formGroup]=\\\"paneForm\\\">\\n  <ng-container><ng-template classifiedsUiPaneContentHost></ng-template></ng-container>\\n  <classifieds-ui-panel-page fxFlex *ngIf=\\\"pluginName == 'panel' && !linkedPageId && settings.length !== 0\\\" [panelPage]=\\\"panelPage\\\" [nested]=\\\"true\\\" [contexts]=\\\"contexts\\\" [css]=\\\"filteredCss\\\" [listeners]=\\\"filteredListeners\\\" formControlName=\\\"settings\\\" [ancestory]=\\\"ancestoryWithSelf\\\"></classifieds-ui-panel-page>\\n  <classifieds-ui-panel-page fxFlex *ngIf=\\\"pluginName == 'panel' && linkedPageId\\\" [id]=\\\"linkedPageId\\\" [nested]=\\\"true\\\" [contexts]=\\\"contexts\\\" formControlName=\\\"settings\\\" [ancestory]=\\\"ancestoryWithSelf\\\"></classifieds-ui-panel-page>\\n  <classifieds-ui-panel-page fxFlex *ngIf=\\\"pluginName == 'panel' && !linkedPageId && settings.length === 0\\\" [panelPage]=\\\"embedPanel\\\" [nested]=\\\"true\\\" [contexts]=\\\"contexts\\\" formControlName=\\\"settings\\\" [css]=\\\"filteredCss\\\" [listeners]=\\\"filteredListeners\\\" [ancestory]=\\\"ancestoryWithSelf\\\"></classifieds-ui-panel-page>\\n</div>\\n\",\n      styles: [\":host{height:100%}\\n\"]\n    }]\n  }], () => [{\n    type: Document,\n    decorators: [{\n      type: Inject,\n      args: [DOCUMENT]\n    }]\n  }, {\n    type: Object,\n    decorators: [{\n      type: Inject,\n      args: [PLATFORM_ID]\n    }]\n  }, {\n    type: i0.ElementRef\n  }, {\n    type: i0.Renderer2\n  }, {\n    type: i0.ComponentFactoryResolver\n  }, {\n    type: i1.PanelContentHandler\n  }, {\n    type: i2.UntypedFormBuilder\n  }, {\n    type: i3.ContentPluginManager\n  }, {\n    type: i1.CssHelperService\n  }, {\n    type: i1.PaneStateService\n  }, {\n    type: i4.ParamEvaluatorService\n  }, {\n    type: i0.Renderer2\n  }, {\n    type: i5.EntityServices\n  }], {\n    pluginName: [{\n      type: Input\n    }],\n    settings: [{\n      type: Input\n    }],\n    linkedPageId: [{\n      type: Input\n    }],\n    contexts: [{\n      type: Input\n    }],\n    originPane: [{\n      type: Input\n    }],\n    displayType: [{\n      type: Input\n    }],\n    name: [{\n      type: Input\n    }],\n    label: [{\n      type: Input\n    }],\n    indexPosition: [{\n      type: Input\n    }],\n    ancestory: [{\n      type: Input\n    }],\n    panes: [{\n      type: Input\n    }],\n    originPanes: [{\n      type: Input\n    }],\n    resolvedContext: [{\n      type: Input\n    }],\n    css: [{\n      type: Input\n    }],\n    listeners: [{\n      type: Input\n    }],\n    indexPositionClass: [{\n      type: HostBinding,\n      args: ['class']\n    }],\n    contentPaneHost: [{\n      type: ViewChild,\n      args: [PaneContentHostDirective, {\n        static: true\n      }]\n    }],\n    panelPageComponent: [{\n      type: ViewChild,\n      args: [forwardRef(() => PanelPageComponent)]\n    }]\n  });\n})();\n/**\n * Putting render pane inside the same file is a documented work around for the\n * below angular partial compilation issue.\n *\n * https://angular.io/errors/NG3003\n */\nclass RenderPanelComponent {\n  static {\n    this.COUNTER = 0;\n  }\n  set contextChanged(contextChanged) {\n    // this.schduleContextChange.next(contextChanged.name);\n  }\n  set contextsChanged(contextsChanged) {\n    contextsChanged.map(c => this.schduleContextChange.next(c));\n  }\n  set indexPosition(indexPosition) {\n    this.indexPosition$.next(indexPosition);\n  }\n  set ancestory(ancestory) {\n    this.ancestory$.next(ancestory);\n  }\n  set css(css) {\n    this.css$.next(css);\n  }\n  set listeners(listeners) {\n    this.listeners$.next(listeners);\n  }\n  get indexPositionClass() {\n    return `panel-${this.indexPosition$.value}`;\n  }\n  get panesArray() {\n    return this.panelForm.get('panes');\n  }\n  constructor(\n  // @Inject(STYLE_PLUGIN) stylePlugins: Array<StylePlugin>,\n  // @Inject(CONTENT_PLUGIN) contentPlugins: Array<ContentPlugin>,\n  platformId, document, hostEl, renderer2, componentFactoryResolver, fb, panelResolverService, spm, cssHelper, styleResolverService) {\n    this.platformId = platformId;\n    this.document = document;\n    this.hostEl = hostEl;\n    this.renderer2 = renderer2;\n    this.componentFactoryResolver = componentFactoryResolver;\n    this.fb = fb;\n    this.panelResolverService = panelResolverService;\n    this.spm = spm;\n    this.cssHelper = cssHelper;\n    this.styleResolverService = styleResolverService;\n    this.nested = false;\n    this.resolvedContext = {};\n    this.heightChange = new EventEmitter();\n    this.panelForm = this.fb.group({\n      name: this.fb.control(''),\n      label: this.fb.control(''),\n      panes: this.fb.array([])\n    });\n    this.panelFormSub = this.panelForm.valueChanges.subscribe(v => {\n      console.log('paneL form value');\n      console.log(v);\n    });\n    this.filteredListeners = [];\n    /*initialRenderComplete = setInterval(() => {\n      console.log(`check pane initial render [${this.panel.name}]`);\n      console.log(`expected: ${this.resolvedPanes !== undefined ? this.resolvedPanes.length : 'null'} | actual ${this.renderedPanes.length}`);\n      if (this.resolvedPanes !== undefined && this.renderedPanes.length === this.resolvedPanes.length) {\n        console.log(`COMPLETE: check pane initial render [${this.panel.name}]`);\n        clearInterval(this.initialRenderComplete);\n      }\n    }, 250);*/\n    this.afterContentInit$ = new Subject();\n    this.schedulePanelRender = new Subject();\n    this.rendered$ = new Subject();\n    this.css$ = new BehaviorSubject({\n      css: this.cssHelper.makeJsonNode(),\n      classes: {}\n    });\n    this.cssSub = combineLatest([this.css$, this.afterContentInit$, this.rendered$]).pipe(tap(([s]) => console.log('css node', s.css)), map(([s]) => s), map(s => ({\n      css: this.cssHelper.reduceCss(s.css, `.panel-${this.indexPosition$.value}`),\n      classes: this.cssHelper.reduceSelector(s.classes, `.panel-${this.indexPosition$.value}`)\n    })), map(({\n      css,\n      classes\n    }) => [this.cssHelper.reduceCss(css, '.pane-', false), css, this.cssHelper.reduceSelector(classes, '.pane-', false), classes]), tap(([_, nestedCss, __, nestedClasses]) => this.filteredCss = {\n      css: nestedCss,\n      classes: nestedClasses\n    }), map(([css, _, classes]) => ({\n      css,\n      classes\n    })), map(({\n      css,\n      classes\n    }) => {\n      const rebuiltCss = Object.keys(css.children).reduce((p, c) => ({\n        ...p,\n        ...(c.indexOf('>') === 0 ? {\n          [this.ancestoryWithSelf$.value.map((v, k) => (k + 1) % 2 === 0 ? `.pane-${v}` : `.panel-${v}`).join(' ') + ' ' + c]: classes[c]\n        } : {\n          [c]: classes[c]\n        })\n      }), {});\n      const rebuiltClasses = Object.keys(classes).reduce((p, c) => ({\n        ...p,\n        ...(c.indexOf('>') === 0 ? {\n          [this.ancestoryWithSelf$.value.map((v, k) => (k + 1) % 2 === 0 ? `.pane-${v}` : `.panel-${v}`).join(' ') + ' ' + c]: classes[c]\n        } : {\n          [c]: classes[c]\n        })\n      }), {});\n      return {\n        css: {\n          children: rebuiltCss\n        },\n        classes: rebuiltClasses\n      };\n    }), delay(1)).subscribe(({\n      css,\n      classes\n    }) => {\n      /*console.log(`matched css inside panel renderer: ${this.indexPosition}`);\n      console.log(css);\n      this.filteredCss = css;*/\n      console.log('classes', classes);\n      const keys = Object.keys(css.children).filter(k => k === '' || isSelectorValid({\n        selector: k,\n        document: this.document\n      }));\n      const classKeys = Object.keys(classes).filter(k => k === '' || isSelectorValid({\n        selector: k,\n        document: this.document\n      }));\n      classKeys.forEach((k, keyIndex) => {\n        const matchedNodes = k === '' ? [this.hostEl.nativeElement] : k.indexOf('>') !== -1 ? this.document.querySelectorAll(k) : this.hostEl.nativeElement.querySelectorAll(k);\n        const len = matchedNodes.length;\n        for (let i = 0; i < len; i++) {\n          const c = classes[classKeys[keyIndex]];\n          const cKeys = Object.keys(c);\n          const cLen = cKeys.length;\n          for (let j = 0; j < cLen; j++) {\n            if (matchedNodes[i]) {\n              if (c[cKeys[j]] === ClassClassification.REMOVE) {\n                console.log(`remove class ${cKeys[j]}`);\n                this.renderer2.removeClass(matchedNodes[i], cKeys[j]);\n              } else {\n                console.log(`add class ${cKeys[j]}`);\n                this.renderer2.addClass(matchedNodes[i], cKeys[j]);\n              }\n            }\n          }\n        }\n      });\n      keys.forEach(k => {\n        console.log(`search: ${k}`);\n        const matchedNodes = k === '' ? [this.hostEl.nativeElement] : k.indexOf('>') !== -1 ? this.document.querySelectorAll(k) : this.hostEl.nativeElement.querySelectorAll(k);\n        const len = matchedNodes.length;\n        const rules = Object.keys(css.children[k].attributes);\n        for (let i = 0; i < len; i++) {\n          if (matchedNodes[i]) {\n            rules.forEach(p => {\n              console.log(`${k} { ${p}: ${css.children[k].attributes[p]}; }`);\n              const prop = camelize(p.replace('-', '_'), false); // @todo: Not working for custom sheet \n              this.renderer2.setStyle(matchedNodes[i], /*p*/prop, css.children[k].attributes[p]);\n            });\n          }\n        }\n      });\n    });\n    this.listeners$ = new BehaviorSubject([]);\n    this.listenersSub = this.listeners$.pipe(tap(listeners => {\n      console.log('panel listeners', listeners);\n      this.filteredListeners = listeners;\n    })).subscribe();\n    this.scheduleRender = new Subject();\n    this.scheduleRenderSub = this.scheduleRender.pipe(tap(() => console.log(`schdule renderer before [${this.panel.name}]`)), switchMap(([panes, contexts, resolvedContext]) => this.panelResolverService.resolvePanes({\n      panes,\n      contexts,\n      resolvedContext\n    }).pipe(map(({\n      resolvedPanes,\n      originMappings /*, resolvedContexts */\n    }) => ({\n      resolvedPanes,\n      originMappings,\n      panes\n    })))), switchMap(({\n      panes,\n      resolvedPanes,\n      originMappings /*, resolvedContexts */\n    }) => this.styleResolverService.alterResolvedPanes({\n      panel: this.panel,\n      resolvedPanes,\n      originMappings /*, resolvedContexts */\n    }).pipe(map(({\n      resolvedPanes,\n      originMappings /*, resolvedContexts */\n    }) => ({\n      panes,\n      resolvedPanes,\n      originMappings\n    })))), tap(() => console.log(`schdule renderer after [${this.panel.name}]`))).subscribe(({\n      panes,\n      resolvedPanes,\n      originMappings /*, resolvedContexts*/\n    }) => {\n      console.log(`render panel: ${this.panel.name}`);\n      this.resolvedPanes = resolvedPanes;\n      this.originPanes = panes;\n      this.originMappings = originMappings;\n      // this.resolvedContexts = resolvedContexts;\n      if (this.paneContainer && this.stylePlugin === undefined) {\n        // setTimeout(() => this.heightChange.emit(this.paneContainer.nativeElement.offsetHeight));\n      }\n      this.populatePanesFormArray();\n      if (this.stylePlugin !== undefined) {\n        this.renderPanelContent();\n      } else {\n        this.rendered$.next(undefined);\n      }\n      // clearInterval(this.initialRenderComplete);\n    });\n    this.schduleContextChange = new Subject();\n    this.schedulePanelRenderSub = this.schedulePanelRender.pipe(switchMap(p => this.spm.getPlugin(p))).subscribe(stylePlugin => {\n      const componentFactory = this.componentFactoryResolver.resolveComponentFactory(stylePlugin.renderComponent);\n      const viewContainerRef = this.panelHost.viewContainerRef;\n      viewContainerRef.clear();\n      const componentRef = viewContainerRef.createComponent(componentFactory);\n      this.componentRef = componentRef;\n      componentRef.instance.settings = this.panel.settings;\n      /**\n       * I think this is an oversight. The current code is passing ALL the panes\n       * as the panes array. I believe that change was recently made to facilitate\n       * new behavior. I just don't think this was ever updated... Updating now\n       * and we will see how it goes.\n       */\n      componentRef.instance.panes = this.resolvedPanes;\n      // This breaks pages because none visible panes will attempt to be rendered.\n      //(componentRef.instance as any).panes = this.panel.panes;\n      componentRef.instance.originPanes = this.panel.panes;\n      componentRef.instance.originMappings = this.originMappings;\n      componentRef.instance.contexts = this.contexts.map(c => new InlineContext(c));\n      componentRef.instance.displayType = this.displayType;\n      componentRef.instance.ancestory = this.ancestoryWithSelf$.value;\n      // (componentRef.instance as any).resolvedContexts = this.resolvedContexts;\n      componentRef.instance.resolvedContext = this.resolvedContext;\n      componentRef.instance.panel = this.panel;\n      componentRef.instance.indexPosition = this.indexPosition$.value;\n      this.rendered$.next(undefined);\n    });\n    this.originMappings = [];\n    this.resolvedContexts = [];\n    // ancestoryWithSelf: Array<number> = [];\n    this.ancestoryWithSelf$ = new BehaviorSubject([]);\n    this.ancestory$ = new BehaviorSubject([]);\n    this.indexPosition$ = new BehaviorSubject(undefined);\n    // contentPlugins: Array<ContentPlugin> = [];\n    this.onTouched = () => {};\n    this.ancestorySub = combineLatest([this.ancestory$, this.indexPosition$]).pipe(tap(([ancestory, indexPosition]) => {\n      this.ancestoryWithSelf$.next([...ancestory, indexPosition]);\n    })).subscribe();\n    this.counter = RenderPanelComponent.COUNTER++;\n    // this.stylePlugins = stylePlugins;\n    // this.contentPlugins = contentPlugins;\n  }\n  ngOnInit() {\n    this.stylePlugin = this.panel.stylePlugin !== undefined && this.panel.stylePlugin !== '' ? this.panel.stylePlugin : undefined; // this.stylePlugins.find(p => p.name === this.panel.stylePlugin) : undefined;\n    if (this.panel !== undefined && this.panelHost !== undefined) {\n      console.log(`panel render init [${this.panel.name}`);\n      this.panelResolverService.usedContexts(this.panel.panes).pipe(map(ctx => ctx.filter(c => c !== '_page' && c !== '_root' && c !== '.' && c.indexOf('panestate-' + this.ancestoryWithSelf$.value.join('-')) !== 0)), tap(ctx => console.log(`contexts [${this.panel.name}]: ${ctx.join(',')}`)), switchMap(ctx => this.schduleContextChange.pipe(tap(contextChanged => console.log(`detected change [${this.panel.name}]: ${contextChanged}`)), map(contextChanged => [ctx, contextChanged])\n      // @todo: Replacing the line above with the one below causes an infinite context change loop on the ad browser use case. no good.\n      // I think this line was being used for the pane state detection since there was an issue with it. However, that is not being use anymore.\n      // map(contextChanged => [ctx.includes(contextChanged) ? ctx : [ ...ctx, contextChanged ], contextChanged]) // This might be a breaking change but I do know some of this was never very well tested... :/\n      )), tap(([ctx, contextChanged]) => console.log(`detected change [${this.panel.name}]: ${contextChanged} : ctx: ${ctx.join(',')}`)), filter(([ctx, contextChanged]) => Array.isArray(ctx) && ctx.findIndex(c => c === contextChanged) !== -1), debounceTime(100)).subscribe(([ctx, contextChanged]) => {\n        console.log(`Context changed [${this.panel.name}]: ${contextChanged}`);\n        console.log(`contexts detected [${this.panel.name}]: ${ctx.join(',')}`);\n        this.scheduleRender.next([this.panel.panes, this.contexts, this.resolvedContext]);\n      });\n    }\n    // this.ancestoryWithSelf = [ ...(this.ancestory ? this.ancestory: []), ...( this.indexPosition !== undefined && this.indexPosition !== null? [ this.indexPosition ] : [] ) ];\n  }\n  ngOnChanges(changes) {\n    //console.log(`ngOnChanges render panel [${this.panel.name}]`);\n    //console.log(changes);\n    this.stylePlugin = this.panel.stylePlugin !== undefined && this.panel.stylePlugin !== '' ? this.panel.stylePlugin : undefined; // this.stylePlugins.find(p => p.name === this.panel.stylePlugin) : undefined;\n    if (changes.resolvedContext && changes.resolvedContext.previousValue === undefined) {\n      this.scheduleRender.next([this.panel.panes, this.contexts, this.resolvedContext]);\n    }\n    /*if(changes.contextChanged && changes.contextChanged.currentValue !== undefined) {\n      this.schduleContextChange.next(changes.contextChanged.currentValue.name);\n    }*/\n    /*if (changes.ancestory || changes.indexPosition) {\n      const ancestoryWithSelf = [ ...(changes.ancestory.currentValue ? changes.ancestory.currentValue :  this.ancestory ? this.ancestory : []), ...( changes.indexPosition.currentValue !== undefined && changes.indexPosition.currentValue !== null? [ changes.indexPosition.currentValue ] : this.indexPosition ? [ this.indexPosition ] : [] ) ];\n      if (ancestoryWithSelf.length !== this.ancestoryWithSelf.length || this.ancestoryWithSelf.filter((n, index) => ancestoryWithSelf[index] !== n).length !== 0) {\n        this.ancestoryWithSelf = ancestoryWithSelf;\n      }\n    }*/\n  }\n  ngAfterViewInit() {}\n  ngAfterContentInit() {\n    this.afterContentInit$.next(undefined);\n  }\n  writeValue(val) {\n    if (val) {\n      this.panelForm.setValue(val, {\n        emitEvent: false\n      });\n    }\n  }\n  registerOnChange(fn) {\n    this.panelForm.valueChanges.subscribe(fn);\n  }\n  registerOnTouched(fn) {\n    this.onTouched = fn;\n  }\n  setDisabledState(isDisabled) {\n    if (isDisabled) {\n      this.panelForm.disable();\n    } else {\n      this.panelForm.enable();\n    }\n  }\n  validate(c) {\n    /*return this.panelForm.statusChanges.pipe(\n      startWith(this.panelForm.status),  // start with the current form status\n      filter((status) => status === 'VALID'),\n      map(() => null),\n      timeout(1000),\n      catchError(() => of({ invalidForm: {valid: false, message: \"panel are invalid\"}})),\n      first()\n    );*/\n    return this.panelForm.statusChanges.pipe(startWith(this.panelForm.status),\n    // start with the current form status\n    filter(status => status !== 'PENDING'), debounceTime(1), take(1),\n    // We only want one emit after status changes from PENDING\n    map(status => {\n      return this.panelForm.valid ? null : {\n        invalidForm: {\n          valid: false,\n          message: \"panel are invalid\"\n        }\n      }; // I actually loop through the form and collect the errors, but for validity just return this works fine\n    }));\n  }\n  populatePanesFormArray() {\n    this.panesArray.clear();\n    this.resolvedPanes.forEach((p, i) => {\n      this.panesArray.push(this.fb.control(''));\n    });\n  }\n  renderPanelContent() {\n    this.schedulePanelRender.next(this.stylePlugin);\n  }\n  static {\n    this.\u0275fac = function RenderPanelComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || RenderPanelComponent)(i0.\u0275\u0275directiveInject(PLATFORM_ID), i0.\u0275\u0275directiveInject(DOCUMENT), i0.\u0275\u0275directiveInject(i0.ElementRef), i0.\u0275\u0275directiveInject(i0.Renderer2), i0.\u0275\u0275directiveInject(i0.ComponentFactoryResolver), i0.\u0275\u0275directiveInject(i2.UntypedFormBuilder), i0.\u0275\u0275directiveInject(i1.PanelResolverService), i0.\u0275\u0275directiveInject(i1.StylePluginManager), i0.\u0275\u0275directiveInject(i1.CssHelperService), i0.\u0275\u0275directiveInject(i1.StyleResolverService));\n    };\n  }\n  static {\n    this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n      type: RenderPanelComponent,\n      selectors: [[\"classifieds-ui-render-panel\"]],\n      viewQuery: function RenderPanelComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.\u0275\u0275viewQuery(PaneContentHostDirective, 7);\n          i0.\u0275\u0275viewQuery(_c0, 7);\n          i0.\u0275\u0275viewQuery(RenderPaneComponent, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.\u0275\u0275queryRefresh(_t = i0.\u0275\u0275loadQuery()) && (ctx.panelHost = _t.first);\n          i0.\u0275\u0275queryRefresh(_t = i0.\u0275\u0275loadQuery()) && (ctx.paneContainer = _t.first);\n          i0.\u0275\u0275queryRefresh(_t = i0.\u0275\u0275loadQuery()) && (ctx.renderedPanes = _t);\n        }\n      },\n      hostVars: 5,\n      hostBindings: function RenderPanelComponent_HostBindings(rf, ctx) {\n        if (rf & 2) {\n          i0.\u0275\u0275attribute(\"data-index\", ctx.indexPosition$.value);\n          i0.\u0275\u0275classMap(ctx.indexPositionClass);\n          i0.\u0275\u0275classProp(\"panel\", true);\n        }\n      },\n      inputs: {\n        panel: \"panel\",\n        contexts: \"contexts\",\n        nested: \"nested\",\n        displayType: \"displayType\",\n        resolvedContext: \"resolvedContext\",\n        contextChanged: \"contextChanged\",\n        contextsChanged: \"contextsChanged\",\n        indexPosition: \"indexPosition\",\n        ancestory: \"ancestory\",\n        css: \"css\",\n        listeners: \"listeners\"\n      },\n      outputs: {\n        heightChange: \"heightChange\"\n      },\n      standalone: false,\n      features: [i0.\u0275\u0275ProvidersFeature([{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => RenderPanelComponent),\n        multi: true\n      },\n      /*{\n        provide: NG_VALIDATORS,\n        useExisting: forwardRef(() => RenderPanelComponent),\n        multi: true\n      },*/\n      {\n        provide: NG_ASYNC_VALIDATORS,\n        useExisting: forwardRef(() => RenderPanelComponent),\n        multi: true\n      }]), i0.\u0275\u0275NgOnChangesFeature],\n      decls: 5,\n      vars: 2,\n      consts: [[\"panes\", \"\"], [1, \"render-panel\", 3, \"formGroup\"], [\"classifiedsUiPaneContentHost\", \"\"], [4, \"ngIf\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [\"formArrayName\", \"panes\"], [3, \"formControlName\", \"pluginName\", \"settings\", \"name\", \"label\", \"originPane\", \"contexts\", \"displayType\", \"resolvedContext\", \"indexPosition\", \"css\", \"listeners\", \"ancestory\", \"panes\", \"originPanes\", 4, \"ngFor\", \"ngForOf\"], [3, \"formControlName\", \"pluginName\", \"settings\", \"name\", \"label\", \"originPane\", \"contexts\", \"displayType\", \"resolvedContext\", \"indexPosition\", \"css\", \"listeners\", \"ancestory\", \"panes\", \"originPanes\"], [3, \"pluginName\", \"settings\", \"name\", \"label\", \"originPane\", \"contexts\", \"linkedPageId\", \"displayType\", \"resolvedContext\", \"indexPosition\", \"css\", \"listeners\", \"ancestory\", \"panes\", \"originPanes\", 4, \"ngFor\", \"ngForOf\"], [3, \"pluginName\", \"settings\", \"name\", \"label\", \"originPane\", \"contexts\", \"linkedPageId\", \"displayType\", \"resolvedContext\", \"indexPosition\", \"css\", \"listeners\", \"ancestory\", \"panes\", \"originPanes\"]],\n      template: function RenderPanelComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.\u0275\u0275elementStart(0, \"div\", 1, 0);\n          i0.\u0275\u0275elementContainerStart(2);\n          i0.\u0275\u0275template(3, RenderPanelComponent_ng_template_3_Template, 0, 0, \"ng-template\", 2);\n          i0.\u0275\u0275elementContainerEnd();\n          i0.\u0275\u0275template(4, RenderPanelComponent_ng_container_4_Template, 4, 3, \"ng-container\", 3);\n          i0.\u0275\u0275elementEnd();\n        }\n        if (rf & 2) {\n          i0.\u0275\u0275property(\"formGroup\", ctx.panelForm);\n          i0.\u0275\u0275advance(4);\n          i0.\u0275\u0275property(\"ngIf\", !ctx.stylePlugin && ctx.resolvedPanes);\n        }\n      },\n      dependencies: [i6.NgForOf, i6.NgIf, i6.NgSwitch, i6.NgSwitchCase, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i2.FormArrayName, PaneContentHostDirective, RenderPaneComponent],\n      styles: [\"[_nghost-%COMP%]{height:100%}.render-panel[_ngcontent-%COMP%]{height:100%}\"]\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(RenderPanelComponent, [{\n    type: Component,\n    args: [{\n      selector: 'classifieds-ui-render-panel',\n      providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => RenderPanelComponent),\n        multi: true\n      },\n      /*{\n        provide: NG_VALIDATORS,\n        useExisting: forwardRef(() => RenderPanelComponent),\n        multi: true\n      },*/\n      {\n        provide: NG_ASYNC_VALIDATORS,\n        useExisting: forwardRef(() => RenderPanelComponent),\n        multi: true\n      }],\n      host: {\n        '[class.panel]': 'true',\n        '[attr.data-index]': 'indexPosition$.value'\n      },\n      standalone: false,\n      template: \"<div [formGroup]=\\\"panelForm\\\" class=\\\"render-panel\\\" #panes>\\n  <ng-container><ng-template classifiedsUiPaneContentHost></ng-template></ng-container>\\n  <!-- <ng-container [ngSwitch]=\\\"displayType\\\">\\n    <ng-container *ngSwitchCase=\\\"'form'\\\">\\n      <ng-container [formGroup]=\\\"panelForm\\\">\\n        <ng-template classifiedsUiPaneContentHost></ng-template>\\n      </ng-container>\\n    </ng-container>\\n    <ng-container *ngSwitchCase=\\\"'page'\\\">\\n      <ng-container><ng-template classifiedsUiPaneContentHost></ng-template></ng-container>\\n    </ng-container>\\n  </ng-container> -->\\n  <!-- is fxFlex needed here? - verify other pages -->\\n  <!-- removing fxFlex breaks design of adbrowserv9 -->\\n  <ng-container *ngIf=\\\"!stylePlugin && resolvedPanes\\\">\\n    <ng-container [ngSwitch]=\\\"displayType\\\">\\n      <ng-container *ngSwitchCase=\\\"'form'\\\">\\n        <ng-container>\\n          <ng-container formArrayName=\\\"panes\\\">\\n            <classifieds-ui-render-pane *ngFor=\\\"let pane of resolvedPanes; let j = index\\\" [formControlName]=\\\"j\\\" [pluginName]=\\\"pane.contentPlugin\\\" [settings]=\\\"pane.settings\\\" [name]=\\\"pane.name\\\" [label]=\\\"pane.label\\\" [originPane]=\\\"panel.panes[originMappings[j]]\\\" [contexts]=\\\"pane.contexts\\\" [displayType]=\\\"displayType\\\" [resolvedContext]=\\\"pane.resolvedContext\\\" [indexPosition]=\\\"j\\\" [css]=\\\"filteredCss\\\" [listeners]=\\\"filteredListeners\\\" [ancestory]=\\\"ancestoryWithSelf$.value\\\" [panes]=\\\"panes\\\" [originPanes]=\\\"originPanes\\\"></classifieds-ui-render-pane>\\n          </ng-container>\\n        </ng-container>\\n      </ng-container>\\n      <ng-container *ngSwitchCase=\\\"'page'\\\">\\n        <!-- is fxFlex needed here? - verify other pages -->\\n        <!-- removing fxFlex breaks design of adbrowserv9 -->\\n        <classifieds-ui-render-pane *ngFor=\\\"let pane of resolvedPanes; let j = index\\\" [pluginName]=\\\"pane.contentPlugin\\\" [settings]=\\\"pane.settings\\\" [name]=\\\"pane.name\\\" [label]=\\\"pane.label\\\" [originPane]=\\\"panel.panes[originMappings[j]]\\\" [contexts]=\\\"pane.contexts\\\" [linkedPageId]=\\\"pane.linkedPageId\\\" [displayType]=\\\"displayType\\\" [resolvedContext]=\\\"pane.resolvedContext\\\" [indexPosition]=\\\"j\\\" [css]=\\\"filteredCss\\\" [listeners]=\\\"filteredListeners\\\" [ancestory]=\\\"ancestoryWithSelf$.value\\\" [panes]=\\\"panes\\\" [originPanes]=\\\"originPanes\\\"></classifieds-ui-render-pane>\\n      </ng-container>\\n    </ng-container>\\n  </ng-container>\\n</div>\\n\",\n      styles: [\":host{height:100%}.render-panel{height:100%}\\n\"]\n    }]\n  }], () => [{\n    type: Object,\n    decorators: [{\n      type: Inject,\n      args: [PLATFORM_ID]\n    }]\n  }, {\n    type: Document,\n    decorators: [{\n      type: Inject,\n      args: [DOCUMENT]\n    }]\n  }, {\n    type: i0.ElementRef\n  }, {\n    type: i0.Renderer2\n  }, {\n    type: i0.ComponentFactoryResolver\n  }, {\n    type: i2.UntypedFormBuilder\n  }, {\n    type: i1.PanelResolverService\n  }, {\n    type: i1.StylePluginManager\n  }, {\n    type: i1.CssHelperService\n  }, {\n    type: i1.StyleResolverService\n  }], {\n    panel: [{\n      type: Input\n    }],\n    contexts: [{\n      type: Input\n    }],\n    nested: [{\n      type: Input\n    }],\n    displayType: [{\n      type: Input\n    }],\n    resolvedContext: [{\n      type: Input\n    }],\n    contextChanged: [{\n      type: Input\n    }],\n    contextsChanged: [{\n      type: Input\n    }],\n    indexPosition: [{\n      type: Input\n    }],\n    ancestory: [{\n      type: Input\n    }],\n    css: [{\n      type: Input\n    }],\n    listeners: [{\n      type: Input\n    }],\n    heightChange: [{\n      type: Output\n    }],\n    indexPositionClass: [{\n      type: HostBinding,\n      args: ['class']\n    }],\n    renderedPanes: [{\n      type: ViewChildren,\n      args: [RenderPaneComponent]\n    }],\n    panelHost: [{\n      type: ViewChild,\n      args: [PaneContentHostDirective, {\n        static: true\n      }]\n    }],\n    paneContainer: [{\n      type: ViewChild,\n      args: ['panes', {\n        static: true\n      }]\n    }]\n  });\n})();\nclass PanelPageComponent {\n  static {\n    this.registredContextListeners = new Set();\n  }\n  set id(id) {\n    this.id$.next(id);\n  }\n  set panelPage(panelPage) {\n    this.panelPage$.next(panelPage);\n  }\n  set nested(nested) {\n    this.nested$.next(nested);\n  }\n  set contexts(contexts) {\n    this.contexts$.next(contexts);\n  }\n  set ancestory(ancestory) {\n    this.ancestory$.next(ancestory);\n  }\n  set css(css) {\n    this.css$.next(css);\n  }\n  set listeners(listeners) {\n    this.listeners$.next(listeners);\n  }\n  get panelsArray() {\n    return this.pageForm.get('panels');\n  }\n  constructor(platformId, mediaSettings, routerStore, fb, el, inlineContextResolver,\n  // private contextManager: ContextManagerService,\n  pageBuilderFacade, cpm, cxm, lpm, componentFactoryResolver, styleLoader,\n  // I don't feel good about this but f**k it for now til I figure this out\n  http, cssHelper, attributeSerializer, formService, panelsContextService, asyncApiCallHelperSvc, crudDataHelperService, entityDefinitionService, ngZone, persistService, stylizerService, classifyService, fileService, authFacade, paramEvaluatorService, renderer, iepm, ihpm, es) {\n    this.platformId = platformId;\n    this.mediaSettings = mediaSettings;\n    this.routerStore = routerStore;\n    this.fb = fb;\n    this.el = el;\n    this.inlineContextResolver = inlineContextResolver;\n    this.pageBuilderFacade = pageBuilderFacade;\n    this.cpm = cpm;\n    this.cxm = cxm;\n    this.lpm = lpm;\n    this.componentFactoryResolver = componentFactoryResolver;\n    this.styleLoader = styleLoader;\n    this.http = http;\n    this.cssHelper = cssHelper;\n    this.attributeSerializer = attributeSerializer;\n    this.formService = formService;\n    this.panelsContextService = panelsContextService;\n    this.asyncApiCallHelperSvc = asyncApiCallHelperSvc;\n    this.crudDataHelperService = crudDataHelperService;\n    this.entityDefinitionService = entityDefinitionService;\n    this.ngZone = ngZone;\n    this.persistService = persistService;\n    this.stylizerService = stylizerService;\n    this.classifyService = classifyService;\n    this.fileService = fileService;\n    this.authFacade = authFacade;\n    this.paramEvaluatorService = paramEvaluatorService;\n    this.renderer = renderer;\n    this.iepm = iepm;\n    this.ihpm = ihpm;\n    this.resolvedContext = {};\n    this.contextsChanged = [];\n    this.persistenceEnabled = false;\n    this.onInit$ = new Subject();\n    this.afterViewInit$ = new Subject();\n    this.afterContentInit$ = new Subject();\n    this.renderLayout$ = new Subject();\n    this.id$ = new BehaviorSubject(undefined);\n    this.panelPage$ = new BehaviorSubject(undefined);\n    this.nested$ = new BehaviorSubject(false);\n    this.ancestory$ = new BehaviorSubject([]);\n    this.contexts$ = new BehaviorSubject([]);\n    this.instanceUniqueIdentity = uuid.v4();\n    this.isStable = false;\n    this.managedCssCache = '';\n    this.managedClassesCache = {};\n    this.filteredListeners = [];\n    this.css$ = new BehaviorSubject({\n      css: this.cssHelper.makeJsonNode(),\n      classes: {}\n    });\n    this.cssSub = this.css$.subscribe(css => {\n      if (this.nested$.value) {\n        console.log('filtered css nested', css);\n      }\n      this.filteredCss = css;\n    });\n    this.listeners$ = new BehaviorSubject([]);\n    this.listenersSub = this.listeners$.pipe(tap(listeners => {\n      this.filteredListeners = listeners;\n    })).subscribe();\n    this.settingsFormArray = this.fb.array([]);\n    this.pageForm = this.fb.group({\n      /*name: this.fb.control(''),\n      title: this.fb.control(''),\n      derivativeId: this.fb.control(''),*/\n      panels: this.fb.array([])\n    });\n    this.bridgeSub = this.pageForm.valueChanges.pipe(filter(() => this.nested$.value), debounceTime(500)).subscribe(v => {\n      console.log('write page');\n      console.log(v);\n      this.settingsFormArray.clear();\n      const newGroup = this.attributeSerializer.convertToGroup(this.attributeSerializer.serialize(v, 'value').attributes[0]);\n      this.settingsFormArray.push(newGroup);\n      console.log(newGroup.value);\n    });\n    this.idOrPanelPageSub = combineLatest([this.id$, this.panelPage$]).pipe(distinctUntilChanged(), map(([id, panelPage]) => ({\n      id,\n      panelPage\n    })), filter(({\n      id,\n      panelPage\n    }) => !!id || !!panelPage), switchMap(({\n      id,\n      panelPage\n    }) => iif(() => !id, of({\n      panelPage\n    }), new Observable(obs => {\n      const metadata = this.entityDefinitionService.getDefinition('PanelPage').metadata;\n      return this.crudDataHelperService.evaluateCollectionPlugins({\n        query: `identity=${id}`,\n        plugins: metadata.crud,\n        op: 'query'\n      }).pipe(map(objects => objects && objects.length !== 0 ? objects[0] : undefined), tap(p => {\n        obs.next({\n          panelPage: p\n        });\n        obs.complete();\n      })).subscribe();\n    }))), switchMap(({\n      panelPage\n    }) => this.cpm.getPlugins(panelPage.panels.reduce((contentPlugins, c) => {\n      c.panes.forEach(pane => {\n        if (!contentPlugins.includes(pane.contentPlugin)) {\n          contentPlugins.push(pane.contentPlugin);\n        }\n      });\n      return contentPlugins;\n    }, [])).pipe(map(() => ({\n      panelPage\n    })))), switchMap(({\n      panelPage\n    }) => iif(() => !this.nested$.value,\n    /*!this.nested ? this.panelsContextService.allActivePageContexts({ panelPage: p }).pipe(\n      map(paneContexts => [p, isDynamic, paneContexts])\n    ): of([p, isDynamic, []]),*/\n    this.panelsContextService.allActivePageContexts({\n      panelPage\n    }).pipe(map(paneContexts => ({\n      panelPage,\n      contexts: Array.from(paneContexts)\n    }))), of({\n      panelPage,\n      contexts: []\n    }))),\n    /*switchMap(({ panelPage, isDynamic }) => this.panelsContextService.allActivePageContexts({ panelPage }).pipe(\n      map(paneContexts => ({ panelPage, isDynamic, contexts: Array.from(paneContexts) }))\n    )),*/\n    tap(({\n      panelPage,\n      contexts\n    }) => {\n      this.hookupFormChange({\n        panelPage\n      });\n      this.populatePanelsFormArray({\n        panelPage\n      });\n      this.panelPageCached = panelPage;\n      this.persistenceEnabled = panelPage.persistence && panelPage.persistence.dataduct && panelPage.persistence.dataduct.plugin && panelPage.persistence.dataduct.plugin !== '';\n      this.filteredListeners = panelPage.interactions && panelPage.interactions.interactions && panelPage.interactions.interactions.listeners ? panelPage.interactions.interactions.listeners : [];\n      this.renderLayout$.next(panelPage);\n      // this.panelPage$.next(panelPage);\n      this.contexts$.next([...(panelPage.contexts ? panelPage.contexts.map(c => new InlineContext(c)) : []), ...contexts]);\n      /*if(!this.nested$.value || isDynamic ) {\n        this.hookupContextChange();\n      }*/\n      this.hookupCss({\n        file: panelPage.cssFile ? panelPage.cssFile.trim() : undefined\n      });\n      console.log(`cached panel page: ${panelPage.id}`);\n    })).subscribe();\n    this.hookupContextSub = combineLatest(this.contexts$,\n    // this.nested$,\n    this.afterContentInit$).pipe(\n    // filter(([ _, nested ]) => !nested),\n    map(([contexts]) => contexts), switchMap(contexts => this.inlineContextResolver.resolveMerged(contexts, `panelpage:${uuid.v4()}`).pipe(switchMap(resolvedContext => this.cxm.getPlugins().pipe(map(plugins => ({\n      contexts,\n      resolvedContext,\n      globalPlugins: Array.from(plugins.values()).filter(p => p.global === true)\n    })))), take(1))), tap(() => {\n      if (this.resolveSub) {\n        this.resolveSub.unsubscribe();\n      }\n    }), tap(({\n      contexts,\n      resolvedContext,\n      globalPlugins\n    }) => {\n      this.resolvedContext = resolvedContext;\n      const short$ = new Subject();\n      if (isPlatformServer(this.platformId)) {\n        const interval = setInterval(() => {\n          if (PanelPageComponent.registredContextListeners.size === 0) {\n            short$.next();\n            short$.complete();\n            clearInterval(interval);\n          }\n        }, 1000);\n      }\n      this.resolveSub = this.inlineContextResolver.resolveMergedSingle(contexts).pipe(skip(globalPlugins.length + (contexts ? contexts.length : 0)), tap(() => PanelPageComponent.registredContextListeners.add(this.instanceUniqueIdentity)), tap(v => console.log('buffer', v)), bufferTime(1), tap(buffered => {\n        if (buffered.length === 0) {\n          PanelPageComponent.registredContextListeners.delete(this.instanceUniqueIdentity);\n        }\n      }), filter(buffered => buffered.length !== 0), tap(buffered => {\n        this.contextsChanged = buffered.reduce((p, [cName, _]) => [...p, ...(p.includes(cName) ? [] : [cName])], []);\n        this.resolvedContext = buffered.reduce((p, [cName, cValue]) => ({\n          ...p,\n          [cName]: cValue\n        }), this.resolvedContext);\n      }), tap(() => PanelPageComponent.registredContextListeners.delete(this.instanceUniqueIdentity)), isPlatformServer(this.platformId) ? takeUntil(short$) : tap(() => {})).subscribe();\n    })).subscribe();\n    this.renderLayoutSub = combineLatest([this.renderLayout$, this.afterViewInit$]).pipe(delay(1), map(([panelPage]) => ({\n      panelPage\n    })), switchMap(({\n      panelPage\n    }) => this.lpm.getPlugin(panelPage.layoutType).pipe(map(plugin => ({\n      panelPage,\n      plugin\n    })))), tap(() => console.log('start render layout')), map(({\n      plugin,\n      panelPage\n    }) => ({\n      panelPage,\n      plugin,\n      viewContainerRef: this.layoutRendererHost.viewContainerRef\n    })), tap(({\n      viewContainerRef\n    }) => viewContainerRef.clear()), map(({\n      plugin,\n      viewContainerRef,\n      panelPage\n    }) => ({\n      panelPage,\n      layoutRendererRef: viewContainerRef.createComponent(plugin.renderer)\n    })), tap(({\n      layoutRendererRef\n    }) => this.layoutRendererRef = layoutRendererRef), tap(({\n      layoutRendererRef,\n      panelPage\n    }) => {\n      layoutRendererRef.instance.renderPanelTpl = this.renderPanelTpl;\n      layoutRendererRef.instance.panelPage = panelPage;\n    }), tap(() => console.log('end render layout'))).subscribe();\n    this.stylizerSub = this.afterViewInit$.pipe(\n    //filter(() => false), // @tofo: Note ready for prime time just yet.\n    filter(() => isPlatformBrowser(this.platformId)), tap(() => {\n      this.stylizerService.stylize({\n        targetNode: this.el.nativeElement\n      });\n    })).subscribe();\n    this.classifySub = this.afterViewInit$.pipe(\n    //filter(() => false), // @tofo: Note ready for prime time just yet.\n    filter(() => isPlatformBrowser(this.platformId)), tap(() => {\n      this.classifyService.classify({\n        targetNode: this.el.nativeElement\n      });\n    })).subscribe();\n    this.stylizerMutatedSub = !isPlatformBrowser(this.platformId) ? undefined : this.stylizerService.mutated$.pipe(debounceTime(2000), skip(1), switchMap(({\n      stylesheet\n    }) => this.authFacade.getUser$.pipe(map(u => ({\n      stylesheet,\n      isAuthenticated: !!u\n    })) // No sheath asset uploads are attempted unless user is at least authenticated.\n    )), filter(({\n      isAuthenticated\n    }) => isAuthenticated), tap(({\n      stylesheet\n    }) => {\n      console.log('merged css', stylesheet);\n    }), filter(() => !!this.panelPageCached && !!this.panelPageCached.id),\n    // filter(() => false), // @tofo: Note ready for prime time just yet.\n    switchMap(({\n      stylesheet\n    }) => this.isStable ? of({\n      stylesheet\n    }) : this.ngZone.onStable.asObservable().pipe(map(() => ({\n      stylesheet\n    })), take(1))), map(({\n      stylesheet\n    }) => ({\n      stylesheet: (this.managedCssCache && this.managedCssCache.trim() !== '' ? this.managedCssCache + \"\\n\" : '') + stylesheet\n    })), concatMap(({\n      stylesheet\n    }) => this.fileService.bulkUpload({\n      nocache: true,\n      files: [new File([stylesheet], `panelpage__${this.panelPageCached.id}.css`)],\n      fileNameOverride: `panelpage__${this.panelPageCached.id}.css`\n    })), tap(() => {\n      console.log('stylesheet saved.');\n    })).subscribe();\n    this.classifyMutatedSub = !isPlatformBrowser(this.platformId) ? undefined : this.classifyService.mutated$.pipe(debounceTime(2000), skip(1), switchMap(({\n      classes\n    }) => this.authFacade.getUser$.pipe(\n    // No sheath asset uploads are attempted unless user is at least authenticated.\n    map(u => ({\n      classes,\n      isAuthenticated: !!u\n    })))), filter(({\n      isAuthenticated\n    }) => isAuthenticated), tap(({\n      classes\n    }) => {\n      console.log('merged classes', classes);\n    }), filter(() => !!this.panelPageCached && !!this.panelPageCached.id),\n    // filter(() => false), // @tofo: Note ready for prime time just yet.\n    switchMap(({\n      classes\n    }) => this.isStable ? of({\n      classes\n    }) : this.ngZone.onStable.asObservable().pipe(map(() => ({\n      classes\n    })), take(1))), map(({\n      classes\n    }) => ({\n      classes: Array.from(classes.keys()).reduce((p, k) => ({\n        ...p,\n        [k]: Array.from(classes.get(k).keys()).filter(k2 => classes.get(k).get(k2) !== ClassClassification.KEEP).reduce((p2, k2) => ({\n          ...p2,\n          [k2]: classes.get(k).get(k2)\n        }), {})\n      }), {})\n    })), map(({\n      classes\n    }) => ({\n      classes: merge(this.managedClassesCache, classes)\n    })), map(({\n      classes\n    }) => ({\n      json: JSON.stringify(classes)\n    })), concatMap(({\n      json\n    }) => this.fileService.bulkUpload({\n      nocache: true,\n      files: [new File([json], `panelpage__${this.panelPageCached.id}__classes.json`)],\n      fileNameOverride: `panelpage__${this.panelPageCached.id}__classes.json`\n    })), tap(() => {\n      console.log('classes saved.');\n    })).subscribe();\n    this.onStableSub = this.ngZone.onStable.asObservable().pipe(tap(() => this.isStable = true)).subscribe();\n    this.onUnstableSub = this.ngZone.onUnstable.asObservable().pipe(tap(() => this.isStable = false)).subscribe();\n    this.wireListenersSub = combineLatest([this.listeners$, this.renderLayout$, this.afterContentInit$]).pipe(delay(1), switchMap(() => forkJoin(this.filteredListeners.map(l => of({}).pipe(map(() => ({\n      paramNames: l.event.settings.paramsString ? l.event.settings.paramsString.split('&').filter(v => v.indexOf('=:') !== -1).map(v => v.split('=', 2)[1].substr(1)) : []\n    })), switchMap(({\n      paramNames\n    }) => this.paramEvaluatorService.paramValues(l.event.settings.params.reduce((p, c, i) => new Map([...p, [paramNames[i], c]]), new Map())).pipe(map(params => Array.from(params).reduce((p, [k, v]) => ({\n      ...p,\n      [k]: v\n    }), {})))), defaultIfEmpty([]))))), switchMap(listenerParams => this.iepm.getPlugin('dom').pipe(map(p => ({\n      p,\n      listenerParams\n    })))), switchMap(({\n      p,\n      listenerParams\n    }) => p.connect({\n      filteredListeners: this.filteredListeners,\n      listenerParams,\n      renderer: this.renderer,\n      callback: ({\n        handlerParams,\n        plugin,\n        index,\n        evt\n      }) => {\n        // console.log(`The handler was called`, handlerParams, plugin, index, this.filteredListeners[index], evt );\n        this.ihpm.getPlugin(plugin).pipe(tap(p => {\n          p.handle({\n            handlerParams,\n            plugin,\n            index,\n            listener: this.filteredListeners[index],\n            evt,\n            renderer: this.renderer,\n            panelPageComponent: this\n          });\n        })).subscribe();\n      }\n    })), tap(listenerParams => {\n      console.log('listener info', this.filteredListeners, listenerParams);\n      /*this.iepm.getPlugin('dom').subscribe(p => {\n        p.connect({\n          filteredListeners: this.filteredListeners,\n          listenerParams,\n          renderer: this.renderer,\n          callback: ({ handlerParams, plugin, index, evt }) => {\n            console.log(`The handler was called`, handlerParams, plugin, index, this.filteredListeners[index], evt );\n          }\n        }).subscribe();\n      });*/\n      // The hard way to handle events using our own delegation algorithm\n      // since nodes are constantly changing underneath and simple way\n      // doesn't seem to work.\n      // This is all going to be part of the plugin function anyway.\n      /*const mapTypes = new Map<string, Array<number>>();\n      const len = this.filteredListeners.length;\n      for (let i = 0; i < len; i++) {\n        const type = (listenerParams[i] as  any).type;\n        if (mapTypes.has(type)) {\n          const targets = mapTypes.get(type);\n          targets.push(i);\n          mapTypes.set(type, targets);\n        } else {\n          mapTypes.set(type, [i]);\n        }\n      }\n      const eventDelegtionHandler = (m => e => {\n        if (m.has(e.type)) {\n          const targets = m.get(e.type);\n          const len = targets.length;\n          targets.forEach((__, i) => {\n            const expectedTarget = (listenerParams[targets[i]] as any).target;\n            if (e.target.matches(expectedTarget)) {\n              console.log(`delegated target match ${expectedTarget}`);\n              if(this.filteredListeners[i].handler.settings.params) {\n                const paramNames = this.filteredListeners[i].handler.settings.paramsString ? this.filteredListeners[i].handler.settings.paramsString.split('&').filter(v => v.indexOf('=:') !== -1).map(v => v.split('=', 2)[1].substr(1)) : [];\n                this.paramEvaluatorService.paramValues(\n                  this.filteredListeners[i].handler.settings.params.reduce((p, c, i) => new Map<string, Param>([ ...p, [ paramNames[i], c ] ]), new Map<string, Param>())\n                ).pipe(\n                  map(params => Array.from(params).reduce((p, [k, v]) =>  ({ ...p, [k]: v }), {}))\n                ).subscribe((handlerParams) => {\n                  // plugin call and pass params\n                  console.log('handler original event and params', e, this.filteredListeners[i].handler.plugin,  handlerParams);\n                })\n              } else {\n                // plugin call and pass params\n                console.log('handler original event and params', this.filteredListeners[i].handler.plugin, e);\n              }\n            }\n          });\n        }\n      })(mapTypes)\n      const keys = Array.from(mapTypes);\n      for (let i = 0; i < keys.length; i++) {\n        const type = keys[i][0];\n        this.renderer.listen('document', type, e => {\n          eventDelegtionHandler(e);\n        });\n      }*/\n      /*this.renderer.listen('document', 'click', e => {\n        console.log('delegated target');\n        if (e.target.matches('.open-dialog')) {\n          console.log('delegated target match');\n        }\n      });*/\n      /*const listenerLen = this.filteredListeners.length;\n      for (let i = 0; i < listenerLen; i++) {\n        // Assumption is made herre that would be responsibility of plugin instead ie. target is required for DOM event.\n        // For now though just to get things spinning again hard code expectation.\n        const targets =(this.el.nativeElement as Element).querySelectorAll((listenerParams[i] as  any).target);\n        console.log('listener target', targets);\n        targets.forEach(t => this.renderer.listen(t, (listenerParams[i] as  any).type, e => {\n          console.log('listener fired');\n          if(this.filteredListeners[i].handler.settings.params) {\n            const paramNames = this.filteredListeners[i].handler.settings.paramsString ? this.filteredListeners[i].handler.settings.paramsString.split('&').filter(v => v.indexOf('=:') !== -1).map(v => v.split('=', 2)[1].substr(1)) : [];\n            this.paramEvaluatorService.paramValues(\n              this.filteredListeners[i].handler.settings.params.reduce((p, c, i) => new Map<string, Param>([ ...p, [ paramNames[i], c ] ]), new Map<string, Param>())\n            ).pipe(\n              map(params => Array.from(params).reduce((p, [k, v]) =>  ({ ...p, [k]: v }), {}))\n            ).subscribe((handlerParams) => {\n              console.log('handler original event and params',e,  handlerParams);\n            });\n          } else {\n            console.log('handler original event and params', e);\n          }\n        }));\n      }*/\n    })).subscribe();\n    this.onTouched = () => {};\n    this.panelPageService = es.getEntityCollectionService('PanelPage');\n    this.panelPageFormService = es.getEntityCollectionService('PanelPageForm');\n    this.panelPageStateService = es.getEntityCollectionService('PanelPageState');\n  }\n  ngOnInit() {\n    this.onInit$.next(undefined);\n  }\n  ngAfterViewInit() {\n    this.afterViewInit$.next(undefined);\n  }\n  ngAfterContentInit() {\n    this.afterContentInit$.next(undefined);\n  }\n  ngOnDestroy() {\n    PanelPageComponent.registredContextListeners.delete(this.instanceUniqueIdentity);\n  }\n  populatePanelsFormArray({\n    panelPage\n  }) {\n    this.panelsArray.clear();\n    panelPage.panels.forEach(() => {\n      this.panelsArray.push(this.fb.control(''));\n    });\n  }\n  hookupFormChange({\n    panelPage\n  }) {\n    combineLatest([this.pageForm.valueChanges, this.pageForm.statusChanges]).pipe(debounceTime(100), filter(([_, s]) => panelPage !== undefined && panelPage.displayType === 'form' && s !== 'PENDING') // we only update on valid and invalid states not inbetween\n    ).subscribe(([v]) => {\n      const valid = this.pageForm.valid;\n      const persistence = this.panelPageCached.persistence ? this.panelPageCached.persistence : undefined;\n      const form = new PanelPageForm({\n        ...v,\n        name: panelPage.name,\n        title: panelPage.title,\n        derivativeId: panelPage.id,\n        persistence,\n        valid\n      });\n      this.pageBuilderFacade.setForm(panelPage.name, form);\n    });\n  }\n  hookupCss({\n    file\n  }) {\n    forkJoin([\n    /*this.http.get<cssJson.JSONNode>(file).pipe(\n      catchError(() => of(undefined)),\n      defaultIfEmpty(undefined)\n    ),*/\n    of(undefined),\n    // Disable this for now since 400s have negative impact on page scoring\n    /*this.panelPageCached.id ? this.http.get<cssJson.JSONNode>(`${this.mediaSettings.imageUrl}/media/panelpage__${this.panelPageCached.id}.css.json`).pipe(\n      catchError(() => of(undefined)),\n      defaultIfEmpty(undefined)\n    ) : of(undefined),*/\n    of(undefined),\n    // Disable this for now since 400s have negative impact on page scoring\n    /*\n    this.panelPageCached.id ? this.http.get<cssJson.JSONNode>(`${this.mediaSettings.imageUrl}/media/panelpage__${this.panelPageCached.id}.css`).pipe(\n      catchError(() => of(undefined)),\n      defaultIfEmpty(undefined)\n    ) : of(undefined),*/\n    of(undefined), this.panelPageCached.id ? this.http.get(`${this.mediaSettings.imageUrl}/media/panelpage__${this.panelPageCached.id}__classes.json`).pipe(catchError(() => of(undefined)), defaultIfEmpty(undefined)) : of(undefined)]).pipe(tap(([cssFile, managedCss, managedCssRaw, classes]) => {\n      console.log('fetched managed panelpage css and class files');\n      let css = {};\n      this.managedCssCache = '';\n      this.managedClassesCache = classes;\n      if (cssFile) {\n        css = merge(css, cssFile);\n      }\n      if (managedCss) {\n        this.managedCssCache = managedCssRaw;\n        css = merge(css, managedCss);\n      }\n      this.filteredCss = {\n        css,\n        classes\n      };\n    })).subscribe();\n    /*\n    this.http.get<cssJson.JSONNode>(file).subscribe(css => {\n      this.filteredCss = css; //css.styles; - only for sheath\n    });*/\n  }\n  submit() {\n    if (this.pageForm.valid) {\n      const panelPageForm = new PanelPageForm({\n        ...this.pageForm.value\n      });\n      const data = this.formService.serializeForm(panelPageForm);\n      console.log(panelPageForm);\n      console.log(this.formService.serializeForm(panelPageForm));\n      /*this.panelPageFormService.add(panelPageForm).subscribe(() => {\n        alert('panel page form added!');\n      });*/\n      console.log('form data', data);\n      this.persistService.persist({\n        data,\n        persistence: this.panelPageCached.persistence\n      }).subscribe(() => {\n        console.log('persisted data');\n      });\n      ;\n    } else {\n      console.log('detected form invalid');\n    }\n    // Currently PanelPageState ONLY uses the cache because noop data service is used. That has to change...\n    // Experimental only - state forms\n    /*const selectEntities = (entities: EntityCollection<PanelPageState>) => entities.entities;\n    const selectById = ({ id }: { id: string }) => createSelector(\n      selectEntities,\n      entities => entities[id] ? entities[id] : undefined\n    );\n    this.pageBuilderFacade.getPageInfo$.pipe(\n      tap(p => {\n        console.log('page info', p);\n        // console.log('panel page as form', new PanelPageForm({ panels: this.panelPage.panels.map() }));\n      }),\n      switchMap(p => this.panelPageStateService.collection$.pipe(\n        select(selectById({ id: p.id }))\n      )),\n      tap(s => {\n        console.log('panel page state', s);\n      })\n    ).subscribe();*/\n  }\n  writeValue(val) {\n    if (val) {\n      this.settingsFormArray.setValue(val, {\n        emitEvent: false\n      });\n    }\n  }\n  registerOnChange(fn) {\n    this.settingsFormArray.valueChanges.subscribe(fn);\n  }\n  registerOnTouched(fn) {\n    this.onTouched = fn;\n  }\n  setDisabledState(isDisabled) {\n    if (isDisabled) {\n      this.settingsFormArray.disable();\n    } else {\n      this.settingsFormArray.enable();\n    }\n  }\n  validate(c) {\n    /*return this.settingsFormArray.statusChanges.pipe(\n      startWith(this.settingsFormArray.status),  // start with the current form status\n      filter((status) => status === 'VALID'),\n      map(() => null),\n      timeout(1000),\n      catchError(() => of({ invalidForm: {valid: false, message: \"content is invalid\"}})),\n      first()\n    );*/\n    return this.pageForm.statusChanges.pipe(startWith(this.pageForm.status),\n    // start with the current form status\n    filter(status => status !== 'PENDING'), debounceTime(1), take(1),\n    // We only want one emit after status changes from PENDING\n    map(status => {\n      return this.pageForm.valid ? null : {\n        invalidForm: {\n          valid: false,\n          message: \"content is invalid\"\n        }\n      }; // I actually loop through the form and collect the errors, but for validity just return this works fine\n    }));\n    // return of(this.settingsFormArray.valid ? null : { invalidForm: {valid: false, message: \"content is invalid\"}});\n  }\n  static {\n    this.\u0275fac = function PanelPageComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PanelPageComponent)(i0.\u0275\u0275directiveInject(PLATFORM_ID), i0.\u0275\u0275directiveInject(MEDIA_SETTINGS), i0.\u0275\u0275directiveInject(i8.Store), i0.\u0275\u0275directiveInject(i2.UntypedFormBuilder), i0.\u0275\u0275directiveInject(i0.ElementRef), i0.\u0275\u0275directiveInject(i9.InlineContextResolverService), i0.\u0275\u0275directiveInject(i1.PageBuilderFacade), i0.\u0275\u0275directiveInject(i3.ContentPluginManager), i0.\u0275\u0275directiveInject(i9.ContextPluginManager), i0.\u0275\u0275directiveInject(i10.LayoutPluginManager), i0.\u0275\u0275directiveInject(i0.ComponentFactoryResolver), i0.\u0275\u0275directiveInject(i11.StyleLoaderService), i0.\u0275\u0275directiveInject(i12.HttpClient), i0.\u0275\u0275directiveInject(i1.CssHelperService), i0.\u0275\u0275directiveInject(i13.AttributeSerializerService), i0.\u0275\u0275directiveInject(i1.FormService), i0.\u0275\u0275directiveInject(i1.PanelsContextService), i0.\u0275\u0275directiveInject(i11.AsyncApiCallHelperService), i0.\u0275\u0275directiveInject(i14.CrudDataHelperService), i0.\u0275\u0275directiveInject(i5.EntityDefinitionService), i0.\u0275\u0275directiveInject(i0.NgZone), i0.\u0275\u0275directiveInject(i15.PersistService), i0.\u0275\u0275directiveInject(i16.StylizerService), i0.\u0275\u0275directiveInject(i16.ClassifyService), i0.\u0275\u0275directiveInject(i17.FilesService), i0.\u0275\u0275directiveInject(i18.AuthFacade), i0.\u0275\u0275directiveInject(i4.ParamEvaluatorService), i0.\u0275\u0275directiveInject(i0.Renderer2), i0.\u0275\u0275directiveInject(i19.InteractionEventPluginManager), i0.\u0275\u0275directiveInject(i19.InteractionHandlerPluginManager), i0.\u0275\u0275directiveInject(i5.EntityServices));\n    };\n  }\n  static {\n    this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n      type: PanelPageComponent,\n      selectors: [[\"classifieds-ui-panel-page\"]],\n      viewQuery: function PanelPageComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.\u0275\u0275viewQuery(GridLayoutComponent, 5);\n          i0.\u0275\u0275viewQuery(_c1, 7);\n          i0.\u0275\u0275viewQuery(LayoutRendererHostDirective, 5);\n          i0.\u0275\u0275viewQuery(RenderPanelComponent, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.\u0275\u0275queryRefresh(_t = i0.\u0275\u0275loadQuery()) && (ctx.gridLayout = _t.first);\n          i0.\u0275\u0275queryRefresh(_t = i0.\u0275\u0275loadQuery()) && (ctx.renderPanelTpl = _t.first);\n          i0.\u0275\u0275queryRefresh(_t = i0.\u0275\u0275loadQuery()) && (ctx.layoutRendererHost = _t.first);\n          i0.\u0275\u0275queryRefresh(_t = i0.\u0275\u0275loadQuery()) && (ctx.renderedPanels = _t);\n        }\n      },\n      hostVars: 2,\n      hostBindings: function PanelPageComponent_HostBindings(rf, ctx) {\n        if (rf & 2) {\n          i0.\u0275\u0275classProp(\"panel-page\", true);\n        }\n      },\n      inputs: {\n        id: \"id\",\n        panelPage: \"panelPage\",\n        nested: \"nested\",\n        contexts: \"contexts\",\n        ancestory: \"ancestory\",\n        css: \"css\",\n        listeners: \"listeners\",\n        resolvedContext: \"resolvedContext\"\n      },\n      standalone: false,\n      features: [i0.\u0275\u0275ProvidersFeature([{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => PanelPageComponent),\n        multi: true\n      },\n      /*{\n        provide: NG_VALIDATORS,\n        useExisting: forwardRef(() => PanelPageComponent),\n        multi: true\n      },*/\n      {\n        provide: NG_ASYNC_VALIDATORS,\n        useExisting: forwardRef(() => PanelPageComponent),\n        multi: true\n      }])],\n      decls: 5,\n      vars: 1,\n      consts: [[\"renderPanelTpl\", \"\"], [3, \"formGroup\"], [\"classifiedsUiLayoutRendererHost\", \"\"], [\"formArrayName\", \"panels\"], [3, \"formControlName\", \"panel\", \"nested\", \"contexts\", \"resolvedContext\", \"contextsChanged\", \"displayType\", \"indexPosition\", \"css\", \"listeners\", \"ancestory\"]],\n      template: function PanelPageComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.\u0275\u0275elementStart(0, \"div\", 1);\n          i0.\u0275\u0275elementContainerStart(1);\n          i0.\u0275\u0275template(2, PanelPageComponent_ng_template_2_Template, 0, 0, \"ng-template\", 2);\n          i0.\u0275\u0275elementContainerEnd();\n          i0.\u0275\u0275elementEnd();\n          i0.\u0275\u0275template(3, PanelPageComponent_ng_template_3_Template, 3, 12, \"ng-template\", null, 0, i0.\u0275\u0275templateRefExtractor);\n        }\n        if (rf & 2) {\n          i0.\u0275\u0275property(\"formGroup\", ctx.pageForm);\n        }\n      },\n      dependencies: [i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i2.FormArrayName, RenderPanelComponent, LayoutRendererHostDirective],\n      styles: [\"[_nghost-%COMP%]     gridster{background-color:#fff}[_nghost-%COMP%]     gridster-item{background-color:#fff}\"]\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PanelPageComponent, [{\n    type: Component,\n    args: [{\n      selector: 'classifieds-ui-panel-page',\n      host: {\n        '[class.panel-page]': 'true'\n      },\n      providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => PanelPageComponent),\n        multi: true\n      },\n      /*{\n        provide: NG_VALIDATORS,\n        useExisting: forwardRef(() => PanelPageComponent),\n        multi: true\n      },*/\n      {\n        provide: NG_ASYNC_VALIDATORS,\n        useExisting: forwardRef(() => PanelPageComponent),\n        multi: true\n      }],\n      standalone: false,\n      template: \"\\n<div [formGroup]=\\\"pageForm\\\">\\n  <ng-container><ng-template classifiedsUiLayoutRendererHost></ng-template></ng-container>\\n</div>\\n\\n<!-- <button *ngIf=\\\"persistenceEnabled\\\" type=\\\"button\\\" (click)=\\\"submit()\\\">Submit</button> -->\\n\\n<ng-template #renderPanelTpl let-i=\\\"i\\\">\\n  <ng-container [formGroup]=\\\"pageForm\\\">\\n    <ng-container formArrayName=\\\"panels\\\">\\n      <classifieds-ui-render-panel [formControlName]=\\\"i\\\" [panel]=\\\"panelPageCached.panels[i]\\\" [nested]=\\\"nested$.value\\\" [contexts]=\\\"contexts$.value\\\" [resolvedContext]=\\\"resolvedContext\\\" [contextsChanged]=\\\"contextsChanged\\\" [displayType]=\\\"panelPageCached.displayType\\\" [indexPosition]=\\\"i\\\" [css]=\\\"filteredCss\\\" [listeners]=\\\"filteredListeners\\\" [ancestory]=\\\"ancestory$.value\\\"></classifieds-ui-render-panel>\\n    </ng-container>\\n  </ng-container>\\n</ng-template>\\n\",\n      styles: [\":host ::ng-deep gridster{background-color:#fff}:host ::ng-deep gridster-item{background-color:#fff}\\n\"]\n    }]\n  }], () => [{\n    type: Object,\n    decorators: [{\n      type: Inject,\n      args: [PLATFORM_ID]\n    }]\n  }, {\n    type: i17.MediaSettings,\n    decorators: [{\n      type: Inject,\n      args: [MEDIA_SETTINGS]\n    }]\n  }, {\n    type: i8.Store\n  }, {\n    type: i2.UntypedFormBuilder\n  }, {\n    type: i0.ElementRef\n  }, {\n    type: i9.InlineContextResolverService\n  }, {\n    type: i1.PageBuilderFacade\n  }, {\n    type: i3.ContentPluginManager\n  }, {\n    type: i9.ContextPluginManager\n  }, {\n    type: i10.LayoutPluginManager\n  }, {\n    type: i0.ComponentFactoryResolver\n  }, {\n    type: i11.StyleLoaderService\n  }, {\n    type: i12.HttpClient\n  }, {\n    type: i1.CssHelperService\n  }, {\n    type: i13.AttributeSerializerService\n  }, {\n    type: i1.FormService\n  }, {\n    type: i1.PanelsContextService\n  }, {\n    type: i11.AsyncApiCallHelperService\n  }, {\n    type: i14.CrudDataHelperService\n  }, {\n    type: i5.EntityDefinitionService\n  }, {\n    type: i0.NgZone\n  }, {\n    type: i15.PersistService\n  }, {\n    type: i16.StylizerService\n  }, {\n    type: i16.ClassifyService\n  }, {\n    type: i17.FilesService\n  }, {\n    type: i18.AuthFacade\n  }, {\n    type: i4.ParamEvaluatorService\n  }, {\n    type: i0.Renderer2\n  }, {\n    type: i19.InteractionEventPluginManager\n  }, {\n    type: i19.InteractionHandlerPluginManager\n  }, {\n    type: i5.EntityServices\n  }], {\n    id: [{\n      type: Input\n    }],\n    panelPage: [{\n      type: Input\n    }],\n    nested: [{\n      type: Input\n    }],\n    contexts: [{\n      type: Input\n    }],\n    ancestory: [{\n      type: Input\n    }],\n    css: [{\n      type: Input\n    }],\n    listeners: [{\n      type: Input\n    }],\n    resolvedContext: [{\n      type: Input\n    }],\n    gridLayout: [{\n      type: ViewChild,\n      args: [GridLayoutComponent, {\n        static: false\n      }]\n    }],\n    renderPanelTpl: [{\n      type: ViewChild,\n      args: ['renderPanelTpl', {\n        static: true\n      }]\n    }],\n    layoutRendererHost: [{\n      type: ViewChild,\n      args: [LayoutRendererHostDirective, {\n        static: false\n      }]\n    }],\n    renderedPanels: [{\n      type: ViewChildren,\n      args: [RenderPanelComponent]\n    }]\n  });\n})();\nclass EmptyLayoutComponent {\n  static {\n    this.\u0275fac = function EmptyLayoutComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || EmptyLayoutComponent)();\n    };\n  }\n  static {\n    this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n      type: EmptyLayoutComponent,\n      selectors: [[\"classifieds-ui-empty-layout\"]],\n      standalone: false,\n      decls: 1,\n      vars: 0,\n      template: function EmptyLayoutComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.\u0275\u0275text(0, \"empty layout content\");\n        }\n      },\n      encapsulation: 2\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(EmptyLayoutComponent, [{\n    type: Component,\n    args: [{\n      selector: 'classifieds-ui-empty-layout',\n      template: `empty layout content`,\n      standalone: false\n    }]\n  }], null, null);\n})();\nclass RenderDialogComponent {\n  constructor(data,\n  // Accept panelPageId via dialog data\n  dialog) {\n    this.dialog = dialog;\n    this.panelPageId = data.panelPageId || ''; // Assign the incoming panelPageId to the local property\n  }\n  // Method to close the dialog\n  onClose() {\n    this.dialog.closeAll();\n  }\n  static {\n    this.\u0275fac = function RenderDialogComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || RenderDialogComponent)(i0.\u0275\u0275directiveInject(MAT_DIALOG_DATA), i0.\u0275\u0275directiveInject(i1$1.MatDialog));\n    };\n  }\n  static {\n    this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n      type: RenderDialogComponent,\n      selectors: [[\"quell-render-dialog\"]],\n      standalone: false,\n      decls: 7,\n      vars: 1,\n      consts: [[\"mat-dialog-title\", \"\"], [3, \"id\"], [\"mat-button\", \"\", 3, \"click\"]],\n      template: function RenderDialogComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.\u0275\u0275elementStart(0, \"h2\", 0);\n          i0.\u0275\u0275text(1, \"Panel Page\");\n          i0.\u0275\u0275elementEnd();\n          i0.\u0275\u0275elementStart(2, \"mat-dialog-content\");\n          i0.\u0275\u0275element(3, \"classifieds-ui-panel-page\", 1);\n          i0.\u0275\u0275elementEnd();\n          i0.\u0275\u0275elementStart(4, \"mat-dialog-actions\")(5, \"button\", 2);\n          i0.\u0275\u0275listener(\"click\", function RenderDialogComponent_Template_button_click_5_listener() {\n            return ctx.onClose();\n          });\n          i0.\u0275\u0275text(6, \"Close\");\n          i0.\u0275\u0275elementEnd()();\n        }\n        if (rf & 2) {\n          i0.\u0275\u0275advance(3);\n          i0.\u0275\u0275property(\"id\", ctx.panelPageId);\n        }\n      },\n      dependencies: [i2$1.MatButton, i1$1.MatDialogTitle, i1$1.MatDialogActions, i1$1.MatDialogContent, PanelPageComponent],\n      encapsulation: 2\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(RenderDialogComponent, [{\n    type: Component,\n    args: [{\n      selector: 'quell-render-dialog',\n      standalone: false,\n      template: \"<h2 mat-dialog-title>Panel Page</h2>\\n<mat-dialog-content>\\n    <classifieds-ui-panel-page [id]=\\\"panelPageId\\\"></classifieds-ui-panel-page>\\n</mat-dialog-content>\\n<mat-dialog-actions>\\n    <button mat-button (click)=\\\"onClose()\\\">Close</button>\\n</mat-dialog-actions>\"\n    }]\n  }], () => [{\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [MAT_DIALOG_DATA]\n    }]\n  }, {\n    type: i1$1.MatDialog\n  }], null);\n})();\n\n// Keeps track of throttle state per unique form\nconst formThrottleMap = new Map();\nconst formProcessingMap = new Map();\nconst interationHandlerFormSubmit = ({\n  pageBuilderFacade,\n  formService,\n  persistService,\n  transversePanelpageComponentSvc\n}) => {\n  return new InteractionHandlerPlugin({\n    id: 'panels_form_submit',\n    title: 'Submit Panels Form',\n    handle: ({\n      handlerParams,\n      panelPageComponent\n    }) => {\n      const formName = handlerParams?.name;\n      // Return early if no form name is provided\n      if (!formName) {\n        console.log('No form name provided. Ignoring submission request.');\n        return;\n      }\n      // Check if form is already being processed\n      if (formProcessingMap.get(formName)) {\n        console.log(`Form submission is already being processed for: ${formName}`);\n        return;\n      }\n      // Apply throttle: Return if the form is within the 2-second throttle window\n      if (formThrottleMap.get(formName)) {\n        console.log(`Form submission for ${formName} is throttled. Try again later.`);\n        return;\n      }\n      // Mark the form as in progress\n      formProcessingMap.set(formName, true);\n      console.log(`Processing form submission for: ${formName}`);\n      pageBuilderFacade.getForm$(formName).pipe(take(1),\n      // Take a single form at a time\n      tap(panelPageForm => {\n        if (!panelPageForm) {\n          console.log(`Form ${formName} not found.`);\n          return;\n        }\n        if (panelPageForm.valid) {\n          const data = formService.serializeForm(panelPageForm);\n          console.log('Panel Page Form Data:', data);\n          persistService.persist({\n            data,\n            persistence: panelPageForm.persistence\n          }).subscribe({\n            next: () => {\n              console.log('Form Submitted successfully:', formName);\n              alert('Form Submitted');\n            },\n            error: err => {\n              console.error('Error persisting form: ', err);\n            },\n            complete: () => {\n              console.log('Form submission complete for:', formName);\n            }\n          });\n        } else {\n          transversePanelpageComponentSvc.traverseAndVisit(panelPageComponent, component => {\n            if (component instanceof RenderPaneComponent && component.componentRef && component.componentRef.instance && component.componentRef.instance.markAsTouched) {\n              // console.log('marking as touched');\n              component.componentRef.instance.markAsTouched();\n            } else {\n              // console.log('visiting component', component);\n            }\n          });\n          console.log('Form is invalid or unavailable. Skipping processing for:', formName);\n        }\n      }), finalize(() => {\n        // Reset processing state\n        formProcessingMap.delete(formName);\n        // Set throttle state\n        formThrottleMap.set(formName, true);\n        timer(2000).subscribe(() => {\n          // Clear throttle after 2 seconds\n          formThrottleMap.delete(formName);\n        });\n        console.log(`Throttle applied for form: ${formName}`);\n      })).subscribe({\n        error: err => {\n          console.error(`Error occurred during form submission for ${formName}:`, err);\n          // Clean up on error\n          formProcessingMap.delete(formName);\n          formThrottleMap.delete(formName);\n        }\n      });\n    }\n  });\n};\nconst interationHandlerDialog = ({\n  dialog\n}) => {\n  return new InteractionHandlerPlugin({\n    id: 'panels_dialog',\n    title: 'Open Panels Dialog',\n    handle: ({\n      handlerParams\n    }) => {\n      // Extract optional parameters and set defaults\n      const panelPageId = handlerParams?.panelPageId || '';\n      const dialogTitle = handlerParams?.title || 'Panel Page'; // Default title\n      const dialogWidth = handlerParams?.width || '800px'; // Default width\n      // If no panelPageId is provided, log an error and exit early\n      if (!panelPageId) {\n        console.error('No Panel Page ID provided. Cannot open dialog.');\n        return;\n      }\n      // Open the dialog with dynamic properties\n      dialog.open(RenderDialogComponent, {\n        width: dialogWidth,\n        // Use dynamic or default width\n        data: {\n          panelPageId,\n          // Pass the panel page ID\n          title: dialogTitle // Pass the title\n        }\n      });\n    }\n  });\n};\nclass TransversePanelPageComponentService {\n  /**\n   * Recursively traverses the hierarchy of the panel page components.\n   *\n   * @param component - The starting component to transverse (can be PanelPageComponent, RenderPanelComponent, or RenderPaneComponent).\n   * @param visitorFn - A visitor function that will be called for each component visited in the hierarchy.\n   */\n  traverseAndVisit(component, visitorFn) {\n    if (!component) {\n      return;\n    }\n    // Call the visitor function for the current component\n    visitorFn(component);\n    if (component instanceof PanelPageComponent) {\n      // Traverse all rendered panels in the PanelPageComponent\n      component.renderedPanels.forEach(renderPanelComponent => {\n        this.traverseAndVisit(renderPanelComponent, visitorFn);\n      });\n    } else if (component instanceof RenderPanelComponent) {\n      // Traverse all rendered panes in the RenderPanelComponent\n      component.renderedPanes.forEach(renderPaneComponent => {\n        this.traverseAndVisit(renderPaneComponent, visitorFn);\n      });\n    } else if (component instanceof RenderPaneComponent) {\n      // Check for nested PanelPageComponent inside RenderPaneComponent\n      if (component.panelPageComponent) {\n        this.traverseAndVisit(component.panelPageComponent, visitorFn);\n      }\n    }\n  }\n  static {\n    this.\u0275fac = function TransversePanelPageComponentService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || TransversePanelPageComponentService)();\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: TransversePanelPageComponentService,\n      factory: TransversePanelPageComponentService.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(TransversePanelPageComponentService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\n\n// import { PanelpageModule } from 'panelpage';\nclass RenderModule {\n  constructor(ihpm, pageBuilderFacade, formService, persistService, dialog, transversePanelpageComponentSvc) {\n    ihpm.register(interationHandlerFormSubmit({\n      pageBuilderFacade,\n      formService,\n      persistService,\n      transversePanelpageComponentSvc\n    }));\n    ihpm.register(interationHandlerDialog({\n      dialog\n    }));\n  }\n  static {\n    this.\u0275fac = function RenderModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || RenderModule)(i0.\u0275\u0275inject(i19.InteractionHandlerPluginManager), i0.\u0275\u0275inject(i1.PageBuilderFacade), i0.\u0275\u0275inject(i1.FormService), i0.\u0275\u0275inject(i15.PersistService), i0.\u0275\u0275inject(i1$1.MatDialog), i0.\u0275\u0275inject(TransversePanelPageComponentService));\n    };\n  }\n  static {\n    this.\u0275mod = /* @__PURE__ */i0.\u0275\u0275defineNgModule({\n      type: RenderModule\n    });\n  }\n  static {\n    this.\u0275inj = /* @__PURE__ */i0.\u0275\u0275defineInjector({\n      imports: [CommonModule,\n      // HttpClientModule,\n      FormsModule, UtilsModule, ReactiveFormsModule, PanelsModule, LayoutModule, MaterialModule\n      // PanelpageModule\n      ]\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(RenderModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [PaneContentHostDirective, EmptyLayoutComponent, RenderPanelComponent, RenderPaneComponent, LayoutRendererHostDirective, PanelPageComponent, RenderDialogComponent],\n      imports: [CommonModule,\n      // HttpClientModule,\n      FormsModule, UtilsModule, ReactiveFormsModule, PanelsModule, LayoutModule, MaterialModule\n      // PanelpageModule\n      ],\n      exports: [RenderPanelComponent, RenderPaneComponent, PanelPageComponent, EmptyLayoutComponent]\n    }]\n  }], () => [{\n    type: i19.InteractionHandlerPluginManager\n  }, {\n    type: i1.PageBuilderFacade\n  }, {\n    type: i1.FormService\n  }, {\n    type: i15.PersistService\n  }, {\n    type: i1$1.MatDialog\n  }, {\n    type: TransversePanelPageComponentService\n  }], null);\n})();\n\n/*\n * Public API Surface of render\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { EmptyLayoutComponent, PanelPageComponent, RenderModule, RenderPaneComponent, RenderPanelComponent, TransversePanelPageComponentService };\n"],
  "mappings": "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",
  "names": ["i", "resolvedPanes", "originMappings", "p"]
}
