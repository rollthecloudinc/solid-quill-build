{
  "version": 3,
  "sources": ["../../@rollthecloudinc/awcog/fesm2022/rollthecloudinc-awcog.mjs"],
  "sourcesContent": ["import * as i0 from '@angular/core';\nimport { Injectable, NgModule, InjectionToken } from '@angular/core';\nimport * as i1 from '@ngrx/effects';\nimport { createEffect, ofType, EffectsModule } from '@ngrx/effects';\nimport * as i2 from '@ngrx/data';\nimport { EntityOp, ofEntityType, ofEntityOp } from '@ngrx/data';\nimport { map, tap } from 'rxjs/operators';\nimport { AuthActions } from '@rollthecloudinc/auth';\nimport Cookies from 'js-cookie';\nclass CognitoAuthEffects {\n  constructor(actions$, entityActionFactory) {\n    this.actions$ = actions$;\n    this.entityActionFactory = entityActionFactory;\n    this.setUser = createEffect(() => this.actions$.pipe(ofType(AuthActions.AuthActionTypes.SetUser), map(() => this.entityActionFactory.create('Cookie', EntityOp.QUERY_ALL))));\n    this.loadCookies$ = createEffect(() => this.actions$.pipe(ofEntityType('Cookie'), ofEntityOp([EntityOp.QUERY_ALL_SUCCESS]), tap(action => console.log(action.payload.data)), tap(action => {\n      action.payload.data.forEach(c => Cookies.set(c.name, c.value, {\n        expires: new Date(new Date().getTime() + 1 * 3600 * 1000)\n      }));\n    })), {\n      dispatch: false\n    });\n  }\n  static {\n    this.\u0275fac = function CognitoAuthEffects_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CognitoAuthEffects)(i0.\u0275\u0275inject(i1.Actions), i0.\u0275\u0275inject(i2.EntityActionFactory));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: CognitoAuthEffects,\n      factory: CognitoAuthEffects.\u0275fac\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(CognitoAuthEffects, [{\n    type: Injectable\n  }], () => [{\n    type: i1.Actions\n  }, {\n    type: i2.EntityActionFactory\n  }], null);\n})();\nclass AwcogModule {\n  static {\n    this.\u0275fac = function AwcogModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || AwcogModule)();\n    };\n  }\n  static {\n    this.\u0275mod = /* @__PURE__ */i0.\u0275\u0275defineNgModule({\n      type: AwcogModule\n    });\n  }\n  static {\n    this.\u0275inj = /* @__PURE__ */i0.\u0275\u0275defineInjector({\n      imports: [EffectsModule.forFeature([CognitoAuthEffects])]\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(AwcogModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [],\n      imports: [EffectsModule.forFeature([CognitoAuthEffects])],\n      exports: []\n    }]\n  }], null, null);\n})();\nclass CognitoSettings {\n  constructor(data) {\n    if (data) {\n      this.identityPoolId = data.identityPoolId;\n      this.region = data.region;\n      this.userPoolId = data.userPoolId;\n    }\n  }\n}\nconst COGNITO_SETTINGS = new InjectionToken('CognitoSettings');\n\n/*\n * Public API Surface of awcog\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AwcogModule, COGNITO_SETTINGS, CognitoSettings };\n"],
  "mappings": ";;;AAAA,YAAY,QAAQ;AACpB,SAAS,YAAY,UAAU,sBAAsB;AACrD,YAAY,QAAQ;AACpB,SAAS,cAAc,QAAQ,qBAAqB;AACpD,YAAY,QAAQ;AACpB,SAAS,UAAU,cAAc,kBAAkB;AACnD,SAAS,KAAK,WAAW;AACzB,SAAS,mBAAmB;AAC5B,OAAO,aAAa;AACpB,IAAM,qBAAN,MAAM,oBAAmB;AAAA,EACvB,YAAY,UAAU,qBAAqB;AACzC,SAAK,WAAW;AAChB,SAAK,sBAAsB;AAC3B,SAAK,UAAU,aAAa,MAAM,KAAK,SAAS,KAAK,OAAO,YAAY,gBAAgB,OAAO,GAAG,IAAI,MAAM,KAAK,oBAAoB,OAAO,UAAU,SAAS,SAAS,CAAC,CAAC,CAAC;AAC3K,SAAK,eAAe,aAAa,MAAM,KAAK,SAAS,KAAK,aAAa,QAAQ,GAAG,WAAW,CAAC,SAAS,iBAAiB,CAAC,GAAG,IAAI,YAAU,QAAQ,IAAI,OAAO,QAAQ,IAAI,CAAC,GAAG,IAAI,YAAU;AACzL,aAAO,QAAQ,KAAK,QAAQ,OAAK,QAAQ,IAAI,EAAE,MAAM,EAAE,OAAO;AAAA,QAC5D,SAAS,IAAI,MAAK,oBAAI,KAAK,GAAE,QAAQ,IAAI,IAAI,OAAO,GAAI;AAAA,MAC1D,CAAC,CAAC;AAAA,IACJ,CAAC,CAAC,GAAG;AAAA,MACH,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EACA,OAAO;AACL,SAAK,YAAO,SAAS,2BAA2B,mBAAmB;AACjE,aAAO,KAAK,qBAAqB,qBAAuB,sBAAY,UAAO,GAAM,sBAAY,sBAAmB,CAAC;AAAA,IACnH;AAAA,EACF;AAAA,EACA,OAAO;AACL,SAAK,aAAuB,gBAAG,gCAAmB;AAAA,MAChD,OAAO;AAAA,MACP,SAAS,oBAAmB;AAAA,IAC9B,CAAC;AAAA,EACH;AACF;AAAA,CACC,MAAM;AACL,GAAC,OAAO,cAAc,eAAe,cAAiB,0BAAkB,oBAAoB,CAAC;AAAA,IAC3F,MAAM;AAAA,EACR,CAAC,GAAG,MAAM,CAAC;AAAA,IACT,MAAS;AAAA,EACX,GAAG;AAAA,IACD,MAAS;AAAA,EACX,CAAC,GAAG,IAAI;AACV,GAAG;AACH,IAAM,cAAN,MAAM,aAAY;AAAA,EAChB,OAAO;AACL,SAAK,YAAO,SAAS,oBAAoB,mBAAmB;AAC1D,aAAO,KAAK,qBAAqB,cAAa;AAAA,IAChD;AAAA,EACF;AAAA,EACA,OAAO;AACL,SAAK,YAAsB,gBAAG,8BAAiB;AAAA,MAC7C,MAAM;AAAA,IACR,CAAC;AAAA,EACH;AAAA,EACA,OAAO;AACL,SAAK,YAAsB,gBAAG,8BAAiB;AAAA,MAC7C,SAAS,CAAC,cAAc,WAAW,CAAC,kBAAkB,CAAC,CAAC;AAAA,IAC1D,CAAC;AAAA,EACH;AACF;AAAA,CACC,MAAM;AACL,GAAC,OAAO,cAAc,eAAe,cAAiB,0BAAkB,aAAa,CAAC;AAAA,IACpF,MAAM;AAAA,IACN,MAAM,CAAC;AAAA,MACL,cAAc,CAAC;AAAA,MACf,SAAS,CAAC,cAAc,WAAW,CAAC,kBAAkB,CAAC,CAAC;AAAA,MACxD,SAAS,CAAC;AAAA,IACZ,CAAC;AAAA,EACH,CAAC,GAAG,MAAM,IAAI;AAChB,GAAG;AACH,IAAM,kBAAN,MAAsB;AAAA,EACpB,YAAY,MAAM;AAChB,QAAI,MAAM;AACR,WAAK,iBAAiB,KAAK;AAC3B,WAAK,SAAS,KAAK;AACnB,WAAK,aAAa,KAAK;AAAA,IACzB;AAAA,EACF;AACF;AACA,IAAM,mBAAmB,IAAI,eAAe,iBAAiB;",
  "names": []
}
