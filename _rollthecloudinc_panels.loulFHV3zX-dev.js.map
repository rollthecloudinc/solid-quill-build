{
  "version": 3,
  "sources": ["../../cssjson/cssjson.js", "../../@rollthecloudinc/panels/fesm2022/rollthecloudinc-panels.mjs"],
  "sourcesContent": ["/**\r\n * CSS-JSON Converter for JavaScript\r\n * Converts CSS to JSON and back.\r\n * Version 2.1\r\n *\r\n * Released under the MIT license.\r\n *\r\n * Copyright (c) 2013 Aram Kocharyan, http://aramk.com/\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated\r\n documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation\r\n the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and\r\n to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be included in all copies or substantial portions\r\n of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO\r\n THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n THE SOFTWARE.\r\n */\r\n\r\n\r\n/*******************************************************************************\r\n *  UMD pattern for exporting module\r\n */\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define([], factory);\r\n    } else if (typeof exports === 'object') {\r\n        // Node. Does not work with strict CommonJS, but\r\n        // only CommonJS-like environments that support module.exports,\r\n        // like Node.\r\n        module.exports = factory();\r\n    } else {\r\n        // Browser globals (root is window)\r\n        root.CSSJSON = factory();\r\n  }\r\n}(this, function () {\r\n\r\n    var CSSJSON = new function () {\r\n\r\n        var base = this;\r\n\r\n        base.init = function () {\r\n            // String functions\r\n            String.prototype.trim = function () {\r\n                return this.replace(/^\\s+|\\s+$/g, '');\r\n            };\r\n\r\n            String.prototype.repeat = function (n) {\r\n                return new Array(1 + n).join(this);\r\n            };\r\n        };\r\n        base.init();\r\n\r\n        var selX = /([^\\s\\;\\{\\}][^\\;\\{\\}]*)\\{/g;\r\n        var endX = /\\}/g;\r\n        var lineX = /([^\\;\\{\\}]*)\\;/g;\r\n        var commentX = /\\/\\*[\\s\\S]*?\\*\\//g;\r\n        var lineAttrX = /([^\\:]+):([^\\;]*);/;\r\n\r\n        // This is used, a concatenation of all above. We use alternation to\r\n        // capture.\r\n        var altX = /(\\/\\*[\\s\\S]*?\\*\\/)|([^\\s\\;\\{\\}][^\\;\\{\\}]*(?=\\{))|(\\})|([^\\;\\{\\}]+\\;(?!\\s*\\*\\/))/gmi;\r\n\r\n        // Capture groups\r\n        var capComment = 1;\r\n        var capSelector = 2;\r\n        var capEnd = 3;\r\n        var capAttr = 4;\r\n\r\n        var isEmpty = function (x) {\r\n            return typeof x == 'undefined' || x.length == 0 || x == null;\r\n        };\r\n\r\n        /**\r\n         * Input is css string and current pos, returns JSON object\r\n         *\r\n         * @param cssString\r\n         *            The CSS string.\r\n         * @param args\r\n         *            An optional argument object. ordered: Whether order of\r\n         *            comments and other nodes should be kept in the output. This\r\n         *            will return an object where all the keys are numbers and the\r\n         *            values are objects containing \"name\" and \"value\" keys for each\r\n         *            node. comments: Whether to capture comments. split: Whether to\r\n         *            split each comma separated list of selectors.\r\n         */\r\n        base.toJSON = function (cssString, args) {\r\n            var node = {\r\n                children: {},\r\n                attributes: {}\r\n            };\r\n            var match = null;\r\n            var count = 0;\r\n\r\n            if (typeof args == 'undefined') {\r\n                var args = {\r\n                    ordered: false,\r\n                    comments: false,\r\n                    stripComments: false,\r\n                    split: false\r\n                };\r\n            }\r\n            if (args.stripComments) {\r\n                args.comments = false;\r\n                cssString = cssString.replace(commentX, '');\r\n            }\r\n\r\n            while ((match = altX.exec(cssString)) != null) {\r\n                if (!isEmpty(match[capComment]) && args.comments) {\r\n                    // Comment\r\n                    var add = match[capComment].trim();\r\n                    node[count++] = add;\r\n                } else if (!isEmpty(match[capSelector])) {\r\n                    // New node, we recurse\r\n                    var name = match[capSelector].trim();\r\n                    // This will return when we encounter a closing brace\r\n                    var newNode = base.toJSON(cssString, args);\r\n                    if (args.ordered) {\r\n                        var obj = {};\r\n                        obj['name'] = name;\r\n                        obj['value'] = newNode;\r\n                        // Since we must use key as index to keep order and not\r\n                        // name, this will differentiate between a Rule Node and an\r\n                        // Attribute, since both contain a name and value pair.\r\n                        obj['type'] = 'rule';\r\n                        node[count++] = obj;\r\n                    } else {\r\n                        if (args.split) {\r\n                            var bits = name.split(',');\r\n                        } else {\r\n                            var bits = [name];\r\n                        }\r\n                        for (i in bits) {\r\n                            var sel = bits[i].trim();\r\n                            if (sel in node.children) {\r\n                                for (var att in newNode.attributes) {\r\n                                    node.children[sel].attributes[att] = newNode.attributes[att];\r\n                                }\r\n                            } else {\r\n                                node.children[sel] = newNode;\r\n                            }\r\n                        }\r\n                    }\r\n                } else if (!isEmpty(match[capEnd])) {\r\n                    // Node has finished\r\n                    return node;\r\n                } else if (!isEmpty(match[capAttr])) {\r\n                    var line = match[capAttr].trim();\r\n                    var attr = lineAttrX.exec(line);\r\n                    if (attr) {\r\n                        // Attribute\r\n                        var name = attr[1].trim();\r\n                        var value = attr[2].trim();\r\n                        if (args.ordered) {\r\n                            var obj = {};\r\n                            obj['name'] = name;\r\n                            obj['value'] = value;\r\n                            obj['type'] = 'attr';\r\n                            node[count++] = obj;\r\n                        } else {\r\n                            if (name in node.attributes) {\r\n                                var currVal = node.attributes[name];\r\n                                if (!(currVal instanceof Array)) {\r\n                                    node.attributes[name] = [currVal];\r\n                                }\r\n                                node.attributes[name].push(value);\r\n                            } else {\r\n                                node.attributes[name] = value;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        // Semicolon terminated line\r\n                        node[count++] = line;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return node;\r\n        };\r\n\r\n        /**\r\n         * @param node\r\n         *            A JSON node.\r\n         * @param depth\r\n         *            The depth of the current node; used for indentation and\r\n         *            optional.\r\n         * @param breaks\r\n         *            Whether to add line breaks in the output.\r\n         */\r\n        base.toCSS = function (node, depth, breaks) {\r\n            var cssString = '';\r\n            if (typeof depth == 'undefined') {\r\n                depth = 0;\r\n            }\r\n            if (typeof breaks == 'undefined') {\r\n                breaks = false;\r\n            }\r\n            if (node.attributes) {\r\n                for (i in node.attributes) {\r\n                    var att = node.attributes[i];\r\n                    if (att instanceof Array) {\r\n                        for (var j = 0; j < att.length; j++) {\r\n                            cssString += strAttr(i, att[j], depth);\r\n                        }\r\n                    } else {\r\n                        cssString += strAttr(i, att, depth);\r\n                    }\r\n                }\r\n            }\r\n            if (node.children) {\r\n                var first = true;\r\n                for (i in node.children) {\r\n                    if (breaks && !first) {\r\n                        cssString += '\\n';\r\n                    } else {\r\n                        first = false;\r\n                    }\r\n                    cssString += strNode(i, node.children[i], depth);\r\n                }\r\n            }\r\n            return cssString;\r\n        };\r\n\r\n        // Helpers\r\n\r\n        var strAttr = function (name, value, depth) {\r\n            return '\\t'.repeat(depth) + name + ': ' + value + ';\\n';\r\n        };\r\n\r\n        var strNode = function (name, value, depth) {\r\n            var cssString = '\\t'.repeat(depth) + name + ' {\\n';\r\n            cssString += base.toCSS(value, depth + 1);\r\n            cssString += '\\t'.repeat(depth) + '}\\n';\r\n            return cssString;\r\n        };\r\n\r\n    };\r\n\r\n    return CSSJSON;\r\n}));\r\n", "import * as i3 from '@angular/common';\nimport { isPlatformServer, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Injectable, forwardRef, Input, Component, Inject, InjectionToken, PLATFORM_ID, NgModule, Optional } from '@angular/core';\nimport * as i1$3 from '@ngrx/data';\nimport { DefaultPluralizer, Pluralizer } from '@ngrx/data';\nimport * as i1$1 from '@angular/forms';\nimport { NG_VALUE_ACCESSOR, NG_VALIDATORS, UntypedFormControl, Validators, UntypedFormArray, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { of, BehaviorSubject, iif, forkJoin, Observable, Subject, Subscription } from 'rxjs';\nimport { map, switchMap, filter, defaultIfEmpty, catchError, concatMap, tap, take } from 'rxjs/operators';\nimport * as i1 from '@rollthecloudinc/attributes';\nimport { AttributeValue } from '@rollthecloudinc/attributes';\nimport * as i3$5 from '@rollthecloudinc/context';\nimport { InlineContext } from '@rollthecloudinc/context';\nimport { PersistenceFormPayload } from '@rollthecloudinc/refinery';\nimport { InteractionsFormPayload } from '@rollthecloudinc/detour';\nimport * as i2 from '@rollthecloudinc/content';\nimport { ContentPluginEditorOptions, ContentBinding, ContentPlugin, CONTENT_PLUGIN } from '@rollthecloudinc/content';\nimport * as i4$1 from '@rollthecloudinc/datasource';\nimport { Dataset, Datasource, DatasourceModule } from '@rollthecloudinc/datasource';\nimport * as i4 from '@angular/material/autocomplete';\nimport * as i5 from '@angular/material/input';\nimport * as i6 from '@angular/material/select';\nimport * as i2$1 from '@rollthecloudinc/utils';\nimport { SITE_NAME, NoopDataService } from '@rollthecloudinc/utils';\nimport { MaterialModule } from '@rollthecloudinc/material';\nimport * as uuid from 'uuid';\nimport * as i1$2 from '@angular/material/bottom-sheet';\nimport * as i3$1 from '@angular/material/dialog';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport * as i7 from '@angular/material/grid-list';\nimport * as i8 from '@angular/material/list';\nimport * as i9 from '@angular/material/tabs';\nimport * as i3$4 from '@rollthecloudinc/bridge';\nimport { BridgeBuilderPlugin, PublicApiBridgeService } from '@rollthecloudinc/bridge';\nimport * as i5$1 from '@rollthecloudinc/crud';\nimport { CrudAdaptorPlugin, CrudDataService, CrudModule } from '@rollthecloudinc/crud';\nimport * as i3$2 from '@rollthecloudinc/rules';\nimport * as cssJson from 'cssjson';\nimport { Aws3Module } from '@rollthecloudinc/aws3';\nimport { AwosModule } from '@rollthecloudinc/awos';\nimport { AuthModule } from '@rollthecloudinc/auth';\nimport * as i1$4 from '@ngrx/effects';\nimport { createEffect, ofType, EffectsModule } from '@ngrx/effects';\nimport * as jpp from 'jsonpath-plus';\nimport * as i1$5 from '@ngrx/store';\nimport { createAction, props, createReducer, on, StoreModule, createFeatureSelector, createSelector, select } from '@ngrx/store';\nimport * as i3$3 from '@rollthecloudinc/snippet';\nimport * as i1$6 from '@rollthecloudinc/plugin';\nimport { BasePluginManager, PluginDef, Plugin } from '@rollthecloudinc/plugin';\nimport { DataSource } from '@angular/cdk/collections';\nimport merge from 'deepmerge-json';\nimport { pluralize } from 'inflected';\n\n//import { EntityMetadataMap } from '@ngrx/data';\nfunction PanelPageLinkedlistComponent_mat_form_field_1_mat_option_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"mat-option\", 5);\n    i0.\u0275\u0275text(1);\n    i0.\u0275\u0275elementEnd();\n  }\n  if (rf & 2) {\n    const i_r1 = ctx.index;\n    i0.\u0275\u0275property(\"value\", i_r1);\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275textInterpolate1(\"panel page | level: \", i_r1);\n  }\n}\nfunction PanelPageLinkedlistComponent_mat_form_field_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"mat-form-field\")(1, \"mat-select\", 3);\n    i0.\u0275\u0275template(2, PanelPageLinkedlistComponent_mat_form_field_1_mat_option_2_Template, 2, 2, \"mat-option\", 4);\n    i0.\u0275\u0275pipe(3, \"async\");\n    i0.\u0275\u0275elementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.\u0275\u0275nextContext();\n    i0.\u0275\u0275advance(2);\n    i0.\u0275\u0275property(\"ngForOf\", i0.\u0275\u0275pipeBind1(3, 1, ctx_r1.panelPages$));\n  }\n}\nfunction PanelPageLinkedlistComponent_mat_form_field_2_mat_option_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"mat-option\", 5);\n    i0.\u0275\u0275text(1);\n    i0.\u0275\u0275elementEnd();\n  }\n  if (rf & 2) {\n    const i_r3 = ctx.index;\n    i0.\u0275\u0275property(\"value\", i_r3);\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275textInterpolate1(\"panel | \", i_r3);\n  }\n}\nfunction PanelPageLinkedlistComponent_mat_form_field_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"mat-form-field\")(1, \"mat-select\", 6);\n    i0.\u0275\u0275template(2, PanelPageLinkedlistComponent_mat_form_field_2_mat_option_2_Template, 2, 2, \"mat-option\", 4);\n    i0.\u0275\u0275pipe(3, \"async\");\n    i0.\u0275\u0275elementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.\u0275\u0275nextContext();\n    i0.\u0275\u0275advance(2);\n    i0.\u0275\u0275property(\"ngForOf\", i0.\u0275\u0275pipeBind1(3, 1, ctx_r1.panels$));\n  }\n}\nfunction PanelPageLinkedlistComponent_mat_form_field_3_mat_option_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"mat-option\", 5);\n    i0.\u0275\u0275text(1);\n    i0.\u0275\u0275elementEnd();\n  }\n  if (rf & 2) {\n    const i_r4 = ctx.index;\n    i0.\u0275\u0275property(\"value\", i_r4);\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275textInterpolate1(\"pane | \", i_r4);\n  }\n}\nfunction PanelPageLinkedlistComponent_mat_form_field_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"mat-form-field\")(1, \"mat-select\", 7);\n    i0.\u0275\u0275template(2, PanelPageLinkedlistComponent_mat_form_field_3_mat_option_2_Template, 2, 2, \"mat-option\", 4);\n    i0.\u0275\u0275pipe(3, \"async\");\n    i0.\u0275\u0275elementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.\u0275\u0275nextContext();\n    i0.\u0275\u0275advance(2);\n    i0.\u0275\u0275property(\"ngForOf\", i0.\u0275\u0275pipeBind1(3, 1, ctx_r1.panes$));\n  }\n}\nfunction PanelPageLinkedlistComponent_druid_panels_panelpage_linkedlist_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275element(0, \"druid-panels-panelpage-linkedlist\", 8);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.\u0275\u0275nextContext();\n    i0.\u0275\u0275property(\"panelPages\", ctx_r1.nested);\n  }\n}\nfunction PanelSelectorComponent_ng_template_10_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.\u0275\u0275getCurrentView();\n    i0.\u0275\u0275elementStart(0, \"a\", 2);\n    i0.\u0275\u0275listener(\"click\", function PanelSelectorComponent_ng_template_10_a_1_Template_a_click_0_listener() {\n      const panel_r2 = i0.\u0275\u0275restoreView(_r1).$implicit;\n      const ctx_r2 = i0.\u0275\u0275nextContext(2);\n      return i0.\u0275\u0275resetView(ctx_r2.onItemSelect(panel_r2.id));\n    });\n    i0.\u0275\u0275elementStart(1, \"span\", 6);\n    i0.\u0275\u0275text(2);\n    i0.\u0275\u0275elementEnd()();\n  }\n  if (rf & 2) {\n    const panel_r2 = ctx.$implicit;\n    i0.\u0275\u0275advance(2);\n    i0.\u0275\u0275textInterpolate2(\"\", panel_r2.title, \" [\", panel_r2.id, \"]\");\n  }\n}\nfunction PanelSelectorComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"mat-nav-list\");\n    i0.\u0275\u0275template(1, PanelSelectorComponent_ng_template_10_a_1_Template, 3, 2, \"a\", 5);\n    i0.\u0275\u0275pipe(2, \"async\");\n    i0.\u0275\u0275elementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.\u0275\u0275nextContext();\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275property(\"ngForOf\", i0.\u0275\u0275pipeBind1(2, 1, ctx_r2.panels$));\n  }\n}\nconst entityMetadataFactory = (platformId, panelsSettings) => {\n  return {\n    PanelPageListItem: {\n      entityName: 'PanelPageListItem',\n      crud: {\n        /*rest: {\n          // ops: ['query'],\n          params: {\n            entityName: 'PanelPageListItem'\n          }\n        },*/\n        /*aws_opensearch_template: {\n          ops: ['query'],\n          params: {\n            id: 'panelpagelistitems',\n            index: 'classified_panelpages',\n            hits: true,\n            source: true,\n            // domain: 'search-classifieds-ui-dev-eldczuhq3vesgpjnr3vie6cagq',\n            domain: panelsSettings.openSearchDomain,\n            region: 'us-east-1'\n          }\n        },*/\n        /*aws_opensearch_entity: {\n          ops: ['create', 'update'],\n          params: {\n            index: 'classified_panelpages',\n            // domain: 'search-classifieds-ui-dev-eldczuhq3vesgpjnr3vie6cagq',\n            domain: panelsSettings.openSearchDomain,\n            region: 'us-east-1'\n          }\n        },*/\n        ...(isPlatformServer(platformId) ? {} : {\n          idb_keyval: {\n            params: {\n              prefix: 'panelpage__'\n            },\n            queryMappings: new Map([\n            // ['path', { defaultOperator: 'startsWith' }]\n            ['site', {\n              defaultOperator: 'term||wildcard'\n            }], ['path', {\n              defaultOperator: 'term||wildcard'\n            }]])\n          }\n        }),\n        /*aws_opensearch_entity: {\n          ops: ['create', 'update', 'read', 'delete']\n        },*/\n        idb_keyval: {\n          params: {\n            prefix: 'panelpage__'\n          },\n          queryMappings: new Map([\n          // ['path', { defaultOperator: 'startsWith' }]\n          ['site', {\n            defaultOperator: 'term||wildcard'\n          }], ['path', {\n            defaultOperator: 'term||wildcard'\n          }]])\n        }\n      }\n    },\n    PanelPage: {\n      entityName: 'PanelPage',\n      crud: {\n        /*aws_s3_entity: {\n          ops: ['query', 'create', 'update'],\n          params: {\n            // bucket: 'classifieds-ui-dev',\n            bucket: panelsSettings.s3Bucket,\n            prefix: 'panelpages/'\n          }\n        }*/\n        save: {\n          ops: ['create', 'update'],\n          plugin: 'rest',\n          params: {\n            entityName: 'PanelPage'\n          }\n        },\n        ...(isPlatformServer(platformId) ? {} : {\n          readPrimary: {\n            fallback: true,\n            ops: ['create', 'update', 'query'],\n            plugin: 'idb_keyval',\n            params: {\n              prefix: 'panelpage__'\n            }\n          }\n        }),\n        readFallback: {\n          fallback: true,\n          ops: ['query'],\n          plugin: 'rest',\n          params: {\n            entityName: 'PanelPage',\n            root: panelsSettings.objectsRootUrl,\n            // root: 'https://rollthecloudinc.github.io/ipe-objects',\n            // root: '/assets/objects',\n            suffix: '.json'\n          }\n        },\n        ...(isPlatformServer(platformId) ? {} : {\n          idb_keyval: {\n            params: {\n              prefix: 'panelpage__'\n            }\n          }\n        })\n      }\n    },\n    PanelPageState: {\n      entityName: 'PanelPageState'\n    }\n  };\n};\nclass PanelsSettings {\n  constructor(data) {\n    if (data) {\n      this.openSearchDomain = data.openSearchDomain;\n      this.s3Bucket = data.s3Bucket;\n      this.objectsRootUrl = data.objectsRootUrl;\n    }\n  }\n}\nclass PanelPage {\n  constructor(data) {\n    this.gridItems = [];\n    this.panels = [];\n    this.contexts = [];\n    this.rowSettings = [];\n    this.entityPermissions = new PanelPagePermissions();\n    if (data) {\n      this.id = data.id;\n      this.layoutType = data.layoutType;\n      this.displayType = data.displayType;\n      this.name = data.name ? data.name : undefined;\n      this.title = data.title ? data.title : undefined;\n      this.site = data.site ? data.site : undefined;\n      this.userId = data.userId ? data.userId : undefined;\n      this.path = data.path ? data.path : undefined;\n      this.persistence = data.persistence ? new PersistenceFormPayload(data.persistence) : undefined;\n      this.interactions = data.interactions ? new InteractionsFormPayload(data.interactions) : undefined;\n      if (data.panels) {\n        this.panels = data.panels.map(p => new Panel(p));\n      }\n      if (data.gridItems) {\n        this.gridItems = data.gridItems.map(i => new GridItem(i));\n      }\n      if (data.contexts) {\n        this.contexts = data.contexts.map(c => new InlineContext(c));\n      }\n      if (data.layoutSetting) {\n        this.layoutSetting = new LayoutSetting(data.layoutSetting);\n      }\n      if (data.rowSettings && Array.isArray(data.rowSettings)) {\n        this.rowSettings = data.rowSettings.map(s => new LayoutSetting(s));\n      }\n      if (data.entityPermissions) {\n        this.entityPermissions = new PanelPagePermissions(data.entityPermissions);\n      }\n      if (data.cssFile) {\n        this.cssFile = data.cssFile;\n      }\n    }\n  }\n}\nclass PanelPageListItem extends PanelPage {}\nclass GridLayout {\n  constructor(data) {\n    this.gridItems = [];\n    if (data) {\n      this.id = data.id;\n      this.site = data.site;\n      if (data.gridItems) {\n        this.gridItems = data.gridItems.map(i => new GridItem(i));\n      }\n    }\n  }\n}\nclass Panel {\n  constructor(data) {\n    this.settings = [];\n    this.panes = [];\n    if (data) {\n      this.name = data.name ? data.name : undefined;\n      this.label = data.label ? data.label : undefined;\n      this.stylePlugin = data.stylePlugin;\n      if (data.settings) {\n        this.settings = data.settings.map(a => new AttributeValue(a));\n      }\n      if (data.panes) {\n        this.panes = data.panes.map(p => new Pane(p));\n      }\n      if (data.columnSetting) {\n        this.columnSetting = new LayoutSetting(data.columnSetting);\n      }\n    }\n  }\n}\nclass Pane {\n  constructor(data) {\n    this.settings = [];\n    this.locked = false;\n    this.contexts = [];\n    if (data) {\n      this.name = data.name;\n      this.label = data.label;\n      this.contentPlugin = data.contentPlugin;\n      this.locked = data.locked !== undefined ? data.locked : false;\n      if (data.linkedPageId) {\n        this.linkedPageId = data.linkedPageId;\n      }\n      if (data.metadata !== undefined) {\n        this.metadata = new Map([...data.metadata]);\n      }\n      if (data.settings !== undefined) {\n        this.settings = data.settings.map(a => new AttributeValue(a));\n      }\n      if (data.contexts !== undefined) {\n        this.contexts = data.contexts.map(c => new InlineContext(c));\n      }\n      if (data.rule !== undefined && typeof data.rule !== 'string') {\n        this.rule = {\n          ...data.rule\n        };\n      }\n      if (data.nestedPage) {\n        this.nestedPage = new PanelPage(data.nestedPage);\n      }\n      if (data.resolvedContext) {\n        this.resolvedContext = {\n          ...data.resolvedContext\n        };\n      }\n    }\n  }\n}\nclass GridItem {\n  constructor(data) {\n    if (data) {\n      this.cols = data.cols;\n      this.rows = data.rows;\n      this.x = data.x;\n      this.y = data.y;\n      this.weight = data.weight;\n    }\n  }\n}\nclass LayoutSetting {\n  constructor(data) {\n    this.settings = [];\n    if (data) {\n      if (data.settings && Array.isArray(data.settings)) {\n        this.settings = data.settings.map(v => new AttributeValue(v));\n      }\n    }\n  }\n}\nclass PanelPagePermissions {\n  constructor(data) {\n    this.readUserIds = [];\n    this.writeUserIds = [];\n    this.deleteUserIds = [];\n    if (data) {\n      this.readUserIds = data.readUserIds ? data.readUserIds.map(id => id) : [];\n      this.writeUserIds = data.writeUserIds ? data.writeUserIds.map(id => id) : [];\n      this.deleteUserIds = data.deleteUserIds ? data.deleteUserIds.map(id => id) : [];\n    }\n  }\n}\n/*<classifieds-ui-gridless-layout cdkDropListGroup>\n    <ng-template #extraActions>\n      <button *ngIf=\"savable\" type=\"submit\">Save</button>\n      <button *ngIf=\"savable\" type=\"button\" (click)=\"onPropertiesClick()\">Properties</button>\n      <ng-container *ngIf=\"savable\"><ng-container *ngTemplateOutlet=\"contextsMenuTpl\"></ng-container></ng-container>\n      <button *ngIf=\"nested\" type=\"button\" (click)=\"onDeleteClick()\">Delete</button>\n      <button *ngIf=\"nested\" type=\"button\" (click)=\"onRulesClick()\">Rules</button>\n      <button type=\"button\" (mousedown)=\"addContent(0)\" (touchstart)=\"addContent(0)\">Add Content</button>\n      <button type=\"button\" (mousedown)=\"editPanelProps(0)\" (touchstart)=\"editPanelProps(0)\" >Props</button>\n      <span *ngIf=\"hasPanelStyle(0)\">Style: {{ panelStyleTitle(0) }}</span>\n      <button *ngIf=\"!hasPanelStyle(0)\" type=\"button\" (mousedown)=\"applyStyle(0)\" (touchstart)=\"applyStyle(0)\">Apply Style</button>\n      <div class=\"layout-type\">\n        <mat-form-field>\n          <mat-select required [formControl]=\"layoutType\">\n            <mat-option value=\"grid\">Grid</mat-option>\n            <mat-option value=\"gridless\">Gridless</mat-option>\n            <mat-option value=\"split\">Split</mat-option>\n          </mat-select>\n        </mat-form-field>\n      </div>\n      <ng-container *ngTemplateOutlet=\"extraActionsAreaTmpl\"></ng-container>\n    </ng-template>\n    <ng-template #gridItemActions let-i=\"i\"></ng-template>\n    <ng-template #innerGridItem let-i=\"i\">\n      <ngx-dropzone [cdkDropListData]=\"i\" class=\"panel-dropzone\" [multiple]=\"true\" [disableClick]=\"true\" (change)=\"onFileChange($event, i)\" cdkDropList (cdkDropListDropped)=\"onDrop($event)\">\n        <div #panes>\n          <classifieds-ui-editable-pane *ngFor=\"let pane of panelPanes(i).controls; let j = index\" class=\"editable-pane\" (delete)=\"onDeletePane(i, j)\" (rules)=\"onRulesPane(i, j)\" (nestedUpdate)=\"onNestedUpdate($event, i, j)\" (rendererOverride)=\"onOverrideRenderer(i, j)\" (removeRendererOverride)=\"onRemoveOverrideRenderer(i, j)\" (edit)=\"onPaneEdit(i, j)\" (delete)=\"onPaneDelete(i, j)\" [panelIndex]=\"i\" [paneIndex]=\"j\" [name]=\"panelPaneName(i, j)\" [label]=\"panelPaneLabel(i, j)\" [locked]=\"panelPaneLocked(i, j)\" [contexts]=\"contexts\" [pluginName]=\"panelPanePlugin(i, j)\" [settings]=\"panelPaneSettings(i, j)\" cdkDrag>\n            <div class=\"custom-placeholder\" *cdkDragPlaceholder></div>\n          </classifieds-ui-editable-pane>\n        </div>\n      </ngx-dropzone>\n    </ng-template>\n  </classifieds-ui-gridless-layout>*/\n\nclass PanelContentHandler {\n  constructor(attributeSerializer) {\n    this.attributeSerializer = attributeSerializer;\n  }\n  handleFile(file) {\n    return of();\n  }\n  handlesType(type) {\n    return false;\n  }\n  implementsRendererOverride() {\n    return false;\n  }\n  hasRendererOverride(settings) {\n    return of(false);\n  }\n  isDynamic(settings) {\n    return false;\n  }\n  isData(settings) {\n    return false;\n  }\n  buildDynamicItems(settings, metadata) {\n    return of([]);\n  }\n  fetchDynamicData(settings, metadata) {\n    return of(new Dataset());\n  }\n  getBindings(settings, type) {\n    return of([]);\n  }\n  toObject(settings) {\n    return of(this.attributeSerializer.deserializeAsObject(settings));\n  }\n  buildSettings(panelPage) {\n    return this.attributeSerializer.serialize(panelPage, 'root').attributes;\n  }\n  fromPanes(panesAsSettings) {\n    return panesAsSettings.map(p => new Pane(this.attributeSerializer.deserialize(p)));\n  }\n  wrapPanel(panes) {\n    return new Panel({\n      stylePlugin: undefined,\n      settings: [],\n      panes: panes,\n      columnSetting: new LayoutSetting()\n    });\n  }\n  stateDefinition(settings) {\n    return of({});\n  }\n  editorOptions(settings) {\n    return of(new ContentPluginEditorOptions());\n  }\n  static {\n    this.\u0275fac = function PanelContentHandler_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PanelContentHandler)(i0.\u0275\u0275inject(i1.AttributeSerializerService));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: PanelContentHandler,\n      factory: PanelContentHandler.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PanelContentHandler, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: i1.AttributeSerializerService\n  }], null);\n})();\nclass PanelPageLinkedlistComponent {\n  set panelPages(panelPages) {\n    this.panelPages$.next(panelPages);\n  }\n  set panels(panels) {\n    this.panels$.next(panels);\n  }\n  set panes(panes) {\n    this.panes$.next(panes);\n  }\n  get panelPages() {\n    return this.panelPages$.value && Array.isArray(this.panelPages$.value) ? this.panelPages$.value : [];\n  }\n  get panels() {\n    return this.panels$.value && Array.isArray(this.panels$.value) ? this.panels$.value : [];\n  }\n  get panes() {\n    return this.panes$.value && Array.isArray(this.panes$.value) ? this.panes$.value : [];\n  }\n  get nested() {\n    return this.nested$.value && typeof this.nested$.value !== undefined && this.nested$.value.length > 0 ? [...this.nested$.value] : undefined;\n  }\n  constructor(fb, panelHandler) {\n    this.fb = fb;\n    this.panelHandler = panelHandler;\n    this.panelPages$ = new BehaviorSubject([]);\n    this.panels$ = new BehaviorSubject([]);\n    this.panes$ = new BehaviorSubject([]);\n    this.nested$ = new BehaviorSubject([]);\n    this.formGroup = this.fb.group({\n      panelPage: this.fb.control(undefined),\n      panel: this.fb.control(undefined),\n      pane: this.fb.control(undefined),\n      nested: this.fb.control(undefined)\n    });\n    this.panelPageSub = this.formGroup.get('panelPage').valueChanges.subscribe(index => {\n      this.panels$.next(new PanelPage(this.panelPages$.value[index]).panels);\n    });\n    this.panelSub = this.formGroup.get('panel').valueChanges.subscribe(index => {\n      this.panes$.next(new Panel(this.panels$.value[index]).panes);\n    });\n    this.paneSub = this.formGroup.get('pane').valueChanges.pipe(map(index => this.panes$.value[index]), switchMap(pane => iif(() => pane.contentPlugin === 'panel', this.panelHandler.toObject(pane.settings), of(undefined))), filter(p => !!p)).subscribe(panelPage => {\n      this.nested$.next([panelPage]);\n    });\n    this.onTouched = () => {};\n  }\n  writeValue(val) {\n    if (val) {\n      this.formGroup.setValue(val, {\n        emitEvent: false\n      });\n    }\n  }\n  registerOnChange(fn) {\n    this.formGroup.valueChanges.subscribe(fn);\n  }\n  registerOnTouched(fn) {\n    this.onTouched = fn;\n  }\n  setDisabledState(isDisabled) {\n    if (isDisabled) {\n      this.formGroup.disable();\n    } else {\n      this.formGroup.enable();\n    }\n  }\n  validate(c) {\n    return this.formGroup.valid ? null : {\n      invalidForm: {\n        valid: false\n      }\n    };\n  }\n  static {\n    this.\u0275fac = function PanelPageLinkedlistComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PanelPageLinkedlistComponent)(i0.\u0275\u0275directiveInject(i1$1.UntypedFormBuilder), i0.\u0275\u0275directiveInject(PanelContentHandler));\n    };\n  }\n  static {\n    this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n      type: PanelPageLinkedlistComponent,\n      selectors: [[\"druid-panels-panelpage-linkedlist\"]],\n      inputs: {\n        panelPages: \"panelPages\",\n        panels: \"panels\",\n        panes: \"panes\"\n      },\n      standalone: false,\n      features: [i0.\u0275\u0275ProvidersFeature([{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => PanelPageLinkedlistComponent),\n        multi: true\n      }, {\n        provide: NG_VALIDATORS,\n        useExisting: forwardRef(() => PanelPageLinkedlistComponent),\n        multi: true\n      }])],\n      decls: 5,\n      vars: 5,\n      consts: [[3, \"formGroup\"], [4, \"ngIf\"], [\"formControlName\", \"nested\", 3, \"panelPages\", 4, \"ngIf\"], [\"required\", \"\", \"formControlName\", \"panelPage\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [\"required\", \"\", \"formControlName\", \"panel\"], [\"required\", \"\", \"formControlName\", \"pane\"], [\"formControlName\", \"nested\", 3, \"panelPages\"]],\n      template: function PanelPageLinkedlistComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.\u0275\u0275elementStart(0, \"div\", 0);\n          i0.\u0275\u0275template(1, PanelPageLinkedlistComponent_mat_form_field_1_Template, 4, 3, \"mat-form-field\", 1)(2, PanelPageLinkedlistComponent_mat_form_field_2_Template, 4, 3, \"mat-form-field\", 1)(3, PanelPageLinkedlistComponent_mat_form_field_3_Template, 4, 3, \"mat-form-field\", 1)(4, PanelPageLinkedlistComponent_druid_panels_panelpage_linkedlist_4_Template, 1, 1, \"druid-panels-panelpage-linkedlist\", 2);\n          i0.\u0275\u0275elementEnd();\n        }\n        if (rf & 2) {\n          i0.\u0275\u0275property(\"formGroup\", ctx.formGroup);\n          i0.\u0275\u0275advance();\n          i0.\u0275\u0275property(\"ngIf\", ctx.panelPages.length > 0);\n          i0.\u0275\u0275advance();\n          i0.\u0275\u0275property(\"ngIf\", ctx.panels.length > 0);\n          i0.\u0275\u0275advance();\n          i0.\u0275\u0275property(\"ngIf\", ctx.panes.length > 0);\n          i0.\u0275\u0275advance();\n          i0.\u0275\u0275property(\"ngIf\", ctx.nested);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i1$1.NgControlStatus, i1$1.NgControlStatusGroup, i1$1.RequiredValidator, i1$1.FormGroupDirective, i1$1.FormControlName, i4.MatOption, i5.MatFormField, i6.MatSelect, PanelPageLinkedlistComponent, i3.AsyncPipe],\n      encapsulation: 2\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PanelPageLinkedlistComponent, [{\n    type: Component,\n    args: [{\n      selector: 'druid-panels-panelpage-linkedlist',\n      providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => PanelPageLinkedlistComponent),\n        multi: true\n      }, {\n        provide: NG_VALIDATORS,\n        useExisting: forwardRef(() => PanelPageLinkedlistComponent),\n        multi: true\n      }],\n      standalone: false,\n      template: \"<div [formGroup]=\\\"formGroup\\\">\\n  <mat-form-field *ngIf=\\\"panelPages.length > 0\\\">\\n    <mat-select required formControlName=\\\"panelPage\\\">\\n      <mat-option *ngFor=\\\"let p of (panelPages$ | async); let i = index\\\" [value]=\\\"i\\\">panel page | level: {{ i }}</mat-option>\\n    </mat-select>\\n  </mat-form-field>\\n  <mat-form-field *ngIf=\\\"panels.length > 0\\\">\\n    <mat-select required formControlName=\\\"panel\\\">\\n      <mat-option *ngFor=\\\"let p of (panels$ | async); let i = index\\\" [value]=\\\"i\\\">panel | {{ i }}</mat-option>\\n    </mat-select>\\n  </mat-form-field>\\n  <mat-form-field *ngIf=\\\"panes.length > 0\\\">\\n    <mat-select required formControlName=\\\"pane\\\">\\n      <mat-option *ngFor=\\\"let p of (panes$ | async); let i = index\\\" [value]=\\\"i\\\">pane | {{ i }}</mat-option>\\n    </mat-select>\\n  </mat-form-field>\\n  <druid-panels-panelpage-linkedlist *ngIf=\\\"nested\\\" formControlName=\\\"nested\\\" [panelPages]=\\\"nested\\\"></druid-panels-panelpage-linkedlist>\\n</div>\"\n    }]\n  }], () => [{\n    type: i1$1.UntypedFormBuilder\n  }, {\n    type: PanelContentHandler\n  }], {\n    panelPages: [{\n      type: Input\n    }],\n    panels: [{\n      type: Input\n    }],\n    panes: [{\n      type: Input\n    }]\n  });\n})();\nclass PanelSelectorComponent {\n  // private contentPlugin: ContentPlugin;\n  constructor(\n  // @Inject(CONTENT_PLUGIN) contentPlugins: Array<ContentPlugin>,\n  siteName, bottomSheetRef, handler, dialog, fb, es) {\n    this.siteName = siteName;\n    this.bottomSheetRef = bottomSheetRef;\n    this.handler = handler;\n    this.dialog = dialog;\n    this.fb = fb;\n    this.selectedIndex = 0;\n    this.panelPagesService = es.getEntityCollectionService('PanelPage');\n    this.panelPageListItemsService = es.getEntityCollectionService('PanelPageListItem');\n    // this.contentPlugin = contentPlugins.find(p => p.name === 'panel');\n  }\n  ngOnInit() {}\n  onNewSelect() {\n    const name = uuid.v4();\n    const newPanel = new PanelPage({\n      id: undefined,\n      layoutType: 'split',\n      displayType: 'page',\n      site: this.siteName,\n      gridItems: [],\n      panels: [],\n      layoutSetting: new LayoutSetting(),\n      rowSettings: []\n    });\n    this.panelFormGroup.get('panes').push(this.fb.group({\n      contentPlugin: 'panel',\n      name: name,\n      label: name,\n      rule: new UntypedFormControl(''),\n      settings: this.fb.array(this.handler.buildSettings(newPanel).map(s => this.convertToGroup(s)))\n    }));\n    this.bottomSheetRef.dismiss();\n  }\n  onLinkSelect() {\n    this.selectedIndex = 1;\n    this.panels$ = this.panelPageListItemsService.getWithQuery(`site=${encodeURIComponent(this.siteName)}`);\n  }\n  onEmbedSelect() {\n    const name = uuid.v4();\n    this.panelFormGroup.get('panes').push(this.fb.group({\n      contentPlugin: 'panel',\n      name: name,\n      label: name,\n      rule: new UntypedFormControl(''),\n      locked: new UntypedFormControl(true),\n      settings: this.fb.array([])\n    }));\n    this.bottomSheetRef.dismiss();\n  }\n  onItemSelect(panel) {\n    const name = uuid.v4();\n    //this.panelPagesService.getByKey(panel).subscribe(p => {\n    //this.dialog.open(this.contentPlugin.editorComponent, { data: { panelFormGroup: this.panelFormGroup, pane: undefined, paneIndex: undefined, panelPage: p } });\n    this.panelFormGroup.get('panes').push(this.fb.group({\n      contentPlugin: 'panel',\n      name: name,\n      label: name,\n      rule: new UntypedFormControl(''),\n      linkedPageId: new UntypedFormControl(panel, Validators.required),\n      locked: new UntypedFormControl(true),\n      // settings: this.fb.array(this.handler.buildSettings(p).map(s => this.convertToGroup(s)))\n      settings: this.fb.array([])\n    }));\n    this.bottomSheetRef.dismiss();\n    //});\n  }\n  convertToGroup(setting) {\n    const fg = this.fb.group({\n      name: new UntypedFormControl(setting.name, Validators.required),\n      type: new UntypedFormControl(setting.type, Validators.required),\n      displayName: new UntypedFormControl(setting.displayName, Validators.required),\n      value: new UntypedFormControl(setting.value, Validators.required),\n      computedValue: new UntypedFormControl(setting.value, Validators.required),\n      attributes: new UntypedFormArray([])\n    });\n    if (setting.attributes && setting.attributes.length > 0) {\n      setting.attributes.forEach(s => {\n        fg.get('attributes').push(this.convertToGroup(s));\n      });\n    }\n    return fg;\n  }\n  static {\n    this.\u0275fac = function PanelSelectorComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PanelSelectorComponent)(i0.\u0275\u0275directiveInject(SITE_NAME), i0.\u0275\u0275directiveInject(i1$2.MatBottomSheetRef), i0.\u0275\u0275directiveInject(PanelContentHandler), i0.\u0275\u0275directiveInject(i3$1.MatDialog), i0.\u0275\u0275directiveInject(i1$1.UntypedFormBuilder), i0.\u0275\u0275directiveInject(i1$3.EntityServices));\n    };\n  }\n  static {\n    this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n      type: PanelSelectorComponent,\n      selectors: [[\"classifieds-ui-panel-selector\"]],\n      inputs: {\n        panelFormGroup: \"panelFormGroup\"\n      },\n      standalone: false,\n      decls: 11,\n      vars: 1,\n      consts: [[\"mat-align-tabs\", \"start\", 3, \"selectedIndex\"], [\"label\", \"Type\"], [\"mat-list-item\", \"\", \"mat-list-item\", \"\", 3, \"click\"], [\"label\", \"Search\"], [\"matTabContent\", \"\"], [\"mat-list-item\", \"\", \"mat-list-item\", \"\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"mat-line\", \"\"]],\n      template: function PanelSelectorComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.\u0275\u0275elementStart(0, \"mat-tab-group\", 0)(1, \"mat-tab\", 1)(2, \"mat-nav-list\")(3, \"a\", 2);\n          i0.\u0275\u0275listener(\"click\", function PanelSelectorComponent_Template_a_click_3_listener() {\n            return ctx.onNewSelect();\n          });\n          i0.\u0275\u0275text(4, \"New Panel\");\n          i0.\u0275\u0275elementEnd();\n          i0.\u0275\u0275elementStart(5, \"a\", 2);\n          i0.\u0275\u0275listener(\"click\", function PanelSelectorComponent_Template_a_click_5_listener() {\n            return ctx.onLinkSelect();\n          });\n          i0.\u0275\u0275text(6, \"Link Panel\");\n          i0.\u0275\u0275elementEnd();\n          i0.\u0275\u0275elementStart(7, \"a\", 2);\n          i0.\u0275\u0275listener(\"click\", function PanelSelectorComponent_Template_a_click_7_listener() {\n            return ctx.onEmbedSelect();\n          });\n          i0.\u0275\u0275text(8, \"Embed Panel\");\n          i0.\u0275\u0275elementEnd()()();\n          i0.\u0275\u0275elementStart(9, \"mat-tab\", 3);\n          i0.\u0275\u0275template(10, PanelSelectorComponent_ng_template_10_Template, 3, 3, \"ng-template\", 4);\n          i0.\u0275\u0275elementEnd()();\n        }\n        if (rf & 2) {\n          i0.\u0275\u0275property(\"selectedIndex\", ctx.selectedIndex);\n        }\n      },\n      dependencies: [i3.NgForOf, i7.MatLine, i8.MatNavList, i8.MatListItem, i9.MatTabContent, i9.MatTab, i9.MatTabGroup, i3.AsyncPipe],\n      encapsulation: 2\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PanelSelectorComponent, [{\n    type: Component,\n    args: [{\n      selector: 'classifieds-ui-panel-selector',\n      standalone: false,\n      template: \"<mat-tab-group mat-align-tabs=\\\"start\\\" [selectedIndex]=\\\"selectedIndex\\\">\\n  <mat-tab label=\\\"Type\\\">\\n    <mat-nav-list>\\n      <a mat-list-item mat-list-item (click)=\\\"onNewSelect()\\\">New Panel</a>\\n      <a mat-list-item mat-list-item (click)=\\\"onLinkSelect()\\\">Link Panel</a>\\n      <a mat-list-item mat-list-item (click)=\\\"onEmbedSelect()\\\">Embed Panel</a>\\n    </mat-nav-list>\\n  </mat-tab>\\n  <mat-tab label=\\\"Search\\\">\\n    <ng-template matTabContent>\\n      <mat-nav-list>\\n        <a *ngFor=\\\"let panel of (panels$ | async)\\\" mat-list-item mat-list-item (click)=\\\"onItemSelect(panel.id)\\\">\\n          <span mat-line>{{ panel.title }} [{{ panel.id }}]</span>\\n        </a>\\n      </mat-nav-list>\\n    </ng-template>\\n  </mat-tab>\\n</mat-tab-group>\\n\"\n    }]\n  }], () => [{\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [SITE_NAME]\n    }]\n  }, {\n    type: i1$2.MatBottomSheetRef\n  }, {\n    type: PanelContentHandler\n  }, {\n    type: i3$1.MatDialog\n  }, {\n    type: i1$1.UntypedFormBuilder\n  }, {\n    type: i1$3.EntityServices\n  }], {\n    panelFormGroup: [{\n      type: Input\n    }]\n  });\n})();\nclass PanelEditorComponent {\n  constructor() {}\n  ngOnInit() {}\n  static {\n    this.\u0275fac = function PanelEditorComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PanelEditorComponent)();\n    };\n  }\n  static {\n    this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n      type: PanelEditorComponent,\n      selectors: [[\"classifieds-ui-panel-editor\"]],\n      standalone: false,\n      decls: 2,\n      vars: 0,\n      template: function PanelEditorComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.\u0275\u0275elementStart(0, \"p\");\n          i0.\u0275\u0275text(1, \"panel-editor works!\");\n          i0.\u0275\u0275elementEnd();\n        }\n      },\n      encapsulation: 2\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PanelEditorComponent, [{\n    type: Component,\n    args: [{\n      selector: 'classifieds-ui-panel-editor',\n      standalone: false,\n      template: \"<p>panel-editor works!</p>\\n\"\n    }]\n  }], () => [], null);\n})();\nclass PanelPageState {\n  constructor(data) {\n    this.panels = [];\n    if (data) {\n      this.id = data.id;\n      if (data.panels !== undefined && Array.isArray(data.panels)) {\n        this.panels = data.panels.map(p => new PanelState(p));\n      }\n    }\n  }\n}\nclass PanelState {\n  constructor(data) {\n    this.panes = [];\n    if (data) {\n      if (data.panes !== undefined && Array.isArray(data.panes)) {\n        this.panes = data.panes.map(p => new PaneState(p));\n      }\n    }\n  }\n}\nclass PaneState {\n  constructor(data) {\n    if (data) {\n      if (data.state !== undefined) {\n        this.state = new AttributeValue(data.state);\n      }\n      if (data.nestedPage !== undefined && data.nestedPage !== null) {\n        this.nestedPage = new PanelPageState(data.nestedPage);\n      }\n    }\n  }\n}\nclass DatasourceContentHandler {\n  constructor(siteName, panelHandler, attributeSerializer, rulesResolver, dpm, datasourceEvalutator) {\n    this.siteName = siteName;\n    this.panelHandler = panelHandler;\n    this.attributeSerializer = attributeSerializer;\n    this.rulesResolver = rulesResolver;\n    this.dpm = dpm;\n    this.datasourceEvalutator = datasourceEvalutator;\n  }\n  handleFile(file) {\n    return of([]);\n  }\n  handlesType(type) {\n    return false;\n  }\n  implementsRendererOverride() {\n    return true;\n  }\n  hasRendererOverride(settings) {\n    return of(false);\n  }\n  isDynamic(settings) {\n    return true;\n  }\n  isData(settings) {\n    return true;\n  }\n  fetchDynamicData(settings, metadata) {\n    const dataPanes = metadata.has('dataPanes') ? new Map(metadata.get('dataPanes').map(p => [p.name, p])) : new Map([]);\n    const datasources = new Map(Array.from(dataPanes).map(([k, v]) => [k, new Datasource(this.attributeSerializer.deserializeAsObject(v.settings))]));\n    return this.toObject(settings).pipe(switchMap(ds => this.datasourceEvalutator.evalDatasource({\n      datasource: ds,\n      metadata,\n      datasources\n    })));\n    /*return this.toObject(settings).pipe(\n      switchMap(ds => this.dpm.getPlugin(ds.plugin).pipe(\n        map<DatasourcePlugin<string>, [Datasource, DatasourcePlugin<string>]>(p => [ds, p])\n      )),\n      switchMap(([ds, p]) => p.fetch({ settings: ds.settings, metadata, datasource: ds }).pipe(\n        map<Dataset, [Datasource, Dataset]>(d => [ds, d])\n      )),\n      switchMap(([ds, dataset]) =>\n        forkJoin(\n          ds.renderer.bindings.reduce<Array<Observable<Datasource>>>((p, c) => [ ...p, ...(dataPanes.has(c.id) ? [ this.toObject(dataPanes.get(c.id).settings) ] : []) ], [])\n        ).pipe(\n          switchMap(datasources => datasources.reduce<Observable<Dataset>>((p, c) => p.pipe(\n            switchMap<Dataset, Observable<[DatasourcePlugin<string>, Dataset, Datasource]>>(dataset2 => this.dpm.getPlugin(c.plugin).pipe(\n              map(dsp => [dsp, dataset2, c])\n            )),\n            switchMap(([dsp, dataset2, nestedDatasource]) => dsp.fetch({ settings: c.settings, dataset: dataset2, metadata, datasource: nestedDatasource }))\n          ), of(dataset))),\n          map(dataset => dataset),\n          defaultIfEmpty(dataset)\n        )\n      )\n    );*/\n  }\n  buildDynamicItems(settings, metadata) {\n    const dataPanes = new Map(metadata.get('dataPanes').map(p => [p.name, p]));\n    return this.fetchDynamicData(settings, metadata).pipe(switchMap(dataset => this.toObject(settings).pipe(map(ds => [ds, dataset]))), switchMap(([ds, dataset]) => this.getBindings(settings, 'pane').pipe(map(bindings => [ds, dataset, bindings]))), switchMap(([ds, dataset, bindings]) => iif(() => dataset.results.length !== 0 && bindings.length > 0, forkJoin(dataset.results.map(row => forkJoin(bindings.filter(b => !dataPanes.has(b.id)).map(binding => of(metadata.get('panes').find(p => p.name === binding.id)).pipe(switchMap(pane => iif(() => pane && pane.rule && pane.rule !== null && pane.rule.condition !== '', pane ? this.rulesResolver.evaluate(pane.rule, [...metadata.get('contexts'), ...(pane.contexts !== undefined ? pane.contexts : []), new InlineContext({\n      name: \"_root\",\n      adaptor: 'data',\n      data: row\n    })]).pipe(map(res => [pane, res])) : of([pane, false]), of(false).pipe(map(b => [pane, b])))), filter(([_, res]) => res), map(([pane, _]) => pane.name), defaultIfEmpty(binding.id)))).pipe(map(groups => groups.reduce((p, c) => [...p, c], []))))).pipe(map(groups => [ds, dataset, groups])), new Observable(obs => {\n      obs.next([ds, dataset, []]);\n      obs.complete();\n    }))), map(([_, dataset, paneMappings]) => dataset.results.reduce((p, row, rowIndex) => [...p, ...(paneMappings[rowIndex] ? paneMappings[rowIndex].map(bId => new Pane({\n      ...metadata.get('panes').find(p => p.name === bId),\n      rule: undefined,\n      label: uuid.v4(),\n      contexts: [...metadata.get('contexts'), new InlineContext({\n        name: \"_root\",\n        adaptor: 'data',\n        data: row\n      })]\n    })) : [])], [])), map(panes => new Panel({\n      stylePlugin: undefined,\n      settings: [],\n      panes,\n      columnSetting: new LayoutSetting()\n    })), map(panel => this.panelHandler.buildSettings(new PanelPage({\n      id: undefined,\n      layoutType: 'grid',\n      displayType: 'page',\n      site: this.siteName,\n      gridItems: [],\n      layoutSetting: new LayoutSetting(),\n      rowSettings: [],\n      panels: [panel]\n    }))), map(panelSettings => panelSettings.find(s => s.name === 'panels').attributes[0].attributes.find(s => s.name === 'panes').attributes));\n  }\n  getBindings(settings, type, metadata) {\n    const dataPanes = metadata ? new Map(metadata.get('dataPanes').map(p => [p.name, p])) : new Map();\n    if (type === 'context') {\n      return this.toObject(settings).pipe(map(ds => [ds, ds.params ? ds.params.reduce((p, c) => [...p, ...(c.mapping.type === 'form' ? [new ContentBinding({\n        id: `form__${c.mapping.value.split('.', 2)[0].trim()}`,\n        type: 'context'\n      })] : [])], []) : []]), switchMap(([ds, bindings]) => this.dpm.getPlugin(ds.plugin).pipe(switchMap(dsp => dsp.getBindings({\n        settings: ds.settings,\n        metadata\n      }).pipe(map(bindings => [ds, bindings]))))), switchMap(([ds, bindings]) => forkJoin(ds.renderer.bindings.reduce((p, c) => [...p, ...(dataPanes.has(c.id) ? [this.toObject(dataPanes.get(c.id).settings)] : [])], [])).pipe(switchMap(datasources => forkJoin(datasources.map(d => this.dpm.getPlugin(d.plugin).pipe(switchMap(dsp => dsp.getBindings({\n        settings: d.settings,\n        metadata\n      }))))).pipe(map(dsBindings => dsBindings.reduce((p, c) => [...p, ...c], bindings)), defaultIfEmpty(bindings))), defaultIfEmpty(bindings))));\n    } else {\n      return this.toObject(settings).pipe(switchMap(ds => iif(() => ds.renderer.type === type, of(ds.renderer.bindings), of([]))));\n    }\n  }\n  toObject(settings) {\n    return of(this.attributeSerializer.deserializeAsObject(settings));\n  }\n  buildSettings(rest) {\n    return this.attributeSerializer.serialize(rest, 'root').attributes;\n  }\n  getRenderType(settings) {\n    const renderType = [settings.find(s => s.name === 'renderer')].map(r => r.attributes.find(s => s.name === 'type'));\n    return renderType.length > 0 ? renderType[0].value : undefined;\n  }\n  stateDefinition(settings) {\n    // What about this?\n    return of({\n      autocomplete: {\n        input: ''\n      },\n      loading: 'y'\n    });\n  }\n  editorOptions(settings) {\n    return this.toObject(settings).pipe(switchMap(ds => this.dpm.getPlugin(ds && ds.plugin ? ds.plugin : 'data').pipe(map(p => [ds, p]))), switchMap(([ds, p]) => p.editorOptions ? p.editorOptions({\n      settings: ds && ds.settings ? ds.settings : []\n    }) : of(undefined)), map(o => new ContentPluginEditorOptions({\n      fullscreen: o ? o.fullscreen : false\n    })));\n  }\n  static {\n    this.\u0275fac = function DatasourceContentHandler_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || DatasourceContentHandler)(i0.\u0275\u0275inject(SITE_NAME), i0.\u0275\u0275inject(PanelContentHandler), i0.\u0275\u0275inject(i1.AttributeSerializerService), i0.\u0275\u0275inject(i3$2.RulesResolverService), i0.\u0275\u0275inject(i4$1.DatasourcePluginManager), i0.\u0275\u0275inject(i4$1.DatasourceEvaluator));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: DatasourceContentHandler,\n      factory: DatasourceContentHandler.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(DatasourceContentHandler, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [SITE_NAME]\n    }]\n  }, {\n    type: PanelContentHandler\n  }, {\n    type: i1.AttributeSerializerService\n  }, {\n    type: i3$2.RulesResolverService\n  }, {\n    type: i4$1.DatasourcePluginManager\n  }, {\n    type: i4$1.DatasourceEvaluator\n  }], null);\n})();\nclass DatasourceEditorComponent {\n  constructor(data, dialogRef, fb, attributeSerializer, datasourceHandler) {\n    this.data = data;\n    this.dialogRef = dialogRef;\n    this.fb = fb;\n    this.attributeSerializer = attributeSerializer;\n    this.datasourceHandler = datasourceHandler;\n    this.datasource = new Datasource();\n    this.bindableOptions = [];\n    this.contexts = [];\n    this.formGroup = this.fb.group({\n      source: this.fb.control('')\n    });\n  }\n  ngOnInit() {\n    const panesArray = this.data.panelFormGroup.get('panes');\n    this.bindableOptions = panesArray.controls.reduce((p, c) => c.get('name').value ? [...p, c.get('name').value] : [...p], []);\n    this.contexts = this.data.contexts.map(c => c.name);\n    if (this.data.panelIndex !== undefined && this.data.paneIndex < panesArray.length) {\n      const settings = panesArray.at(this.data.paneIndex).get('settings').value.map(s => new AttributeValue(s));\n      this.datasourceHandler.toObject(settings).subscribe(ds => {\n        this.datasource = ds;\n      });\n    }\n  }\n  onSubmit() {\n    const sourceSettings = this.attributeSerializer.serialize(this.formGroup.value.source, 'source');\n    const paneForm = this.data.panelFormGroup.get('panes').at(this.data.paneIndex);\n    if (this.data.paneIndex === undefined) {\n      this.data.panelFormGroup.get('panes').push(this.fb.group({\n        contentPlugin: 'datasource',\n        name: new UntypedFormControl(''),\n        label: new UntypedFormControl(''),\n        rule: new UntypedFormControl(''),\n        settings: this.fb.array(sourceSettings.attributes.map(a => this.attributeSerializer.convertToGroup(a)))\n      }));\n      console.log(this.data.panelFormGroup.get('panes').value);\n    } else {\n      paneForm.get('settings').clear();\n      sourceSettings.attributes.forEach(a => paneForm.get('settings').push(this.attributeSerializer.convertToGroup(a)));\n    }\n    this.dialogRef.close();\n  }\n  static {\n    this.\u0275fac = function DatasourceEditorComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || DatasourceEditorComponent)(i0.\u0275\u0275directiveInject(MAT_DIALOG_DATA), i0.\u0275\u0275directiveInject(i3$1.MatDialogRef), i0.\u0275\u0275directiveInject(i1$1.UntypedFormBuilder), i0.\u0275\u0275directiveInject(i1.AttributeSerializerService), i0.\u0275\u0275directiveInject(DatasourceContentHandler));\n    };\n  }\n  static {\n    this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n      type: DatasourceEditorComponent,\n      selectors: [[\"classifieds-ui-datasource-editor\"]],\n      standalone: false,\n      decls: 4,\n      vars: 4,\n      consts: [[3, \"ngSubmit\", \"formGroup\"], [\"formControlName\", \"source\", 3, \"bindableOptions\", \"contexts\", \"datasource\"], [\"type\", \"submit\"]],\n      template: function DatasourceEditorComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.\u0275\u0275elementStart(0, \"form\", 0);\n          i0.\u0275\u0275listener(\"ngSubmit\", function DatasourceEditorComponent_Template_form_ngSubmit_0_listener() {\n            return ctx.onSubmit();\n          });\n          i0.\u0275\u0275element(1, \"classifieds-ui-datasource-form\", 1);\n          i0.\u0275\u0275elementStart(2, \"button\", 2);\n          i0.\u0275\u0275text(3, \"Save\");\n          i0.\u0275\u0275elementEnd()();\n        }\n        if (rf & 2) {\n          i0.\u0275\u0275property(\"formGroup\", ctx.formGroup);\n          i0.\u0275\u0275advance();\n          i0.\u0275\u0275property(\"bindableOptions\", ctx.bindableOptions)(\"contexts\", ctx.contexts)(\"datasource\", ctx.datasource);\n        }\n      },\n      dependencies: [i1$1.\u0275NgNoValidate, i1$1.NgControlStatus, i1$1.NgControlStatusGroup, i1$1.FormGroupDirective, i1$1.FormControlName, i4$1.DatasourceFormComponent],\n      encapsulation: 2\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(DatasourceEditorComponent, [{\n    type: Component,\n    args: [{\n      selector: 'classifieds-ui-datasource-editor',\n      standalone: false,\n      template: \"<form [formGroup]=\\\"formGroup\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n  <classifieds-ui-datasource-form formControlName=\\\"source\\\" [bindableOptions]=\\\"bindableOptions\\\" [contexts]=\\\"contexts\\\" [datasource]=\\\"datasource\\\"></classifieds-ui-datasource-form>\\n  <button type=\\\"submit\\\">Save</button>\\n</form>\"\n    }]\n  }], () => [{\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [MAT_DIALOG_DATA]\n    }]\n  }, {\n    type: i3$1.MatDialogRef\n  }, {\n    type: i1$1.UntypedFormBuilder\n  }, {\n    type: i1.AttributeSerializerService\n  }, {\n    type: DatasourceContentHandler\n  }], null);\n})();\nconst panelContentPluginFactory = handler => {\n  return new ContentPlugin({\n    id: 'panel',\n    title: 'Panel',\n    selectionComponent: PanelSelectorComponent,\n    editorComponent: PanelEditorComponent,\n    renderComponent: undefined,\n    handler\n  });\n};\nconst datasourceContentPluginFactory = handler => {\n  return new ContentPlugin({\n    id: 'datasource',\n    title: 'Datasource',\n    selectionComponent: undefined,\n    editorComponent: DatasourceEditorComponent,\n    renderComponent: undefined,\n    handler\n  });\n};\nconst panelsBridgeFactory = (es, attributeSerializer) => {\n  return new BridgeBuilderPlugin({\n    id: 'panels',\n    title: 'Panels',\n    build: () => {\n      PublicApiBridgeService.prototype['writePaneState'] = (f, v) => {\n        return new Promise(res => {\n          const svc = es.getEntityCollectionService('PanelPageState');\n          svc.getByKey(f.id).pipe(catchError(() => of(new PanelPageState({\n            id: f.id,\n            panels: []\n          }))), map(p => p === undefined ? new PanelPageState({\n            id: f.id,\n            panels: []\n          }) : p), map(p => {\n            const state = attributeSerializer.serialize(v, 'root');\n            let panelPageState = new PanelPageState({\n              ...p,\n              panels: []\n            });\n            for (let i = 0; i < f.panelIndex + 1; i++) {\n              panelPageState.panels.push(i < p.panels.length ? new PanelState({\n                ...p.panels[i],\n                panes: []\n              }) : new PanelState());\n              for (let j = 0; j < f.paneIndex + 1; j++) {\n                if (i === f.panelIndex && j === f.paneIndex) {\n                  panelPageState.panels[i].panes.push(i < p.panels.length && j < p.panels[i].panes.length ? new PaneState({\n                    ...p.panels[i].panes[j],\n                    state\n                  }) : new PaneState({\n                    state\n                  }));\n                } else {\n                  panelPageState.panels[i].panes.push(i < p.panels.length && j < p.panels[i].panes.length ? new PaneState({\n                    ...p.panels[i].panes[j]\n                  }) : new PaneState());\n                }\n              }\n            }\n            return panelPageState;\n          }), switchMap(pps => svc.upsert(pps))).subscribe(pps => {\n            res(pps);\n          });\n        });\n      };\n    }\n  });\n};\nconst panelpageStylesheetToFileCrudAdaptorPluginFactory = fileService => {\n  return new CrudAdaptorPlugin({\n    id: 'panelpagestylesheet_upload',\n    title: 'panelpagestylesheet_upload',\n    create: ({\n      object\n    }) => of({\n      success: false,\n      entity: new File([cssJson.toCSS(object.styles)], `panelpage__${object.id}.css`, {\n        type: 'text/css'\n      })\n    }).pipe(switchMap(({\n      entity\n    }) => fileService.bulkUpload({\n      files: [entity],\n      fileNameOverride: `panelpage__${object.id}.css`\n    })), map(() => ({\n      success: true,\n      entity: undefined\n    }))),\n    read: ({}) => of({\n      success: false\n    }),\n    update: ({\n      object\n    }) => of({\n      success: false,\n      entity: new File([cssJson.toCSS(object.styles)], `panelpage__${object.id}.css`, {\n        type: 'text/css'\n      })\n    }).pipe(switchMap(({\n      entity\n    }) => fileService.bulkUpload({\n      files: [entity],\n      fileNameOverride: `panelpage__${object.id}.css`\n    })), map(() => ({\n      success: true,\n      entity: undefined\n    }))),\n    delete: ({}) => of({\n      success: false\n    })\n  });\n};\nconst loadRestData = createAction('[PageBuilder] Load Rest Data', props());\nconst loadRestDataSuccess = createAction('[PageBuilder] Load Rest Data Success', props());\nconst loadRestDataError = createAction('[PageBuilder] Load Rest Data Error', props());\nconst setPageInfo = createAction('[PageBuilder] Set Page Info', props());\nconst setForm = createAction('[PageBuilder] Set Form', props());\nconst setPage = createAction('[PageBuilder] Set Page', props());\nconst setSelectionPath = createAction('[PageBuilder] Selection Path', props());\n\n/// import { DatasourceApiService } from '../../services/datasource-api.service';\nclass PageBuilderEffects {\n  fetchRestdata$(rest) {\n    const method = rest.method ? rest.method : 'get';\n    switch (method) {\n      case 'post':\n      case 'POST':\n        return of([]).pipe(switchMap(() => this.snippetParserService.parseSnippet({\n          snippet: rest.body\n        })), switchMap(body => this.datasourceApi.postData({\n          url: rest.url,\n          body\n        })));\n      default:\n        return this.datasourceApi.getData(rest.url);\n    }\n  }\n  constructor(actions$, datasourceApi, snippetParserService) {\n    this.actions$ = actions$;\n    this.datasourceApi = datasourceApi;\n    this.snippetParserService = snippetParserService;\n    this.loadRestData$ = createEffect(() => this.actions$.pipe(ofType(loadRestData), concatMap(p => this.fetchRestdata$(p.rest).pipe(catchError(() => {\n      return [];\n    }), map(results => p.rest.renderer !== undefined && p.rest.renderer.query !== undefined && p.rest.renderer.query !== '' ? jpp.JSONPath({\n      path: p.rest.renderer.query,\n      json: results\n    }) : results), map(results => loadRestDataSuccess({\n      tag: p.tag,\n      data: new Dataset({\n        results\n      })\n    }))))));\n  }\n  static {\n    this.\u0275fac = function PageBuilderEffects_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PageBuilderEffects)(i0.\u0275\u0275inject(i1$4.Actions), i0.\u0275\u0275inject(i4$1.DatasourceApiService), i0.\u0275\u0275inject(i3$3.SnippetParserService));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: PageBuilderEffects,\n      factory: PageBuilderEffects.\u0275fac\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PageBuilderEffects, [{\n    type: Injectable\n  }], () => [{\n    type: i1$4.Actions\n  }, {\n    type: i4$1.DatasourceApiService\n  }, {\n    type: i3$3.SnippetParserService\n  }], null);\n})();\nclass PanelPageStateSlice {\n  constructor(data) {\n    if (data) {\n      this.id = data.id;\n      this.path = data.path;\n      this.realPath = data.realPath;\n      this.args = data.args;\n    }\n  }\n}\nconst pageBuilderFeatureKey = 'pageBuilder';\nconst initialState = {\n  dataTags: [],\n  datasets: [],\n  pageInfo: undefined,\n  formNames: [],\n  forms: [],\n  page: undefined,\n  selectionPath: []\n};\nconst pageBuilderReducer = createReducer(initialState, on(loadRestDataSuccess, (state, action) => {\n  const tagIndex = state.dataTags.findIndex(t => t === action.tag);\n  if (tagIndex > -1 && state.forms[tagIndex] !== undefined) {\n    // @todo: fix this - causing error - this is why rest was not completing when same tag was used.\n    const newState = {\n      ...state\n    };\n    newState.datasets[tagIndex].push(action.data);\n    return newState;\n  } else {\n    return {\n      ...state,\n      dataTags: [...state.dataTags, action.tag],\n      datasets: [...state.datasets, [action.data]]\n    };\n  }\n}), on(setForm, (state, action) => {\n  const nameIndex = state.formNames.findIndex(n => n === action.name);\n  if (nameIndex > -1 && state.forms[nameIndex] !== undefined) {\n    return {\n      ...state,\n      forms: state.forms.map((f, i) => i === nameIndex ? action.form : f)\n    };\n  } else {\n    return {\n      ...state,\n      formNames: [...state.formNames, action.name],\n      forms: [...state.forms, action.form]\n    };\n  }\n}), on(setPageInfo, (state, action) => {\n  return {\n    ...state,\n    pageInfo: action.info !== undefined ? new PanelPageStateSlice(action.info) : undefined\n  };\n}), on(setPage, (state, action) => {\n  return {\n    ...state,\n    page: action.page !== undefined ? new PanelPage(action.page) : undefined\n  };\n}), on(setSelectionPath, (state, action) => {\n  return {\n    ...state,\n    selectionPath: action.path !== undefined ? action.path : []\n  };\n}));\nfunction reducer(state, action) {\n  return pageBuilderReducer(state, action);\n}\nconst STYLE_PLUGIN = new InjectionToken('StylePlugin');\nconst PANELS_SETTINGS = new InjectionToken('PanelsSettings');\n\n// import { PanelsStateContextEditorComponent } from './components/panels-state-context-editor/panels-state-context-editor.component';\nclass PanelsModule {\n  constructor(platformId, contentPlugins, panelsSettings, eds, cpm, entityDataService, bpm, es, attributesSerialzer, crud, entityDefinitionService,\n  /*ctxm: ContextPluginManager,\n  panelsStateContextResolver: PanelsStateContextResolver*/\n  crudDataHelper) {\n    const entityMetadata = entityMetadataFactory(platformId, panelsSettings);\n    eds.registerMetadataMap(entityMetadata);\n    entityDataService.registerService('PanelPageState', new NoopDataService('PanelPageState'));\n    // Just for testing - data service will be configurable. - different service for separate ops ie. search vs. save\n    entityDataService.registerService('PanelPage', new CrudDataService('PanelPage', crud, entityDefinitionService, crudDataHelper));\n    entityDataService.registerService('PanelPageListItem', new CrudDataService('PanelPageListItem', crud, entityDefinitionService, crudDataHelper));\n    contentPlugins.forEach(p => cpm.register(p));\n    bpm.register(panelsBridgeFactory(es, attributesSerialzer));\n    // ctxm.register(panelsStateContextFactory(panelsStateContextResolver));\n    // console.log('register panel page state');\n    // Experimental - form testing\n    entityDataService.registerService('PanelPageForm', new CrudDataService('PanelPageForm', crud, entityDefinitionService, crudDataHelper));\n  }\n  static {\n    this.\u0275fac = function PanelsModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PanelsModule)(i0.\u0275\u0275inject(PLATFORM_ID), i0.\u0275\u0275inject(CONTENT_PLUGIN), i0.\u0275\u0275inject(PANELS_SETTINGS), i0.\u0275\u0275inject(i1$3.EntityDefinitionService), i0.\u0275\u0275inject(i2.ContentPluginManager), i0.\u0275\u0275inject(i1$3.EntityDataService), i0.\u0275\u0275inject(i3$4.BridgeBuilderPluginManager), i0.\u0275\u0275inject(i1$3.EntityServices), i0.\u0275\u0275inject(i1.AttributeSerializerService), i0.\u0275\u0275inject(i5$1.CrudAdaptorPluginManager), i0.\u0275\u0275inject(i1$3.EntityDefinitionService), i0.\u0275\u0275inject(i5$1.CrudDataHelperService));\n    };\n  }\n  static {\n    this.\u0275mod = /* @__PURE__ */i0.\u0275\u0275defineNgModule({\n      type: PanelsModule\n    });\n  }\n  static {\n    this.\u0275inj = /* @__PURE__ */i0.\u0275\u0275defineInjector({\n      providers: [{\n        provide: PanelContentHandler,\n        useClass: PanelContentHandler\n      },\n      //{ provide: PanelContentHandler, useClass: PanelContentHandler },\n      {\n        provide: CONTENT_PLUGIN,\n        useFactory: panelContentPluginFactory,\n        multi: true,\n        deps: [PanelContentHandler]\n      }, {\n        provide: CONTENT_PLUGIN,\n        useFactory: datasourceContentPluginFactory,\n        multi: true,\n        deps: [DatasourceContentHandler]\n      }, {\n        provide: Pluralizer,\n        useClass: DefaultPluralizer\n      }],\n      imports: [CommonModule,\n      // HttpClientModule,\n      FormsModule, ReactiveFormsModule, StoreModule.forFeature(pageBuilderFeatureKey, reducer), EffectsModule.forFeature([PageBuilderEffects]), MaterialModule, DatasourceModule, AuthModule, Aws3Module, AwosModule, CrudModule]\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PanelsModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [PanelPageLinkedlistComponent, PanelEditorComponent, PanelSelectorComponent, DatasourceEditorComponent],\n      imports: [CommonModule,\n      // HttpClientModule,\n      FormsModule, ReactiveFormsModule, StoreModule.forFeature(pageBuilderFeatureKey, reducer), EffectsModule.forFeature([PageBuilderEffects]), MaterialModule, DatasourceModule, AuthModule, Aws3Module, AwosModule, CrudModule],\n      exports: [PanelPageLinkedlistComponent, PanelEditorComponent, PanelSelectorComponent, DatasourceEditorComponent],\n      providers: [{\n        provide: PanelContentHandler,\n        useClass: PanelContentHandler\n      },\n      //{ provide: PanelContentHandler, useClass: PanelContentHandler },\n      {\n        provide: CONTENT_PLUGIN,\n        useFactory: panelContentPluginFactory,\n        multi: true,\n        deps: [PanelContentHandler]\n      }, {\n        provide: CONTENT_PLUGIN,\n        useFactory: datasourceContentPluginFactory,\n        multi: true,\n        deps: [DatasourceContentHandler]\n      }, {\n        provide: Pluralizer,\n        useClass: DefaultPluralizer\n      }]\n    }]\n  }], () => [{\n    type: Object,\n    decorators: [{\n      type: Inject,\n      args: [PLATFORM_ID]\n    }]\n  }, {\n    type: Array,\n    decorators: [{\n      type: Inject,\n      args: [CONTENT_PLUGIN]\n    }]\n  }, {\n    type: PanelsSettings,\n    decorators: [{\n      type: Inject,\n      args: [PANELS_SETTINGS]\n    }]\n  }, {\n    type: i1$3.EntityDefinitionService\n  }, {\n    type: i2.ContentPluginManager\n  }, {\n    type: i1$3.EntityDataService\n  }, {\n    type: i3$4.BridgeBuilderPluginManager\n  }, {\n    type: i1$3.EntityServices\n  }, {\n    type: i1.AttributeSerializerService\n  }, {\n    type: i5$1.CrudAdaptorPluginManager\n  }, {\n    type: i1$3.EntityDefinitionService\n  }, {\n    type: i5$1.CrudDataHelperService\n  }], null);\n})();\nclass PanelPageSelector {\n  constructor(data) {\n    if (data) {\n      this.panelPage = data.panelPage;\n      if (data.panel !== undefined && data.panel !== null) {\n        this.panel = data.panel;\n      }\n      if (data.pane !== undefined && data.pane !== null) {\n        this.pane = data.pane;\n      }\n      if (data.nested !== undefined && data.nested !== null && typeof data.nested === 'object') {\n        this.nested = new PanelPageSelector(data.nested);\n      }\n    }\n  }\n}\nclass LayoutEditorBaseComponent {\n  get gridItems() {\n    return [];\n  }\n  constructor(controlContainer) {\n    this.controlContainer = controlContainer;\n    this.savable = true;\n    this.nested = false;\n    this.dashboard = [];\n    this.layoutSetting = new LayoutSetting();\n    this.rowSettings = [];\n    this.ancestory = [];\n  }\n  static {\n    this.\u0275fac = function LayoutEditorBaseComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || LayoutEditorBaseComponent)(i0.\u0275\u0275directiveInject(i1$1.ControlContainer));\n    };\n  }\n  static {\n    this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n      type: LayoutEditorBaseComponent,\n      selectors: [[\"classifieds-ui-layout-editor-base\"]],\n      inputs: {\n        savable: \"savable\",\n        nested: \"nested\",\n        editor: \"editor\",\n        dashboard: \"dashboard\",\n        layoutSetting: \"layoutSetting\",\n        rowSettings: \"rowSettings\",\n        columnSettings: \"columnSettings\",\n        editablePaneTpl: \"editablePaneTpl\",\n        extraActionsAreaTmpl: \"extraActionsAreaTmpl\",\n        contextsMenuTpl: \"contextsMenuTpl\",\n        ancestory: \"ancestory\"\n      },\n      standalone: false,\n      decls: 0,\n      vars: 0,\n      template: function LayoutEditorBaseComponent_Template(rf, ctx) {},\n      encapsulation: 2\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(LayoutEditorBaseComponent, [{\n    type: Component,\n    args: [{\n      selector: 'classifieds-ui-layout-editor-base',\n      template: '',\n      standalone: false\n    }]\n  }], () => [{\n    type: i1$1.ControlContainer\n  }], {\n    savable: [{\n      type: Input\n    }],\n    nested: [{\n      type: Input\n    }],\n    editor: [{\n      type: Input\n    }],\n    dashboard: [{\n      type: Input\n    }],\n    layoutSetting: [{\n      type: Input\n    }],\n    rowSettings: [{\n      type: Input\n    }],\n    columnSettings: [{\n      type: Input\n    }],\n    editablePaneTpl: [{\n      type: Input\n    }],\n    extraActionsAreaTmpl: [{\n      type: Input\n    }],\n    contextsMenuTpl: [{\n      type: Input\n    }],\n    ancestory: [{\n      type: Input\n    }]\n  });\n})();\nclass LayoutRendererBaseComponent {\n  get columnSettings() {\n    const settings = this.panelPage ? this.panelPage.panels.reduce((p, c) => [...p, new LayoutSetting(c.columnSetting)], []) : [];\n    return settings;\n  }\n  constructor(controlContainer) {\n    this.controlContainer = controlContainer;\n    this.displayMainControls = false;\n    this.displayItemHeader = false;\n  }\n  static {\n    this.\u0275fac = function LayoutRendererBaseComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || LayoutRendererBaseComponent)(i0.\u0275\u0275directiveInject(i1$1.ControlContainer, 8));\n    };\n  }\n  static {\n    this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n      type: LayoutRendererBaseComponent,\n      selectors: [[\"classifieds-ui-layout-renderer-base\"]],\n      inputs: {\n        panelPage: \"panelPage\",\n        displayMainControls: \"displayMainControls\",\n        displayItemHeader: \"displayItemHeader\",\n        renderPanelTpl: \"renderPanelTpl\"\n      },\n      standalone: false,\n      decls: 0,\n      vars: 0,\n      template: function LayoutRendererBaseComponent_Template(rf, ctx) {},\n      encapsulation: 2\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(LayoutRendererBaseComponent, [{\n    type: Component,\n    args: [{\n      selector: 'classifieds-ui-layout-renderer-base',\n      template: '',\n      standalone: false\n    }]\n  }], () => [{\n    type: i1$1.ControlContainer,\n    decorators: [{\n      type: Optional\n    }]\n  }], {\n    panelPage: [{\n      type: Input\n    }],\n    displayMainControls: [{\n      type: Input\n    }],\n    displayItemHeader: [{\n      type: Input\n    }],\n    renderPanelTpl: [{\n      type: Input\n    }]\n  });\n})();\nclass PanelStyleRendererBaseComponent {\n  constructor() {\n    this.settings = [];\n    this.panes = [];\n    this.originMappings = [];\n    this.ancestory = [];\n  }\n  mergeContexts(contexts) {\n    if (contexts === undefined && this.contexts === undefined) {\n      return undefined;\n    } else if (contexts !== undefined && this.contexts !== undefined) {\n      return [...contexts, ...this.contexts];\n    } else if (contexts !== undefined) {\n      return contexts;\n    } else {\n      return this.contexts;\n    }\n    //return [ ...( this.contexts !== undefined ? this.contexts.map(c => new InlineContext(c)) : [] ), ...( contexts !== undefined ? contexts.map(c => new InlineContext(c)) : [] ) ];\n  }\n  static {\n    this.\u0275fac = function PanelStyleRendererBaseComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PanelStyleRendererBaseComponent)();\n    };\n  }\n  static {\n    this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n      type: PanelStyleRendererBaseComponent,\n      selectors: [[\"classifieds-ui-panel-style-renderer-base\"]],\n      inputs: {\n        settings: \"settings\",\n        panes: \"panes\",\n        originPanes: \"originPanes\",\n        originMappings: \"originMappings\",\n        contexts: \"contexts\",\n        ancestory: \"ancestory\"\n      },\n      standalone: false,\n      decls: 0,\n      vars: 0,\n      template: function PanelStyleRendererBaseComponent_Template(rf, ctx) {},\n      encapsulation: 2\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PanelStyleRendererBaseComponent, [{\n    type: Component,\n    args: [{\n      selector: 'classifieds-ui-panel-style-renderer-base',\n      template: '',\n      standalone: false\n    }]\n  }], null, {\n    settings: [{\n      type: Input\n    }],\n    panes: [{\n      type: Input\n    }],\n    originPanes: [{\n      type: Input\n    }],\n    originMappings: [{\n      type: Input\n    }],\n    contexts: [{\n      type: Input\n    }],\n    ancestory: [{\n      type: Input\n    }]\n  });\n})();\nclass PanelsLoaderService {\n  get panelPageService() {\n    return this.es.getEntityCollectionService('PanelPage');\n  }\n  constructor(es, panelHandler) {\n    this.es = es;\n    this.panelHandler = panelHandler;\n  }\n  reducePage(pp) {\n    return pp.panels.reduce((p, c, i) => this.reducePanels(p, c, i), []);\n  }\n  reducePanels(p, c, i) {\n    return [...p, ...c.panes.reduce((p2, c2, i2) => this.reducePanes(p2, c2, i2).map(o => o.pipe(map(([i3, pp]) => [i, i3, pp]))), [])];\n  }\n  reducePanes(p, c, i) {\n    return [...p, ...(c.contentPlugin === 'panel' ? [this.nestedPage$(c).pipe(map(pp => [i, pp]))] : [])];\n  }\n  nestedPage$(p) {\n    console.log('get nested panel page');\n    return p.linkedPageId && p.linkedPageId !== '' ? this.getByKey(p.linkedPageId).pipe(tap(() => console.log(`get(${p.linkedPageId})`))) : this.getEmbedded(p.settings).pipe(tap(() => console.log('toObject()')));\n  }\n  remapNested(p, nested) {\n    nested.forEach(([index1, index2, np]) => {\n      p.panels[index1].panes[index2].nestedPage = np;\n    });\n  }\n  getByKey(key) {\n    return this.panelPageService.getByKey(key).pipe(map(p => new PanelPage(p)), switchMap(p => iif(() => this.reducePage(p).length > 0, forkJoin(this.reducePage(p)).pipe(tap(nested => this.remapNested(p, nested)), map(() => p)), of(p))));\n  }\n  getEmbedded(settings) {\n    return this.panelHandler.toObject(settings).pipe(map(p => new PanelPage(p)), switchMap(p => iif(() => this.reducePage(p).length > 0, forkJoin(this.reducePage(p)).pipe(tap(nested => this.remapNested(p, nested)), map(() => p)), of(p))));\n  }\n  static {\n    this.\u0275fac = function PanelsLoaderService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PanelsLoaderService)(i0.\u0275\u0275inject(i1$3.EntityServices), i0.\u0275\u0275inject(PanelContentHandler));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: PanelsLoaderService,\n      factory: PanelsLoaderService.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PanelsLoaderService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: i1$3.EntityServices\n  }, {\n    type: PanelContentHandler\n  }], null);\n})();\nclass PanelsSelectorService {\n  constructor(panelHandler) {\n    this.panelHandler = panelHandler;\n  }\n  rebuildPage(panelPage, path) {\n    return new PanelPage({\n      ...panelPage,\n      panels: this.rebuildPanels(panelPage.panels, [...path])\n    });\n  }\n  rebuildPanels(panels, path) {\n    return panels.filter((_, i) => this.rebuildCondition(path[0], i)).map(p => new Panel({\n      ...p,\n      panes: this.rebuildPanes(p.panes, path.slice(1))\n    }));\n  }\n  rebuildPanes(panes, path) {\n    return panes.filter((_, i) => this.rebuildCondition(path[0], i)).map(p => p.contentPlugin === 'panel' ? new Pane({\n      ...p,\n      nestedPage: undefined,\n      settings: this.panelHandler.buildSettings(this.rebuildPage(p.nestedPage, path.slice(1)))\n    }) : new Pane({\n      ...p\n    }));\n  }\n  rebuildCondition(s, i) {\n    return s !== 0 ? s > -1 ? i === s + s * -1 : i !== s * -1 + s : true;\n  }\n  static {\n    this.\u0275fac = function PanelsSelectorService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PanelsSelectorService)(i0.\u0275\u0275inject(PanelContentHandler));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: PanelsSelectorService,\n      factory: PanelsSelectorService.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PanelsSelectorService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: PanelContentHandler\n  }], null);\n})();\nclass PanelStateConverterService {\n  constructor(panelHandler) {\n    this.panelHandler = panelHandler;\n  }\n  convertPageToState(pp) {\n    return of(new PanelPageState()).pipe(switchMap(() => forkJoin(pp.panels.map(p => this.convertPanelToState(p)))), map(panels => new PanelPageState({\n      id: pp.id,\n      panels\n    })));\n  }\n  convertPanelToState(panel) {\n    return of(new PanelState()).pipe(switchMap(() => forkJoin(panel.panes.map(p => this.convertPaneToState(p)))), map(panes => new PanelState({\n      panes\n    })));\n  }\n  convertPaneToState(pane) {\n    return of(new PaneState()).pipe(switchMap(state => iif(() => this.hasNestedPanelPage(pane), this.panelHandler.toObject(pane.settings).pipe(switchMap(panelPage => this.convertPageToState(panelPage)), map(nestedPage => new PaneState({\n      state: new AttributeValue(),\n      nestedPage\n    }))), of(state))));\n  }\n  hasNestedPanelPage(pane) {\n    return pane.contentPlugin === 'panel' && (pane.linkedPageId === undefined || pane.linkedPageId === null || pane.linkedPageId === '');\n  }\n  static {\n    this.\u0275fac = function PanelStateConverterService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PanelStateConverterService)(i0.\u0275\u0275inject(PanelContentHandler));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: PanelStateConverterService,\n      factory: PanelStateConverterService.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PanelStateConverterService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: PanelContentHandler\n  }], null);\n})();\nclass PanelsWalkerService {\n  constructor(panelsLoaderService) {\n    this.panelsLoaderService = panelsLoaderService;\n  }\n  walkPageHierarchy({\n    panelPage,\n    visitorFunc,\n    defaultv,\n    ancestory\n  }) {\n    return new Observable(obs => {\n      const len = panelPage.panels.length;\n      const visitors$ = [];\n      for (let i = 0; i < len; i++) {\n        const len2 = panelPage.panels[i].panes.length;\n        for (let j = 0; j < len2; j++) {\n          visitors$.push(visitorFunc({\n            pane: panelPage.panels[i].panes[j],\n            panelPage,\n            ancestoryWithSelf: [...ancestory, i, j]\n          }));\n          if (panelPage.panels[i].panes[j].nestedPage && panelPage.panels[i].panes[j].nestedPage.panels && panelPage.panels[i].panes[j].nestedPage.panels.length !== 0) {\n            visitors$.push(this.walkPageHierarchy({\n              panelPage,\n              visitorFunc,\n              defaultv,\n              ancestory: [...ancestory, i, j]\n            }));\n          } else if (panelPage.panels[i].panes[j].contentPlugin === 'panel') {\n            // @todo: This is causing infinite recusion on adbrowser page. :( - max call stack exceeded\n            /*visitors$.push(this.panelsLoaderService.nestedPage$(panelPage.panels[i].panes[j]).pipe(\n              switchMap(nestedPage => this.walkPageHierarchy<T>({ panelPage: nestedPage, visitorFunc, defaultv, ancestory: [ ...ancestory, i, j ] }))\n            ));*/\n          }\n        }\n      }\n      if (visitors$.length === 0) {\n        obs.next(defaultv);\n        obs.complete();\n      } else {\n        forkJoin(visitors$).pipe(map(groups => groups.reduce((p, c) => [...p, ...c], defaultv)), tap(values => {\n          obs.next(values);\n          obs.complete();\n        })).subscribe();\n      }\n    });\n  }\n  static {\n    this.\u0275fac = function PanelsWalkerService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PanelsWalkerService)(i0.\u0275\u0275inject(PanelsLoaderService));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: PanelsWalkerService,\n      factory: PanelsWalkerService.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PanelsWalkerService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: PanelsLoaderService\n  }], null);\n})();\nclass PanelsContextService {\n  constructor(panelsVisitorService, cpm) {\n    this.panelsVisitorService = panelsVisitorService;\n    this.cpm = cpm;\n    this.gatherPaneContexts = ({\n      pane,\n      panelPage,\n      ancestoryWithSelf\n    }) => this.cpm.getPlugin(pane.contentPlugin).pipe(switchMap(p => /*p &&*/p.handler ? p.handler.stateDefinition(pane.settings) : of({})), map(state => new InlineContext({\n      // name: 'panestate' + ancestoryWithSelf.map(i => `[${i}]`).join(''), \n      name: 'panestate-' + ancestoryWithSelf.join('-'),\n      adaptor: 'data',\n      plugin: 'panestate',\n      data: {\n        id: panelPage ? panelPage.id : '',\n        selectionPath: [...ancestoryWithSelf],\n        value: state\n      }\n    })), map(paneContext => [paneContext]), take(1));\n  }\n  allActivePageContexts({\n    panelPage,\n    ancestory = []\n  }) {\n    return this.panelsVisitorService.walkPageHierarchy({\n      panelPage,\n      ancestory,\n      visitorFunc: this.gatherPaneContexts,\n      defaultv: []\n    });\n  }\n  static {\n    this.\u0275fac = function PanelsContextService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PanelsContextService)(i0.\u0275\u0275inject(PanelsWalkerService), i0.\u0275\u0275inject(i2.ContentPluginManager));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: PanelsContextService,\n      factory: PanelsContextService.\u0275fac,\n      providedIn: \"root\"\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PanelsContextService, [{\n    type: Injectable,\n    args: [{\n      providedIn: \"root\"\n    }]\n  }], () => [{\n    type: PanelsWalkerService\n  }, {\n    type: i2.ContentPluginManager\n  }], null);\n})();\nclass PanelStateArchitectService {\n  constructor(attributeSerializer) {\n    this.attributeSerializer = attributeSerializer;\n  }\n  buildToAncestorySpec({\n    panelPageState,\n    ancestory\n  }) {\n    for (let i = 0; i < ancestory[0] + 1; i++) {\n      if (panelPageState.panels.length < i + 1) {\n        panelPageState.panels.push(new PanelState());\n      }\n      if (i === ancestory[0] && ancestory.length > 1) {\n        for (let j = 0; j < ancestory[1] + 1; j++) {\n          if (panelPageState.panels[ancestory[0]].panes.length < j + 1) {\n            panelPageState.panels[ancestory[0]].panes.push(new PaneState({\n              state: this.attributeSerializer.serialize({}, 'root')\n            }));\n          }\n          if (j === ancestory[1] && ancestory.length > 2) {\n            if (!panelPageState.panels[ancestory[0]].panes[j].nestedPage) {\n              panelPageState.panels[ancestory[0]].panes[j].nestedPage = new PanelPageState();\n            }\n            this.buildToAncestorySpec({\n              panelPageState: panelPageState.panels[ancestory[0]].panes[j].nestedPage,\n              ancestory: ancestory.slice(2)\n            });\n          }\n        }\n      }\n    }\n  }\n  static {\n    this.\u0275fac = function PanelStateArchitectService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PanelStateArchitectService)(i0.\u0275\u0275inject(i1.AttributeSerializerService));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: PanelStateArchitectService,\n      factory: PanelStateArchitectService.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PanelStateArchitectService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: i1.AttributeSerializerService\n  }], null);\n})();\nclass DynamicPaneService {\n  static {\n    this.\u0275fac = function DynamicPaneService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || DynamicPaneService)();\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: DynamicPaneService,\n      factory: DynamicPaneService.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(DynamicPaneService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nclass StylePluginManager extends BasePluginManager {\n  constructor(pcm, moduleLoader) {\n    super(pcm, moduleLoader);\n  }\n  pluginDef() {\n    return of(new PluginDef({\n      name: 'style'\n    }));\n  }\n  static {\n    this.\u0275fac = function StylePluginManager_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || StylePluginManager)(i0.\u0275\u0275inject(i1$6.PluginConfigurationManager), i0.\u0275\u0275inject(i2$1.ModuleLoaderService));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: StylePluginManager,\n      factory: StylePluginManager.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(StylePluginManager, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: i1$6.PluginConfigurationManager\n  }, {\n    type: i2$1.ModuleLoaderService\n  }], null);\n})();\nclass StyleResolverService {\n  constructor(spm) {\n    this.spm = spm;\n  }\n  alterResolvedPanes({\n    panel,\n    resolvedPanes,\n    originMappings /*, resolvedContexts */\n  }) {\n    return of(undefined).pipe(switchMap(() => panel.stylePlugin && panel.stylePlugin !== '' ? this.spm.getPlugin(panel.stylePlugin) : of(undefined)), switchMap(p => p && p.handler ? p.handler.alterResolvedPanes({\n      settings: panel.settings,\n      resolvedPanes,\n      originMappings /*, resolvedContexts */\n    }) : of({\n      resolvedPanes,\n      originMappings /*, resolvedContexts */\n    })));\n  }\n  static {\n    this.\u0275fac = function StyleResolverService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || StyleResolverService)(i0.\u0275\u0275inject(StylePluginManager));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: StyleResolverService,\n      factory: StyleResolverService.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(StyleResolverService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: StylePluginManager\n  }], null);\n})();\nclass PanelResolverService {\n  // ontentPlugins: Array<ContentPlugin> = [];\n  constructor(\n  // @Inject(CONTENT_PLUGIN) contentPlugins: Array<ContentPlugin>,\n  panelHandler, rulesResolver, inlineContextResolver, cpm) {\n    this.panelHandler = panelHandler;\n    this.rulesResolver = rulesResolver;\n    this.inlineContextResolver = inlineContextResolver;\n    this.cpm = cpm;\n    // this.contentPlugins = contentPlugins;\n  }\n  /**\n   * @todo: This needs to include looking through the rules. Otherwise contexts\n   * only used in rules will not trigger context update chain. A hacky work-around\n   * to this is to include the context token being used in a rule as a hidden value\n   * part of the content. This works for snippets and for the time being is an ok\n   * solution since states are only really relevant to snippets. However, in the long term\n   * the disovery needs to include rules.\n   */\n  usedContexts(panes) {\n    return this.panesPlugins(panes).pipe(switchMap(plugins => this.dataPanes(panes).pipe(map(dataPanes => ({\n      plugins,\n      dataPanes\n    })))), switchMap(({\n      plugins,\n      dataPanes\n    }) => forkJoin(panes.reduce((p, c) => {\n      const plugin = plugins.get(c.contentPlugin);\n      if (plugin.handler !== undefined) {\n        return [...p, plugin.handler.getBindings(c.settings, 'context', new Map([['dataPanes', dataPanes]])).pipe(map(cb => cb.map(b => b.id)))];\n      } else {\n        return [...p];\n      }\n    }, [])).pipe(map(v => v.reduce((p, c) => [...p, ...c], [])))));\n  }\n  staticPanes(panes) {\n    return this.cpm.getPlugins(panes.reduce((p, c) => {\n      return p.findIndex(cp => cp === c.contentPlugin) === -1 ? [...p, c.contentPlugin] : [...p];\n    }, [])).pipe(map(plugins => panes.filter(p => plugins.get(p.contentPlugin).handler === undefined || !plugins.get(p.contentPlugin).handler.isDynamic(p.settings))));\n  }\n  dataPanes(panes) {\n    return this.cpm.getPlugins(panes.reduce((p, c) => {\n      return p.findIndex(cp => cp === c.contentPlugin) === -1 ? [...p, c.contentPlugin] : [...p];\n    }, [])).pipe(map(plugins => panes.filter(p => plugins.get(p.contentPlugin).handler !== undefined && plugins.get(p.contentPlugin).handler.isData(p.settings))));\n  }\n  panesPlugins(panes) {\n    return this.cpm.getPlugins(panes.reduce((p, c) => {\n      return p.findIndex(cp => cp === c.contentPlugin) === -1 ? [...p, c.contentPlugin] : [...p];\n    }, []));\n  }\n  resolvePanes({\n    panes,\n    contexts,\n    resolvedContext\n  }) {\n    /*const staticPanes = panes.reduce<Array<Pane>>((p, c) => {\n      const plugin = this.contentPlugins.find(cp => cp.name === c.contentPlugin);\n      if(plugin.handler === undefined || !plugin.handler.isDynamic(c.settings)) {\n        return [ ...p, c ];\n      } else {\n        return [ ...p ];\n      }\n    }, []);*/\n    console.log('resolve panes');\n    return this.panesPlugins(panes).pipe(switchMap(plugins => forkJoin(panes.reduce((p, c) => {\n      const plugin = plugins.get(c.contentPlugin);\n      if (/*plugin &&*/plugin.handler !== undefined) {\n        return [...p, plugin.handler.getBindings(c.settings, 'pane').pipe(map(c => c.map(c => c.id)))];\n      } else {\n        return [...p, of([])];\n      }\n    }, []))))\n    /*return forkJoin(panes.reduce<Array<Observable<Array<string>>>>((p, c) => {\n      const plugin = this.contentPlugins.find(cp => cp.name === c.contentPlugin);\n      if(plugin.handler !== undefined) {\n        return [ ...p, plugin.handler.getBindings(c.settings, 'pane').pipe(\n          map(c => c.map(c => c.id))\n        ) ];\n      } else {\n        return [ ...p, of([])];\n      }\n    }, []))*/.pipe(map(groups => groups.reduce((p, c) => [...p, ...c], [])), switchMap(bindings => this.panesPlugins(panes).pipe(map(plugins => [bindings, plugins]))), switchMap(([bindings, plugins]) => forkJoin(panes.reduce((p, c) => {\n      const plugin = plugins.get(c.contentPlugin);\n      if (/*plugin &&*/plugin.handler !== undefined && plugin.handler.isDynamic(c.settings)) {\n        // data panes that are used in bindings will not be displayed.\n        return [...p, plugin.handler.isData(c.settings) && bindings.findIndex(n => n === c.name) !== -1 ? of([]) : forkJoin([this.staticPanes(panes), this.dataPanes(panes)]).pipe(switchMap(([staticPanes, dataPanes]) => plugin.handler.buildDynamicItems(c.settings, new Map([...(c.metadata === undefined ? [] : c.metadata), ['tag', uuid.v4()], ['panes', staticPanes], ['dataPanes', dataPanes], ['contexts', contexts !== undefined ? contexts : []]])).pipe(map(items => this.panelHandler.fromPanes(items)), map(panes => this.panelHandler.wrapPanel(panes).panes), take(1))))];\n      } else if (c.name === '' || bindings.findIndex(n => n === c.name) === -1) {\n        return [...p, of([new Pane({\n          ...c,\n          contexts: [...contexts, ...(c.contexts ? c.contexts : [])]\n        })]).pipe(switchMap(panes => iif(() => panes[0].rule !== undefined && panes[0].rule !== null && panes[0].rule.condition !== '', this.rulesResolver.evaluate(panes[0].rule, [...contexts, ...(c.contexts ? c.contexts : [])]).pipe(map(res => res ? panes : [])), of(panes))))];\n      } else {\n        return [...p];\n      }\n    }, [])).pipe(switchMap(paneGroups => iif(() => paneGroups.reduce((p, c) => [...p, ...c], []).length === 0, of([paneGroups, []]), forkJoin([...paneGroups.reduce((p, c) => [...p, ...c.map(pa => pa.contexts && pa.contexts.length !== 0 ? this.inlineContextResolver.resolveAll(pa.contexts).pipe(take(1)) : of({}).pipe(take(1)))], [])]).pipe(map(pc => [paneGroups, pc.map(c => ({\n      ...c,\n      ...resolvedContext\n    }))])))),\n    /*switchMap(paneGroups => paneGroups.reduce((p, c) => [ ...p, ...c ], []).length === 0 ? of([paneGroups,[]]) : forkJoin([\n      ...paneGroups.reduce<Array<Observable<any>>>((p, c) => [ ...p, ...c.map(pa => (pa.contexts && pa.contexts.length !== 0 ? this.inlineContextResolver.resolveAll(pa.contexts).pipe(take(1)) : of({}).pipe(take(1))))], [])\n    ]).pipe(\n      map(pc => [paneGroups, pc.map(c => ({ ...c, ...resolvedContext }))])\n    )),*/\n    map(([paneGroups, resolvedContexts]) => {\n      let resolvedPanes = [];\n      let originMappings = [];\n      paneGroups.forEach((panes, index) => {\n        resolvedPanes = [...(resolvedPanes === undefined ? [] : resolvedPanes), ...panes.map((p, index2) => new Pane({\n          ...p,\n          resolvedContext: resolvedContexts[resolvedPanes.length + index2]\n        }))];\n        originMappings = [...(originMappings ? [] : originMappings), ...panes.map(() => index)];\n      });\n      return {\n        resolvedPanes,\n        originMappings /*, resolvedContexts */\n      };\n    }))));\n  }\n  static {\n    this.\u0275fac = function PanelResolverService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PanelResolverService)(i0.\u0275\u0275inject(PanelContentHandler), i0.\u0275\u0275inject(i3$2.RulesResolverService), i0.\u0275\u0275inject(i3$5.InlineContextResolverService), i0.\u0275\u0275inject(i2.ContentPluginManager));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: PanelResolverService,\n      factory: PanelResolverService.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PanelResolverService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: PanelContentHandler\n  }, {\n    type: i3$2.RulesResolverService\n  }, {\n    type: i3$5.InlineContextResolverService\n  }, {\n    type: i2.ContentPluginManager\n  }], null);\n})();\nclass StylePlugin extends Plugin {\n  constructor(data) {\n    super(data);\n    if (data) {\n      this.name = this.id;\n      this.title = data.title;\n      this.editorComponent = data.editorComponent ? data.editorComponent : undefined;\n      this.renderComponent = data.renderComponent ? data.renderComponent : undefined;\n      if (data.handler) {\n        this.handler = data.handler;\n      }\n    }\n  }\n}\nclass PaneDatasourceService extends DataSource {\n  // private fetchedPages = new Set<number>();\n  constructor() {\n    super();\n    this.pageChange$ = new Subject();\n    this.pageSize = 20;\n    this.dataStream = new BehaviorSubject([]);\n    this.subscription = new Subscription();\n    this.lastPage = 0;\n    this.paneItems = [];\n  }\n  set panes(panes) {\n    this.paneItems = [...this.paneItems, ...panes];\n    // console.log(this.paneItems);\n    this.dataStream.next(this.paneItems);\n    // this.dataStream.next(panes);\n  }\n  connect(collectionViewer) {\n    this.subscription.add(collectionViewer.viewChange.subscribe(range => {\n      const currentPage = Math.ceil((range.end + 1) / this.pageSize);\n      if (currentPage > this.lastPage) {\n        this.lastPage = currentPage;\n        this.pageChange$.next(currentPage);\n      }\n    }));\n    return this.dataStream;\n  }\n  /*connect(collectionViewer: CollectionViewer): Observable<Array<any>> {\n    this.subscription.add(collectionViewer.viewChange.subscribe(range => {\n      const startPage = Math.floor(range.start / this.pageSize);\n      const endPage = Math.floor((range.end - 1) / this.pageSize);\n      for (let i = startPage; i <= endPage; i++) {\n        if (this.fetchedPages.has(i)) {\n          return;\n        }\n        console.log(`fetch page ${i}`);\n        this.pageChange$.next(i);\n        this.fetchedPages.add(i);\n      }\n    }));\n    return this.dataStream;\n  }*/\n  disconnect(collectionViewer) {\n    this.subscription.unsubscribe();\n  }\n  static {\n    this.\u0275fac = function PaneDatasourceService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PaneDatasourceService)();\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: PaneDatasourceService,\n      factory: PaneDatasourceService.\u0275fac\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PaneDatasourceService, [{\n    type: Injectable\n  }], () => [], null);\n})();\nconst selectPageBuilderState = createFeatureSelector(pageBuilderFeatureKey);\nconst selectDataset = tag => createSelector(selectPageBuilderState, state => {\n  const index = state.dataTags.findIndex(t => t === tag);\n  if (index > -1) {\n    return state.datasets[index][state.datasets[index].length - 1];\n  } else {\n    return undefined;\n  }\n});\nconst selectPageInfo = createSelector(selectPageBuilderState, state => state.pageInfo);\nconst selectPage = createSelector(selectPageBuilderState, state => state.page);\nconst selectSelectionPath = createSelector(selectPageBuilderState, state => state.selectionPath);\nconst selectFormNames = createSelector(selectPageBuilderState, state => state.formNames);\nconst selectForms = createSelector(selectPageBuilderState, state => state.forms);\nconst selectForm = createSelector(selectFormNames, selectForms, (names, forms, props) => {\n  const index = names.findIndex(n => n === props.name);\n  if (index > -1) {\n    return forms[index];\n  } else {\n    return undefined;\n  }\n});\n/*export const selectForm = () => createSelector(selectPageBuilderState, (, props) => {\n  const index = state.formNames.findIndex(n => n === props.name);\n  if(index > -1) {\n    return state.forms[index];\n  } else {\n    return undefined;\n  }\n});*/\n\nclass PageBuilderFacade {\n  constructor(store) {\n    this.store = store;\n    this.getPageInfo$ = this.store.pipe(select(selectPageInfo));\n    this.getPage$ = this.store.pipe(select(selectPage));\n    this.getSelectionPath$ = this.store.pipe(select(selectSelectionPath));\n    this.getFormNames$ = this.store.pipe(select(selectFormNames));\n    this.getForm$ = name => this.store.pipe(select(selectForm, {\n      name\n    }));\n  }\n  loadRestData(tag, rest) {\n    this.store.dispatch(loadRestData({\n      tag,\n      rest\n    }));\n  }\n  setPageInfo(info) {\n    this.store.dispatch(setPageInfo({\n      info\n    }));\n  }\n  setPage(page) {\n    this.store.dispatch(setPage({\n      page\n    }));\n  }\n  setSelectionPath(path) {\n    this.store.dispatch(setSelectionPath({\n      path\n    }));\n  }\n  setForm(name, form) {\n    this.store.dispatch(setForm({\n      name,\n      form\n    }));\n  }\n  static {\n    this.\u0275fac = function PageBuilderFacade_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PageBuilderFacade)(i0.\u0275\u0275inject(i1$5.Store));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: PageBuilderFacade,\n      factory: PageBuilderFacade.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PageBuilderFacade, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: i1$5.Store\n  }], null);\n})();\nclass PropertiesFormPayload {\n  constructor(data) {\n    this.readUserIds = [];\n    if (data) {\n      this.title = data.title;\n      this.name = data.name;\n      this.path = data.path;\n      this.cssFile = data.cssFile;\n      if (data.readUserIds) {\n        this.readUserIds = data.readUserIds.map(id => id);\n      }\n    }\n  }\n}\nclass PanelPropsFormPayload {\n  constructor(data) {\n    if (data) {\n      this.label = data.label;\n      this.name = data.name;\n    }\n  }\n}\nclass PanePropsFormPayload {\n  constructor(data) {\n    if (data) {\n      this.label = data.label;\n      this.name = data.name;\n    }\n  }\n}\nclass PanelPageForm {\n  constructor(data) {\n    this.panels = [];\n    if (data) {\n      this.id = data.id;\n      this.name = data.name;\n      this.title = data.title;\n      this.derivativeId = data.derivativeId;\n      this.valid = data.valid ? true : false;\n      if (data.persistence) {\n        this.persistence = new PersistenceFormPayload(data.persistence);\n      }\n      if (data.panels) {\n        this.panels = data.panels.map(p => new PanelPageFormPanel(p));\n      }\n    }\n  }\n}\nclass PanelPageFormPanel {\n  constructor(data) {\n    this.panes = [];\n    if (data) {\n      this.name = data.name;\n      this.label = data.label;\n      if (data.panes) {\n        this.panes = data.panes.map(p => new PanelPageFormPane(p));\n      }\n    }\n  }\n}\nclass PanelPageFormPane {\n  constructor(data) {\n    this.settings = [];\n    if (data) {\n      this.name = data.name;\n      this.label = data.label;\n      this.contentPlugin = data.contentPlugin;\n      if (data.settings) {\n        this.settings = data.settings.map(s => new AttributeValue(s));\n      }\n    }\n  }\n}\nclass FormDatasource {\n  constructor(data) {\n    if (data) {\n      this.name = data.name;\n      this.field = data.field;\n    }\n  }\n}\nclass PaneStateService {\n  constructor(pageBuilderFacade, panelStateArchitectService, attributeSerializer, es) {\n    this.pageBuilderFacade = pageBuilderFacade;\n    this.panelStateArchitectService = panelStateArchitectService;\n    this.attributeSerializer = attributeSerializer;\n    this.selectEntities = entities => entities.entities;\n    this.selectById = ({\n      id\n    }) => createSelector(this.selectEntities, entities => entities[id] ? entities[id] : undefined);\n    this.panelPageStateService = es.getEntityCollectionService('PanelPageState');\n  }\n  mergeState({\n    state,\n    settings,\n    plugin,\n    ancestory\n  }) {\n    return of(state).pipe(switchMap(s => this.pageBuilderFacade.getPageInfo$.pipe(map(p => [s, p]))), switchMap(([s, p]) => plugin.handler.stateDefinition(settings).pipe(map(d => [s, p, d]))), switchMap(([s, p, d]) => this.panelPageStateService.collection$.pipe(select(this.selectById({\n      id: p.id\n    })), map(ps => [s, new PanelPageState(ps ? ps : {\n      id: p.id,\n      panels: []\n    }), d]), take(1))), map(([s, ps, d]) => {\n      this.panelStateArchitectService.buildToAncestorySpec({\n        panelPageState: ps,\n        ancestory: [...ancestory]\n      });\n      const path = '$.' + ancestory.map((index, i) => `${(i + 1) % 2 === 0 ? 'panes' : (i === 0 ? '' : 'nestedPage.') + 'panels'}[${index}]`).join('.');\n      const paneState = jpp.JSONPath({\n        path,\n        json: ps\n      })[0];\n      return [s, ps, d, paneState];\n    }), tap(([s, _, d, ps2]) => {\n      const deserializedState = ps2.state ? ps2.state.root ? this.attributeSerializer.deserialize(ps2.state).root : this.attributeSerializer.deserialize(ps2.state) : {};\n      const newState = merge(!deserializedState || Object.keys(deserializedState).length === 0 ? d : deserializedState, s);\n      ps2.state = this.attributeSerializer.serialize(newState, 'root');\n    }), map(([_, ps, __, ps2]) => ({\n      paneState: ps2,\n      pageState: ps\n    })));\n  }\n  static {\n    this.\u0275fac = function PaneStateService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PaneStateService)(i0.\u0275\u0275inject(PageBuilderFacade), i0.\u0275\u0275inject(PanelStateArchitectService), i0.\u0275\u0275inject(i1.AttributeSerializerService), i0.\u0275\u0275inject(i1$3.EntityServices));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: PaneStateService,\n      factory: PaneStateService.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PaneStateService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: PageBuilderFacade\n  }, {\n    type: PanelStateArchitectService\n  }, {\n    type: i1.AttributeSerializerService\n  }, {\n    type: i1$3.EntityServices\n  }], null);\n})();\nclass FormService {\n  constructor(attributeSerializer) {\n    this.attributeSerializer = attributeSerializer;\n  }\n  serializeForm(form) {\n    const len = form.panels.length;\n    let value = {};\n    for (let i = 0; i < len; i++) {\n      const len2 = form.panels[i].panes.length;\n      // const dsPanes = form.panels[i].panes.map(p => p.contentPlugin === 'datasource' ? this.attributeSerializer.deserializeAsObject(p.settings) : undefined).filter(s => s !== undefined).map(s => s.settings.renderer.contentBindings.map(b => b.id)).reduce((p, c) => [...p, ...c],[]);\n      const dsValues = new Map();\n      for (let j = 0; j < len2; j++) {\n        const serializedValue = this.serializeFormPane(form.panels[i].panes[j]);\n        if (form.panels[i].panes[j].name && form.panels[i].panes[j].name !== null && (value[form.panels[i].panes[j].name] || form.panels[i].panes[j].name === pluralize(form.panels[i].panes[j].name))) {\n          if (!dsValues.has(form.panels[i].panes[j].name)) {\n            dsValues.set(form.panels[i].panes[j].name, typeof value[form.panels[i].panes[j].name] !== 'undefined' ? [value[form.panels[i].panes[j].name]] : []);\n          }\n          const arrayValues = dsValues.get(form.panels[i].panes[j].name);\n          dsValues.set(form.panels[i].panes[j].name, [...arrayValues, serializedValue]);\n        } else {\n          if (form.panels[i].panes[j].name && form.panels[i].panes[j].name !== '') {\n            value = {\n              ...value,\n              [form.panels[i].panes[j].name]: serializedValue\n            };\n          } else {\n            value = {\n              ...value,\n              ...serializedValue\n            };\n          }\n        }\n      }\n      Array.from(dsValues).forEach(([k, v]) => value[k] = v);\n    }\n    return value;\n  }\n  serializeFormPane(pane) {\n    if (pane.contentPlugin === 'panel') {\n      return this.serializeForm(new PanelPageForm(this.attributeSerializer.deserializeAsObject(pane.settings, true)));\n    } else {\n      const value = this.attributeSerializer.deserializeAsObject(pane.settings, true);\n      return value !== undefined ? value.value : undefined;\n    }\n  }\n  static {\n    this.\u0275fac = function FormService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || FormService)(i0.\u0275\u0275inject(i1.AttributeSerializerService));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: FormService,\n      factory: FormService.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(FormService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: i1.AttributeSerializerService\n  }], null);\n})();\nclass FormStateConverterService {\n  constructor(attributeSerializer) {\n    this.attributeSerializer = attributeSerializer;\n  }\n  convertPageToForm({\n    pp,\n    pp2,\n    ancestory,\n    debugPath = []\n  }) {\n    return of(new PanelPageState()).pipe(switchMap(() => forkJoin(pp.panels.map((p, index) => this.convertPanelToForm({\n      panel: p,\n      panel2: pp2.panels[index],\n      ancestory,\n      debugPath: [...debugPath, `convertPageToForm{ index: ${index} }`]\n    })))), map(panels => new PanelPageForm({\n      id: pp.id,\n      panels,\n      name: pp2.name,\n      title: pp2.title,\n      derivativeId: ''\n    })));\n  }\n  convertPanelToForm({\n    panel,\n    panel2,\n    ancestory,\n    debugPath = []\n  }) {\n    return of(new PanelPageFormPanel()).pipe(switchMap(() => forkJoin(panel.panes.map((p, index) => this.convertPaneToForm({\n      pane: p,\n      pane2: panel2.panes[index],\n      ancestory,\n      debugPath: [...debugPath, `convertPanelToForm{ index: ${index} }`]\n    })))), map(panes => new PanelPageFormPanel({\n      panes,\n      name: panel2.name,\n      label: panel2.label\n    })));\n  }\n  convertPaneToForm({\n    pane,\n    pane2,\n    ancestory,\n    debugPath = []\n  }) {\n    const value = pane.state.attributes.find(a => a.name === 'value');\n    return of(new PanelPageFormPane({\n      settings: value ? [value] : [],\n      name: pane2.name,\n      label: pane2.label,\n      contentPlugin: pane2.contentPlugin\n    })).pipe(switchMap(form => iif(() => this.hasNestedPanelPage(pane), pane.nestedPage ? this.convertPageToForm({\n      ancestory,\n      pp: pane.nestedPage,\n      pp2: new PanelPage(this.attributeSerializer.deserializeAsObject(pane2.settings)),\n      debugPath: [...debugPath, `convertPaneToForm`]\n    }).pipe(map(nestedPage => new PanelPageFormPane({\n      ...form,\n      settings: this.attributeSerializer.serialize(nestedPage, 'root').attributes\n    }))) : of(form), of(form))));\n  }\n  hasNestedPanelPage(pane) {\n    return !!pane.nestedPage;\n  }\n  static {\n    this.\u0275fac = function FormStateConverterService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || FormStateConverterService)(i0.\u0275\u0275inject(i1.AttributeSerializerService));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: FormStateConverterService,\n      factory: FormStateConverterService.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(FormStateConverterService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: i1.AttributeSerializerService\n  }], null);\n})();\nclass FormGroupConverterService {\n  constructor(attributeSerializer, fb) {\n    this.attributeSerializer = attributeSerializer;\n    this.fb = fb;\n  }\n  makeFormGroupFromPage(pp, pp2) {\n    return of(this.fb.group({\n      /*name: this.fb.control(pp.name),*/panels: this.fb.array([])\n    })).pipe(switchMap(pageFormGroup => forkJoin(pp.panels.map((p, index) => this.makeFormGroupFromPanel(p, pp2.panels[index]))).pipe(map(panelGroups => ({\n      panelGroups,\n      pageFormGroup\n    })))), tap(({\n      panelGroups,\n      pageFormGroup\n    }) => {\n      const len = panelGroups.length;\n      for (let i = 0; i < len; i++) {\n        pageFormGroup.get('panels').push(panelGroups[i]);\n      }\n    }), map(({\n      pageFormGroup\n    }) => pageFormGroup));\n  }\n  makeFormGroupFromPanel(panel, panel2) {\n    return of(this.fb.group({\n      name: this.fb.control(panel.name),\n      panes: this.fb.array([])\n    })).pipe(switchMap(panelFormGroup => forkJoin(panel.panes.map((p, index) => this.makeFormGroupFromPane(p, panel2.panes[index]))).pipe(map(paneGroups => ({\n      paneGroups,\n      panelFormGroup\n    })))), tap(({\n      paneGroups,\n      panelFormGroup\n    }) => {\n      const len = paneGroups.length;\n      for (let i = 0; i < len; i++) {\n        panelFormGroup.get('panes').push(paneGroups[i]);\n      }\n    }), map(({\n      panelFormGroup\n    }) => panelFormGroup));\n  }\n  makeFormGroupFromPane(pane, pane2) {\n    const value = pane2 ? pane2.settings.find(a => a.name === 'value') : undefined;\n    return of(this.fb.group({\n      name: this.fb.control(pane.name),\n      contentPlugin: this.fb.control(''),\n      settings: this.fb.array([])\n    })).pipe(switchMap(paneFormGroup => iif(() => this.hasNestedPanelPage(pane), this.hasNestedPanelPage(pane) ? this.makeFormGroupFromPage(pane.nestedPage, new PanelPageForm(this.attributeSerializer.deserializeAsObject(pane2.settings))).pipe(tap(pageFormGroup => {\n      const newGroup = this.attributeSerializer.convertToGroup(this.attributeSerializer.serialize(pageFormGroup.value, 'value').attributes[0]);\n      paneFormGroup.get('contentPlugin').setValue('panel');\n      paneFormGroup.get('settings').push(newGroup);\n    }), map(() => paneFormGroup)) : of(paneFormGroup).pipe(tap(() => {\n      if (value) {\n        const newGroup = this.attributeSerializer.convertToGroup(value);\n        paneFormGroup.get('settings').push(newGroup);\n      }\n    })), of(paneFormGroup).pipe(tap(() => {\n      if (value) {\n        const newGroup = this.attributeSerializer.convertToGroup(value);\n        paneFormGroup.get('settings').push(newGroup);\n      }\n    })))));\n  }\n  hasNestedPanelPage(pane) {\n    return !!pane.nestedPage;\n  }\n  static {\n    this.\u0275fac = function FormGroupConverterService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || FormGroupConverterService)(i0.\u0275\u0275inject(i1.AttributeSerializerService), i0.\u0275\u0275inject(i1$1.UntypedFormBuilder));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: FormGroupConverterService,\n      factory: FormGroupConverterService.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(FormGroupConverterService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: i1.AttributeSerializerService\n  }, {\n    type: i1$1.UntypedFormBuilder\n  }], null);\n})();\nclass CssHelperService {\n  makeJsonNode() {\n    return {\n      attributes: {},\n      children: {}\n    };\n  }\n  reduceCss(css, match, matches = true) {\n    return css && css.children ? Object.keys(css.children).filter(k => matches ? k.indexOf(match) === 0 : k.indexOf(match) !== 0).reduce((p, c) => ({\n      ...p,\n      children: {\n        ...p.children,\n        [matches ? c.substr(c.indexOf(match) + match.length).trim() : c]: css.children[c]\n      }\n    }), this.makeJsonNode()) : this.makeJsonNode();\n  }\n  reduceSelector(css, match, matches = true) {\n    return css ? Object.keys(css).filter(k => matches ? k.indexOf(match) === 0 : k.indexOf(match) !== 0).reduce((p, c) => ({\n      ...p,\n      [matches ? c.substr(c.indexOf(match) + match.length).trim() : c]: css[c]\n    }), {}) : {};\n  }\n  static {\n    this.\u0275fac = function CssHelperService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CssHelperService)();\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: CssHelperService,\n      factory: CssHelperService.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(CssHelperService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\n\n/*\n * Public API Surface of panels\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CssHelperService, DatasourceContentHandler, DatasourceEditorComponent, DynamicPaneService, FormDatasource, FormGroupConverterService, FormService, FormStateConverterService, GridItem, GridLayout, LayoutEditorBaseComponent, LayoutRendererBaseComponent, LayoutSetting, PANELS_SETTINGS, PageBuilderFacade, Pane, PaneDatasourceService, PanePropsFormPayload, PaneState, PaneStateService, Panel, PanelContentHandler, PanelEditorComponent, PanelPage, PanelPageForm, PanelPageFormPane, PanelPageFormPanel, PanelPageLinkedlistComponent, PanelPageListItem, PanelPagePermissions, PanelPageSelector, PanelPageState, PanelPageStateSlice, PanelPropsFormPayload, PanelResolverService, PanelSelectorComponent, PanelState, PanelStateArchitectService, PanelStateConverterService, PanelStyleRendererBaseComponent, PanelsContextService, PanelsLoaderService, PanelsModule, PanelsSelectorService, PanelsSettings, PanelsWalkerService, PropertiesFormPayload, STYLE_PLUGIN, StylePlugin, StylePluginManager, StyleResolverService, initialState, loadRestData, loadRestDataError, loadRestDataSuccess, pageBuilderFeatureKey, reducer, selectDataset, selectForm, selectFormNames, selectForms, selectPage, selectPageBuilderState, selectPageInfo, selectSelectionPath, setForm, setPage, setPageInfo, setSelectionPath };\n"],
  "mappings": "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",
  "names": ["i", "p", "bindings", "i", "i2", "i3", "c", "panes", "props"]
}
