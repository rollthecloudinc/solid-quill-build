{
  "version": 3,
  "sources": ["../../@rollthecloudinc/refinery/fesm2022/rollthecloudinc-refinery.mjs"],
  "sourcesContent": ["import * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Directive, Injectable, forwardRef, ViewChild, Input, Component, Inject, NgModule } from '@angular/core';\nimport * as i2$1 from '@angular/forms';\nimport { Validators, NG_VALUE_ACCESSOR, NG_VALIDATORS, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MaterialModule } from '@rollthecloudinc/material';\nimport * as i1$1 from '@angular/material/dialog';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport * as i1 from '@rollthecloudinc/plugin';\nimport { Plugin, BasePluginManager, PluginDef } from '@rollthecloudinc/plugin';\nimport * as i3$1 from '@rollthecloudinc/attributes';\nimport { AttributeValue } from '@rollthecloudinc/attributes';\nimport * as i4$1 from '@angular/material/button';\nimport { of, BehaviorSubject, Subject, combineLatest, switchMap as switchMap$1, map as map$1 } from 'rxjs';\nimport { filter, map, tap, delay, switchMap } from 'rxjs/operators';\nimport * as i2 from '@rollthecloudinc/utils';\nimport * as i4 from '@angular/material/autocomplete';\nimport * as i5 from '@angular/material/input';\nimport * as i6 from '@angular/material/select';\nfunction PersistenceFormComponent_mat_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.\u0275\u0275elementStart(0, \"mat-option\", 4);\n    i0.\u0275\u0275text(1);\n    i0.\u0275\u0275elementEnd();\n  }\n  if (rf & 2) {\n    const duct_r1 = ctx.$implicit;\n    i0.\u0275\u0275property(\"value\", duct_r1.value.id);\n    i0.\u0275\u0275advance();\n    i0.\u0275\u0275textInterpolate(duct_r1.value.title);\n  }\n}\nfunction PersistenceFormComponent_ng_template_9_Template(rf, ctx) {}\nclass DataductPlugin extends Plugin {\n  constructor(data) {\n    super(data);\n    if (data) {\n      this.editor = data.editor;\n      this.send = data.send;\n    }\n  }\n}\nclass DuctdataInput {\n  constructor(data) {\n    this.settings = [];\n    if (data) {\n      this.data = data.data;\n      if (data.settings && Array.isArray(data.settings)) {\n        this.settings = data.settings.map(s => new AttributeValue(s));\n      }\n    }\n  }\n}\nclass DuctdataOutput {\n  constructor(data) {\n    if (data) {}\n  }\n}\nclass PersistenceFormPayload {\n  constructor(data) {\n    if (data) {\n      this.dataduct = new PersistenceFormDataduct(data.dataduct);\n    }\n  }\n}\nclass PersistenceFormDataduct {\n  constructor(data) {\n    this.settings = [];\n    if (data) {\n      this.plugin = data.plugin;\n      if (data.settings && Array.isArray(data.settings)) {\n        this.settings = data.settings.map(s => new AttributeValue(s));\n      }\n    }\n  }\n}\nclass DataductRenderHostDirective {\n  constructor(viewContainerRef) {\n    this.viewContainerRef = viewContainerRef;\n  }\n  static {\n    this.\u0275fac = function DataductRenderHostDirective_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || DataductRenderHostDirective)(i0.\u0275\u0275directiveInject(i0.ViewContainerRef));\n    };\n  }\n  static {\n    this.\u0275dir = /* @__PURE__ */i0.\u0275\u0275defineDirective({\n      type: DataductRenderHostDirective,\n      selectors: [[\"\", \"classifiedsUiDataductRendererHost\", \"\"]],\n      standalone: false\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(DataductRenderHostDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[classifiedsUiDataductRendererHost]',\n      standalone: false\n    }]\n  }], () => [{\n    type: i0.ViewContainerRef\n  }], null);\n})();\nclass DataductPluginManager extends BasePluginManager {\n  constructor(pcm, moduleLoader) {\n    super(pcm, moduleLoader);\n  }\n  pluginDef() {\n    return of(new PluginDef({\n      name: 'dataduct'\n    }));\n  }\n  static {\n    this.\u0275fac = function DataductPluginManager_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || DataductPluginManager)(i0.\u0275\u0275inject(i1.PluginConfigurationManager), i0.\u0275\u0275inject(i2.ModuleLoaderService));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: DataductPluginManager,\n      factory: DataductPluginManager.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(DataductPluginManager, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: i1.PluginConfigurationManager\n  }, {\n    type: i2.ModuleLoaderService\n  }], null);\n})();\nclass PersistenceFormComponent {\n  set persistence(persistence) {\n    this.persistence$.next(persistence);\n  }\n  constructor(dpm,\n  // private componentFactoryResolver: ComponentFactoryResolver,\n  fb) {\n    this.dpm = dpm;\n    this.fb = fb;\n    this.contexts = [];\n    this.ductForm = this.fb.group({\n      plugin: this.fb.control('', [Validators.required]),\n      settings: this.fb.control('')\n    });\n    this.ducts$ = this.dpm.getPlugins();\n    this.componentRef$ = new BehaviorSubject(undefined);\n    this.persistence$ = new BehaviorSubject(undefined);\n    this.afterViewInit$ = new Subject();\n    this.contextForwardingSub = this.componentRef$.pipe(filter(componentRef => !!componentRef)).subscribe(componentRef => {\n      componentRef.instance.contexts = this.contexts;\n      componentRef.instance.settings = this.persistence$.value && this.persistence$.value.dataduct ? this.persistence$.value.dataduct.settings : [];\n    });\n    this.persistenceSub = combineLatest([this.persistence$, this.afterViewInit$]).pipe(map(([p]) => p), tap(persistence => {\n      this.ductForm.get('plugin').setValue(persistence && persistence.dataduct ? persistence.dataduct.plugin : '');\n    }), delay(1), tap(persistence => {\n      if (this.componentRef$.value && this.componentRef$.value.instance && persistence) {\n        this.componentRef$.value.instance.settings = persistence.dataduct ? persistence.dataduct.settings : [];\n      }\n    })).subscribe();\n    this.rendererSub = combineLatest([this.ductForm.get('plugin').valueChanges, this.afterViewInit$]).pipe(switchMap(([p, _]) => p && p !== '' ? this.dpm.getPlugin(p) : of(undefined))).subscribe(p => {\n      if (p) {\n        this.renderPlugin(p);\n      }\n    });\n    this.onTouched = () => {};\n  }\n  ngAfterViewInit() {\n    this.afterViewInit$.next(undefined);\n  }\n  writeValue(val) {\n    if (val) {\n      this.ductForm.setValue(val, {\n        emitEvent: false\n      });\n    }\n  }\n  registerOnChange(fn) {\n    this.ductForm.valueChanges.subscribe(fn);\n  }\n  registerOnTouched(fn) {\n    this.onTouched = fn;\n  }\n  setDisabledState(isDisabled) {\n    if (isDisabled) {\n      this.ductForm.disable();\n    } else {\n      this.ductForm.enable();\n    }\n  }\n  validate(c) {\n    return this.ductForm.valid ? null : this.ductForm.errors;\n  }\n  renderPlugin(plugin) {\n    const viewContainerRef = this.datasourceHost.viewContainerRef;\n    viewContainerRef.clear();\n    this.componentRef$.next(viewContainerRef.createComponent(plugin.editor));\n  }\n  static {\n    this.\u0275fac = function PersistenceFormComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PersistenceFormComponent)(i0.\u0275\u0275directiveInject(DataductPluginManager), i0.\u0275\u0275directiveInject(i2$1.UntypedFormBuilder));\n    };\n  }\n  static {\n    this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n      type: PersistenceFormComponent,\n      selectors: [[\"classifieds-ui-persistence-form\"]],\n      viewQuery: function PersistenceFormComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.\u0275\u0275viewQuery(DataductRenderHostDirective, 7);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.\u0275\u0275queryRefresh(_t = i0.\u0275\u0275loadQuery()) && (ctx.datasourceHost = _t.first);\n        }\n      },\n      inputs: {\n        contexts: \"contexts\",\n        persistence: \"persistence\"\n      },\n      standalone: false,\n      features: [i0.\u0275\u0275ProvidersFeature([{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => PersistenceFormComponent),\n        multi: true\n      }, {\n        provide: NG_VALIDATORS,\n        useExisting: forwardRef(() => PersistenceFormComponent),\n        multi: true\n      }])],\n      decls: 10,\n      vars: 6,\n      consts: [[3, \"formGroup\"], [\"required\", \"\", \"formControlName\", \"plugin\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"classifiedsUiDataductRendererHost\", \"\"], [3, \"value\"]],\n      template: function PersistenceFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.\u0275\u0275elementStart(0, \"div\", 0)(1, \"mat-form-field\")(2, \"mat-label\");\n          i0.\u0275\u0275text(3, \"Plugin\");\n          i0.\u0275\u0275elementEnd();\n          i0.\u0275\u0275elementStart(4, \"mat-select\", 1);\n          i0.\u0275\u0275template(5, PersistenceFormComponent_mat_option_5_Template, 2, 2, \"mat-option\", 2);\n          i0.\u0275\u0275pipe(6, \"async\");\n          i0.\u0275\u0275pipe(7, \"keyvalue\");\n          i0.\u0275\u0275elementEnd()();\n          i0.\u0275\u0275elementContainerStart(8);\n          i0.\u0275\u0275template(9, PersistenceFormComponent_ng_template_9_Template, 0, 0, \"ng-template\", 3);\n          i0.\u0275\u0275elementContainerEnd();\n          i0.\u0275\u0275elementEnd();\n        }\n        if (rf & 2) {\n          i0.\u0275\u0275property(\"formGroup\", ctx.ductForm);\n          i0.\u0275\u0275advance(5);\n          i0.\u0275\u0275property(\"ngForOf\", i0.\u0275\u0275pipeBind1(7, 4, i0.\u0275\u0275pipeBind1(6, 2, ctx.ducts$)));\n        }\n      },\n      dependencies: [i3.NgForOf, i2$1.NgControlStatus, i2$1.NgControlStatusGroup, i2$1.RequiredValidator, i2$1.FormGroupDirective, i2$1.FormControlName, i4.MatOption, i5.MatFormField, i5.MatLabel, i6.MatSelect, DataductRenderHostDirective, i3.AsyncPipe, i3.KeyValuePipe],\n      encapsulation: 2\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PersistenceFormComponent, [{\n    type: Component,\n    args: [{\n      selector: 'classifieds-ui-persistence-form',\n      providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => PersistenceFormComponent),\n        multi: true\n      }, {\n        provide: NG_VALIDATORS,\n        useExisting: forwardRef(() => PersistenceFormComponent),\n        multi: true\n      }],\n      standalone: false,\n      template: \"<div [formGroup]=\\\"ductForm\\\">\\n\\n  <mat-form-field>\\n    <mat-label>Plugin</mat-label>\\n    <mat-select required formControlName=\\\"plugin\\\">\\n      <mat-option *ngFor=\\\"let duct of ((ducts$ | async) | keyvalue) let i = index\\\" [value]=\\\"duct.value.id\\\">{{ duct.value.title }}</mat-option>\\n    </mat-select>\\n  </mat-form-field>\\n\\n  <ng-container><ng-template classifiedsUiDataductRendererHost></ng-template></ng-container>\\n\\n</div>\"\n    }]\n  }], () => [{\n    type: DataductPluginManager\n  }, {\n    type: i2$1.UntypedFormBuilder\n  }], {\n    contexts: [{\n      type: Input\n    }],\n    persistence: [{\n      type: Input\n    }],\n    datasourceHost: [{\n      type: ViewChild,\n      args: [DataductRenderHostDirective, {\n        static: true\n      }]\n    }]\n  });\n})();\nclass PersistenceDialogComponent {\n  constructor(data, dialogRef, fb, attributeSerializer) {\n    this.data = data;\n    this.dialogRef = dialogRef;\n    this.fb = fb;\n    this.attributeSerializer = attributeSerializer;\n    this.persistenceForm = this.fb.group({\n      dataduct: this.fb.control('')\n    });\n    this.contexts = [];\n    this.persistence = new PersistenceFormPayload();\n    this.contexts = data.contexts;\n    this.persistence = data.persistence;\n  }\n  submit() {\n    const data = this.persistenceForm.value;\n    console.log('persistence form', data);\n    const settings = this.attributeSerializer.serialize(data.dataduct.settings, 'settings');\n    console.log('persistence settings', settings);\n    this.dialogRef.close(new PersistenceFormPayload({\n      ...this.persistenceForm.value,\n      dataduct: {\n        ...data.dataduct,\n        settings: settings.attributes\n      }\n    }));\n  }\n  static {\n    this.\u0275fac = function PersistenceDialogComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PersistenceDialogComponent)(i0.\u0275\u0275directiveInject(MAT_DIALOG_DATA), i0.\u0275\u0275directiveInject(i1$1.MatDialogRef), i0.\u0275\u0275directiveInject(i2$1.UntypedFormBuilder), i0.\u0275\u0275directiveInject(i3$1.AttributeSerializerService));\n    };\n  }\n  static {\n    this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n      type: PersistenceDialogComponent,\n      selectors: [[\"classifieds-ui-persistence-dialog\"]],\n      standalone: false,\n      decls: 8,\n      vars: 4,\n      consts: [[1, \"persistence-form\", 3, \"ngSubmit\", \"formGroup\"], [1, \"content-inner\"], [\"fxLayout\", \"column\"], [\"formControlName\", \"dataduct\", 3, \"contexts\", \"persistence\"], [\"type\", \"submit\", \"mat-raised-button\", \"\", \"color\", \"primary\", \"mat-dialog-close\", \"\", 3, \"disabled\"]],\n      template: function PersistenceDialogComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.\u0275\u0275elementStart(0, \"form\", 0);\n          i0.\u0275\u0275listener(\"ngSubmit\", function PersistenceDialogComponent_Template_form_ngSubmit_0_listener() {\n            return ctx.submit();\n          });\n          i0.\u0275\u0275elementStart(1, \"mat-dialog-content\")(2, \"div\", 1)(3, \"div\", 2);\n          i0.\u0275\u0275element(4, \"classifieds-ui-persistence-form\", 3);\n          i0.\u0275\u0275elementEnd()()();\n          i0.\u0275\u0275elementStart(5, \"mat-dialog-actions\")(6, \"button\", 4);\n          i0.\u0275\u0275text(7, \"Save\");\n          i0.\u0275\u0275elementEnd()()();\n        }\n        if (rf & 2) {\n          i0.\u0275\u0275property(\"formGroup\", ctx.persistenceForm);\n          i0.\u0275\u0275advance(4);\n          i0.\u0275\u0275property(\"contexts\", ctx.contexts)(\"persistence\", ctx.persistence);\n          i0.\u0275\u0275advance(2);\n          i0.\u0275\u0275property(\"disabled\", !ctx.persistenceForm.valid);\n        }\n      },\n      dependencies: [i2$1.\u0275NgNoValidate, i2$1.NgControlStatus, i2$1.NgControlStatusGroup, i2$1.FormGroupDirective, i2$1.FormControlName, i4$1.MatButton, i1$1.MatDialogClose, i1$1.MatDialogActions, i1$1.MatDialogContent, PersistenceFormComponent],\n      encapsulation: 2\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PersistenceDialogComponent, [{\n    type: Component,\n    args: [{\n      selector: 'classifieds-ui-persistence-dialog',\n      standalone: false,\n      template: \"<form class=\\\"persistence-form\\\" [formGroup]=\\\"persistenceForm\\\" (ngSubmit)=\\\"submit()\\\">\\n  <mat-dialog-content>\\n    <div class=\\\"content-inner\\\">\\n      <div fxLayout=\\\"column\\\">\\n        <classifieds-ui-persistence-form formControlName=\\\"dataduct\\\" [contexts]=\\\"contexts\\\" [persistence]=\\\"persistence\\\"></classifieds-ui-persistence-form>\\n      </div>\\n    </div>\\n  </mat-dialog-content>\\n  <mat-dialog-actions>\\n    <button type=\\\"submit\\\" mat-raised-button color=\\\"primary\\\" mat-dialog-close [disabled]=\\\"!persistenceForm.valid\\\">Save</button>\\n  </mat-dialog-actions>\\n</form>\\n\"\n    }]\n  }], () => [{\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [MAT_DIALOG_DATA]\n    }]\n  }, {\n    type: i1$1.MatDialogRef\n  }, {\n    type: i2$1.UntypedFormBuilder\n  }, {\n    type: i3$1.AttributeSerializerService\n  }], null);\n})();\nclass RefineryModule {\n  static {\n    this.\u0275fac = function RefineryModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || RefineryModule)();\n    };\n  }\n  static {\n    this.\u0275mod = /* @__PURE__ */i0.\u0275\u0275defineNgModule({\n      type: RefineryModule\n    });\n  }\n  static {\n    this.\u0275inj = /* @__PURE__ */i0.\u0275\u0275defineInjector({\n      imports: [CommonModule, FormsModule, ReactiveFormsModule, MaterialModule]\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(RefineryModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [PersistenceDialogComponent, PersistenceFormComponent, DataductRenderHostDirective],\n      imports: [CommonModule, FormsModule, ReactiveFormsModule, MaterialModule],\n      exports: [PersistenceDialogComponent, PersistenceFormComponent]\n    }]\n  }], null, null);\n})();\nclass PersistService {\n  constructor(dpm) {\n    this.dpm = dpm;\n  }\n  persist({\n    data,\n    persistence\n  }) {\n    return this.dpm.getPlugin(persistence.dataduct.plugin).pipe(switchMap$1(p => p.send(new DuctdataInput({\n      data,\n      settings: persistence.dataduct.settings\n    }))), map$1(() => undefined));\n  }\n  static {\n    this.\u0275fac = function PersistService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PersistService)(i0.\u0275\u0275inject(DataductPluginManager));\n    };\n  }\n  static {\n    this.\u0275prov = /* @__PURE__ */i0.\u0275\u0275defineInjectable({\n      token: PersistService,\n      factory: PersistService.\u0275fac,\n      providedIn: 'root'\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(PersistService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: DataductPluginManager\n  }], null);\n})();\n\n/*\n * Public API Surface of refinery\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { DataductPlugin, DataductPluginManager, DuctdataInput, DuctdataOutput, PersistService, PersistenceDialogComponent, PersistenceFormComponent, PersistenceFormDataduct, PersistenceFormPayload, RefineryModule };\n"],
  "mappings": "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",
  "names": ["map", "switchMap", "map", "switchMap"]
}
